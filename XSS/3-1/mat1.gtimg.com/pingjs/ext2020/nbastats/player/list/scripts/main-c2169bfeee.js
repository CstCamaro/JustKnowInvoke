!function(){!function(){function e(e,t){return(/string|function/.test(typeof t)?i:s)(e,t)}function t(e,r){return"string"!=typeof e&&(r=typeof e,"number"===r?e+="":e="function"===r?t(e.call(e)):""),e}function r(e){return g[e]}function n(e){return t(e).replace(/&(?![\w#]+;)|[<>"']/g,r)}function a(e,t){if(u(e))for(var r=0,n=e.length;r<n;r++)t.call(e,e[r],r,e);else for(r in e)t.call(e,e[r],r)}function o(e,t){var r=/(\/)[^\/]+\1\.\.\1/,n=("./"+e).replace(/[^\/]+$/,""),a=n+t;for(a=a.replace(/\/\.\//g,"/");a.match(r);)a=a.replace(r,"/");return a}function s(t,r){var n=e.get(t)||l({filename:t,name:"Render Error",message:"Template not found"});return r?n(r):n}function i(e,t){if("string"==typeof t){var r=t;t=function(){return new c(r)}}var n=d[e]=function(r){try{return new t(r,e)+""}catch(n){return l(n)()}};return n.prototype=t.prototype=p,n.toString=function(){return t+""},n}function l(e){var t="{Template Error}",r=e.stack||"";if(r)r=r.split("\n").slice(0,2).join("\n");else for(var n in e)r+="<"+n+">\n"+e[n]+"\n\n";return function(){return"object"==typeof console&&console.error(t+"\n\n"+r),t}}var d=e.cache={},c=this.String,g={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},u=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},p=e.utils={$helpers:{},$include:function(e,t,r){return e=o(r,e),s(e,t)},$string:t,$escape:n,$each:a},f=e.helpers=p.$helpers;e.get=function(e){return d[e.replace(/^\.\//,"")]},e.helper=function(e,t){f[e]=t},"function"==typeof define?define("templateModule",[],function(){return e}):"undefined"!=typeof exports?module.exports=e:this.template=e,e("players",function(e,t){"use strict";var r=this,n=(r.$helpers,r.$each),a=e.players,o=(e.p,e.i,r.$escape),s="";return s+='<table cellspacing="0" cellpadding="0"> <thead> <tr> <td align="center" width="10%"></td> <td align="left">\u59d3\u540d</td> <td align="left">\u82f1\u6587</td> <td align="center" width="8%">\u53f7\u7801</td> <td align="center" width="10%">\u4f4d\u7f6e</td> <td align="center" width="10%">\u8eab\u9ad8(cm)</td> <td align="center" width="10%">\u4f53\u91cd(kg)</td> <td align="center" width="8%">\u5e74\u9f84</td> <td align="center" width="8%">\u7403\u9f84</td> </tr> </thead> <tbody> ',n(a,function(e,t){s+=' <tr> <td align="center"> <a href="//nba.stats.qq.com/player/?id=',s+=o(e.playerBaseInfo.playerId),s+='" class="avatar" bosszone="qy_Chinese"> <img src="',s+=o(e.playerBaseInfo.picFromSIB),s+='" onerror="this.onerror=null;this.src=\'//mat1.gtimg.com/sports/nba/logo/qymoren.png\';"> </a> </td> <td align="left"> <a href="//nba.stats.qq.com/player/?id=',s+=o(e.playerBaseInfo.playerId),s+='" title="',s+=o(e.playerBaseInfo.cnName),s+='" bosszone="qy_Chinese">',s+=o(e.playerBaseInfo.cnName),s+='</a> </td> <td align="left" class="en"> <a href="//nba.stats.qq.com/player/?id=',s+=o(e.playerBaseInfo.playerId),s+='" title="',s+=o(e.playerBaseInfo.enName),s+='" bosszone="qy_English">',s+=o(e.playerBaseInfo.enName),s+='</a> </td> <td align="center">',s+=o(e.playerBaseInfo.jerseyNum),s+='</td> <td align="center">',s+=o(e.playerBaseInfo.position||"-"),s+='</td> <td align="center">',s+=o(e.playerBaseInfo.height),s+='</td> <td align="center">',s+=o(e.playerBaseInfo.weight),s+='</td> <td align="center">',s+=o(e.playerBaseInfo.age),s+='</td> <td align="center">',s+=o(e.playerBaseInfo.careerAge||"-"),s+="</td> </tr> "}),s+=" </tbody> </table> ",new c(s)}),e("teams",function(e,t){"use strict";var r=this,n=(r.$helpers,r.$each),a=e.data,o=e.keys,s=(e.t,e.i,e.key,e.j,r.$escape),i="";return i+='<table bosszone="qy_Team"> <thead> <tr><td>\u4e1c\u90e8</td><td>\u897f\u90e8</td></tr> </thead> <tbody> ',n(a[o[0]],function(e,t){i+=" <tr> ",n(o,function(e,r){i+=' <td> <a href="//nba.stats.qq.com/team/?id=',i+=s(a[e][t].teamId),i+='" data-teamId="',i+=s(a[e][t].teamId),i+='"> <img src="',i+=s(a[e][t].badge),i+='"> <span>',i+=s(a[e][t].name),i+="</span> </a> </td> "}),i+=" </tr> "}),i+=" </tbody> </table> ",new c(i)})}(),define("dataCtrl",["promise"],function(e){var t=!1,r=function(e,r){t=!0,$.ajax({async:!0,url:e,dataType:"jsonp",cache:!0,scriptCharset:"utf-8",success:function(e){r(e)},error:function(e){console.log(e)}})},n=new e(function(e){r("//matchweb.sports.qq.com/tools/getCurCompetition?competitionId=100000",function(t){0==t.code&&e(t.data)})}),a=function(t){return new e(function(e,a){n.then(function(n){var a="//ziliaoku.sports.qq.com/cube/index?cubeId=10&dimId=31&params=t2:"+n.seasonId+"|t3:1|t4:"+t+"&from=sportsdatabase";r(a,function(t){0==t.code&&e(t.data)})})})},o=function(t){var n="//ziliaoku.sports.qq.com/cube/index?&cubeId=8&dimId=5&params=t1:"+t+"&from=sportsdatabase";return new e(function(e,t){r(n,function(t){0==t.code&&e(t.data)})})};return{getPlayerListByTeamId:a,getPlayerInfoByPlayerId:o}}),define("lib/getAge",[],function(){function e(e){var t,r=/^\s*(\d{4})-(\d\d)-(\d\d)\s*$/,n=new Date(NaN),a=r.exec(e);return a&&(t=+a[2],n.setFullYear(a[1],t-1,a[3]),t!=n.getMonth()+1&&n.setTime(NaN)),n}function t(t){var r=new Date,n=e(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return(o<0||0===o&&r.getDate()<n.getDate())&&a--,a}return{getAge:t,parseISO8601:e}}),function(e){"function"==typeof define&&define.amd?define("lib/jquery.tablesorter",["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(t){"use strict";var r=t.tablesorter={version:"2.27.6",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(e,n){if(!e||!e.tHead||0===e.tBodies.length||e.hasInitialized===!0)return void(n.debug&&(e.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",e)));var a="",o=t(e),s=t.metadata;e.hasInitialized=!1,e.isProcessing=!0,e.config=n,t.data(e,"tablesorter",n),n.debug&&(console[console.group?"group":"log"]("Initializing tablesorter"),t.data(e,"startoveralltimer",new Date)),n.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(t.fn.jquery.split(".")),n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),n.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(o.attr("class"))||(a=""!==n.theme?" tablesorter-"+n.theme:""),n.table=e,n.$table=o.addClass(r.css.table+" "+n.tableClass+a).attr("role","grid"),n.$headers=o.find(n.selectorHeaders),n.namespace?n.namespace="."+n.namespace.replace(r.regex.nonWord,""):n.namespace=".tablesorter"+Math.random().toString(16).slice(2),n.$table.children().children("tr").attr("role","row"),n.$tbodies=o.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&(a=n.$table.children("caption")[0],a.id||(a.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",a.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",r.buildHeaders(n),r.fixColumnWidth(e),r.addWidgetFromClass(e),r.applyWidgetOptions(e),r.setupParsers(n),n.totalRows=0,n.delayInit||r.buildCache(n),r.bindEvents(e,n.$headers,!0),r.bindMethods(n),n.supportsDataObject&&"undefined"!=typeof o.data().sortlist?n.sortList=o.data().sortlist:s&&o.metadata()&&o.metadata().sortlist&&(n.sortList=o.metadata().sortlist),r.applyWidget(e,!0),n.sortList.length>0?r.sortOn(n,n.sortList,{},!n.initWidgets):(r.setHeadersCss(n),n.initWidgets&&r.applyWidget(e,!1)),n.showProcessing&&o.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(t){clearTimeout(n.timerProcessing),r.isProcessing(e),"sortBegin"===t.type&&(n.timerProcessing=setTimeout(function(){r.isProcessing(e,!0)},500))}),e.hasInitialized=!0,e.isProcessing=!1,n.debug&&(console.log("Overall initialization time: "+r.benchmark(t.data(e,"startoveralltimer"))),n.debug&&console.groupEnd&&console.groupEnd()),o.triggerHandler("tablesorter-initialized",e),"function"==typeof n.initialized&&n.initialized(e)},bindMethods:function(e){var n=e.$table,a=e.namespace,o="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(a+" ");n.unbind(o.replace(r.regex.spaces," ")).bind("sortReset"+a,function(e,t){e.stopPropagation(),r.sortReset(this.config,t)}).bind("updateAll"+a,function(e,t,n){e.stopPropagation(),r.updateAll(this.config,t,n)}).bind("update"+a+" updateRows"+a,function(e,t,n){e.stopPropagation(),r.update(this.config,t,n)}).bind("updateHeaders"+a,function(e,t){e.stopPropagation(),r.updateHeaders(this.config,t)}).bind("updateCell"+a,function(e,t,n,a){e.stopPropagation(),r.updateCell(this.config,t,n,a)}).bind("addRows"+a,function(e,t,n,a){e.stopPropagation(),r.addRows(this.config,t,n,a)}).bind("updateComplete"+a,function(){this.isUpdating=!1}).bind("sorton"+a,function(e,t,n,a){e.stopPropagation(),r.sortOn(this.config,t,n,a)}).bind("appendCache"+a,function(e,n,a){e.stopPropagation(),r.appendCache(this.config,a),t.isFunction(n)&&n(this)}).bind("updateCache"+a,function(e,t,n){e.stopPropagation(),r.updateCache(this.config,t,n)}).bind("applyWidgetId"+a,function(e,t){e.stopPropagation(),r.applyWidgetId(this,t)}).bind("applyWidgets"+a,function(e,t){e.stopPropagation(),r.applyWidget(this,t)}).bind("refreshWidgets"+a,function(e,t,n){e.stopPropagation(),r.refreshWidgets(this,t,n)}).bind("removeWidget"+a,function(e,t,n){e.stopPropagation(),r.removeWidget(this,t,n)}).bind("destroy"+a,function(e,t,n){e.stopPropagation(),r.destroy(this,t,n)}).bind("resetToLoadState"+a,function(n){n.stopPropagation(),r.removeWidget(this,!0,!1),e=t.extend(!0,r.defaults,e.originalSettings),this.hasInitialized=!1,r.setup(this,e)})},bindEvents:function(e,n,a){e=t(e)[0];var o,s=e.config,i=s.namespace,l=null;a!==!0&&(n.addClass(i.slice(1)+"_extra_headers"),o=t.fn.closest?n.closest("table")[0]:n.parents("table")[0],o&&"TABLE"===o.nodeName&&o!==e&&t(o).addClass(i.slice(1)+"_extra_table")),o=(s.pointerDown+" "+s.pointerUp+" "+s.pointerClick+" sort keyup ").replace(r.regex.spaces," ").split(" ").join(i+" "),n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind(o).bind(o,function(e,a){var o,i,d,c=t(e.target),g=" "+e.type+" ";if(!(1!==(e.which||e.button)&&!g.match(" "+s.pointerClick+" | sort | keyup ")||" keyup "===g&&e.which!==r.keyCodes.enter||g.match(" "+s.pointerClick+" ")&&"undefined"!=typeof e.which||g.match(" "+s.pointerUp+" ")&&l!==e.target&&a!==!0)){if(g.match(" "+s.pointerDown+" "))return l=e.target,d=c.jquery.split("."),void("1"===d[0]&&d[1]<4&&e.preventDefault());if(l=null,r.regex.formElements.test(e.target.nodeName)||c.hasClass(s.cssNoSort)||c.parents("."+s.cssNoSort).length>0||c.parents("button").length>0)return!s.cancelSelection;s.delayInit&&r.isEmptyObject(s.cache)&&r.buildCache(s),o=t.fn.closest?t(this).closest("th, td"):/TH|TD/.test(this.nodeName)?t(this):t(this).parents("th, td"),d=n.index(o),s.last.clickedIndex=d<0?o.attr("data-column"):d,i=s.$headers[s.last.clickedIndex],i&&!i.sortDisabled&&r.initSort(s,i,e)}}),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(e){var n,a,o,s;for(e.headerList=[],e.headerContent=[],e.sortVars=[],e.debug&&(o=new Date),e.columns=r.computeColumnIndex(e.$table.children("thead, tfoot").children("tr")),a=e.cssIcon?'<i class="'+(e.cssIcon===r.css.icon?r.css.icon:e.cssIcon+" "+r.css.icon)+'"></i>':"",e.$headers=t(t.map(e.$table.find(e.selectorHeaders),function(n,o){var s,i,l,d,c,g=t(n);if(!g.parent().hasClass(e.cssIgnoreRow))return s=r.getColumnData(e.table,e.headers,o,!0),e.headerContent[o]=g.html(),""===e.headerTemplate||g.find("."+r.css.headerIn).length||(d=e.headerTemplate.replace(r.regex.templateContent,g.html()).replace(r.regex.templateIcon,g.find("."+r.css.icon).length?"":a),e.onRenderTemplate&&(i=e.onRenderTemplate.apply(g,[o,d]),i&&"string"==typeof i&&(d=i)),g.html('<div class="'+r.css.headerIn+'">'+d+"</div>")),e.onRenderHeader&&e.onRenderHeader.apply(g,[o,e,e.$table]),l=parseInt(g.attr("data-column"),10),n.column=l,c=r.getOrder(r.getData(g,s,"sortInitialOrder")||e.sortInitialOrder),e.sortVars[l]={count:-1,order:c?e.sortReset?[1,0,2]:[1,0]:e.sortReset?[0,1,2]:[0,1],lockedOrder:!1},c=r.getData(g,s,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(e.sortVars[l].lockedOrder=!0,e.sortVars[l].order=r.getOrder(c)?[1,1]:[0,0]),e.headerList[o]=n,g.addClass(r.css.header+" "+e.cssHeader).parent().addClass(r.css.headerRow+" "+e.cssHeaderRow).attr("role","row"),e.tabIndex&&g.attr("tabindex",0),n})),e.$headerIndexed=[],s=0;s<e.columns;s++)r.isEmptyObject(e.sortVars[s])&&(e.sortVars[s]={}),n=e.$headers.filter('[data-column="'+s+'"]'),e.$headerIndexed[s]=n.length?n.not(".sorter-false").length?n.not(".sorter-false").filter(":last"):n.filter(":last"):t();e.$table.find(e.selectorHeaders).attr({scope:"col",role:"columnheader"}),r.updateHeader(e),e.debug&&(console.log("Built headers:"+r.benchmark(o)),console.log(e.$headers))},addInstanceMethods:function(e){t.extend(r.instanceMethods,e)},setupParsers:function(e,t){var n,a,o,s,i,l,d,c,g,u,p,f,h,m,b=e.table,y=0,w={};if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),h="undefined"==typeof t?e.$tbodies:t,m=h.length,0===m)return e.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(e.debug&&(f=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),a={extractors:[],parsers:[]};y<m;){if(n=h[y].rows,n.length)for(i=0,s=e.columns,l=0;l<s;l++){if(d=e.$headerIndexed[i],d&&d.length&&(c=r.getColumnData(b,e.headers,i),p=r.getParserById(r.getData(d,c,"extractor")),u=r.getParserById(r.getData(d,c,"sorter")),g="false"===r.getData(d,c,"parser"),e.empties[i]=(r.getData(d,c,"empty")||e.emptyTo||(e.emptyToBottom?"bottom":"top")).toLowerCase(),e.strings[i]=(r.getData(d,c,"string")||e.stringTo||"max").toLowerCase(),g&&(u=r.getParserById("no-parser")),p||(p=!1),u||(u=r.detectParserForColumn(e,n,-1,i)),e.debug&&(w["("+i+") "+d.text()]={parser:u.id,extractor:p?p.id:"none",string:e.strings[i],empty:e.empties[i]}),a.parsers[i]=u,a.extractors[i]=p,o=d[0].colSpan-1,o>0))for(i+=o,s+=o;o+1>0;)a.parsers[i-o]=u,a.extractors[i-o]=p,o--;i++}y+=a.parsers.length?m:1}e.debug&&(r.isEmptyObject(w)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](w),console.log("Completed detecting parsers"+r.benchmark(f)),console.groupEnd&&console.groupEnd()),e.parsers=a.parsers,e.extractors=a.extractors},addParser:function(e){var t,n=r.parsers.length,a=!0;for(t=0;t<n;t++)r.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(a=!1);a&&(r.parsers[r.parsers.length]=e)},getParserById:function(e){if("false"==e)return!1;var t,n=r.parsers.length;for(t=0;t<n;t++)if(r.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return r.parsers[t];return!1},detectParserForColumn:function(e,n,a,o){for(var s,i,l,d=r.parsers.length,c=!1,g="",u=!0;""===g&&u;)a++,l=n[a],l&&a<50?l.className.indexOf(r.cssIgnoreRow)<0&&(c=n[a].cells[o],g=r.getElementText(e,c,o),i=t(c),e.debug&&console.log("Checking if value was empty on row "+a+", column: "+o+': "'+g+'"')):u=!1;for(;--d>=0;)if(s=r.parsers[d],s&&"text"!==s.id&&s.is&&s.is(g,e.table,c,i))return s;return r.getParserById("text")},getElementText:function(e,n,a){if(!n)return"";var o,s=e.textExtraction||"",i=n.jquery?n:t(n);return"string"==typeof s?"basic"===s&&"undefined"!=typeof(o=i.attr(e.textAttribute))?t.trim(o):t.trim(n.textContent||i.text()):"function"==typeof s?t.trim(s(i[0],e.table,a)):"function"==typeof(o=r.getColumnData(e.table,s,a))?t.trim(o(i[0],e.table,a)):t.trim(i[0].textContent||i.text())},getParsedText:function(e,t,n,a){"undefined"==typeof a&&(a=r.getElementText(e,t,n));var o=""+a,s=e.parsers[n],i=e.extractors[n];return s&&(i&&"function"==typeof i.format&&(a=i.format(a,e.table,t,n)),o="no-parser"===s.id?"":s.format(""+a,e.table,t,n),e.ignoreCase&&"string"==typeof o&&(o=o.toLowerCase())),o},buildCache:function(e,n,a){var o,s,i,l,d,c,g,u,p,f,h,m,b,y,w,x,v,C,I,$,T,D,A=e.table,R=e.parsers;if(e.$tbodies=e.$table.children("tbody:not(."+e.cssInfoBlock+")"),g="undefined"==typeof a?e.$tbodies:a,e.cache={},e.totalRows=0,!R)return e.debug?console.warn("Warning: *Empty table!* Not building a cache"):"";for(e.debug&&(m=new Date),e.showProcessing&&r.isProcessing(A,!0),c=0;c<g.length;c++){for(x=[],o=e.cache[c]={normalized:[]},b=g[c]&&g[c].rows.length||0,l=0;l<b;++l)if(y={child:[],raw:[]},u=t(g[c].rows[l]),p=[],!u.hasClass(e.selectorRemove.slice(1)))if(u.hasClass(e.cssChildRow)&&0!==l)for(T=o.normalized.length-1,w=o.normalized[T][e.columns],w.$row=w.$row.add(u),u.prev().hasClass(e.cssChildRow)||u.prev().addClass(r.css.cssHasChild),f=u.children("th, td"),T=w.child.length,w.child[T]=[],C=0,$=e.columns,d=0;d<$;d++)h=f[d],h&&(w.child[T][d]=r.getParsedText(e,h,d),v=f[d].colSpan-1,v>0&&(C+=v,$+=v)),C++;else{for(y.$row=u,y.order=l,C=0,$=e.columns,d=0;d<$;++d){if(h=u[0].cells[d],h&&C<e.columns&&(I="undefined"!=typeof R[C],!I&&e.debug&&console.warn("No parser found for row: "+l+", column: "+d+'; cell containing: "'+t(h).text()+'"; does it have a header?'),s=r.getElementText(e,h,C),y.raw[C]=s,i=r.getParsedText(e,h,C,s),p[C]=i,I&&"numeric"===(R[C].type||"").toLowerCase()&&(x[C]=Math.max(Math.abs(i)||0,x[C]||0)),v=h.colSpan-1,v>0)){for(D=0;D<=v;)i=e.duplicateSpan||0===D?s:"string"!=typeof e.textExtraction?r.getElementText(e,h,C+D)||"":"",y.raw[C+D]=i,p[C+D]=i,D++;C+=v,$+=v}C++}p[e.columns]=y,o.normalized[o.normalized.length]=p}o.colMax=x,e.totalRows+=o.normalized.length}if(e.showProcessing&&r.isProcessing(A),e.debug){for(T=Math.min(5,e.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+e.totalRows+" rows (showing "+T+" rows in log) and "+e.columns+" columns"+r.benchmark(m)),s={},d=0;d<e.columns;d++)for(C=0;C<T;C++)s["row: "+C]||(s["row: "+C]={}),s["row: "+C][e.$headerIndexed[d].text()]=e.cache[0].normalized[C][d];console[console.table?"table":"log"](s),console.groupEnd&&console.groupEnd()}t.isFunction(n)&&n(A)},getColumnText:function(e,n,a,o){e=t(e)[0];var s,i,l,d,c,g,u,p,f,h,m="function"==typeof a,b="all"===n,y={raw:[],parsed:[],$cell:[]},w=e.config;if(!r.isEmptyObject(w)){for(c=w.$tbodies.length,s=0;s<c;s++)for(l=w.cache[s].normalized,g=l.length,i=0;i<g;i++)d=l[i],o&&!d[w.columns].$row.is(o)||(h=!0,p=b?d.slice(0,w.columns):d[n],d=d[w.columns],u=b?d.raw:d.raw[n],f=b?d.$row.children():d.$row.children().eq(n),m&&(h=a({tbodyIndex:s,rowIndex:i,parsed:p,raw:u,$row:d.$row,$cell:f})),h!==!1&&(y.parsed[y.parsed.length]=p,y.raw[y.raw.length]=u,y.$cell[y.$cell.length]=f));return y}w.debug&&console.warn("No cache found - aborting getColumnText function!")},setHeadersCss:function(e){var n,a,o,s=e.sortList,i=s.length,l=r.css.sortNone+" "+e.cssNone,d=[r.css.sortAsc+" "+e.cssAsc,r.css.sortDesc+" "+e.cssDesc],c=[e.cssIconAsc,e.cssIconDesc,e.cssIconNone],g=["ascending","descending"],u=e.$table.find("tfoot tr").children("td, th").add(t(e.namespace+"_extra_headers")).removeClass(d.join(" "));for(e.$headers.removeClass(d.join(" ")).addClass(l).attr("aria-sort","none").find("."+r.css.icon).removeClass(c.join(" ")).addClass(c[2]),a=0;a<i;a++)if(2!==s[a][1]&&(n=e.$headers.filter(function(t){for(var n=!0,a=e.$headers.eq(t),o=parseInt(a.attr("data-column"),10),s=o+e.$headers[t].colSpan;o<s;o++)n=!!n&&(n||r.isValueInArray(o,e.sortList)>-1);return n}),n=n.not(".sorter-false").filter('[data-column="'+s[a][0]+'"]'+(1===i?":last":"")),n.length)){for(o=0;o<n.length;o++)n[o].sortDisabled||n.eq(o).removeClass(l).addClass(d[s[a][1]]).attr("aria-sort",g[s[a][1]]).find("."+r.css.icon).removeClass(c[2]).addClass(c[s[a][1]]);u.length&&u.filter('[data-column="'+s[a][0]+'"]').removeClass(l).addClass(d[s[a][1]])}for(i=e.$headers.length,a=0;a<i;a++)r.setColumnAriaLabel(e,e.$headers.eq(a))},setColumnAriaLabel:function(e,n,a){if(n.length){var o=parseInt(n.attr("data-column"),10),s=e.sortVars[o],i=n.hasClass(r.css.sortAsc)?"sortAsc":n.hasClass(r.css.sortDesc)?"sortDesc":"sortNone",l=t.trim(n.text())+": "+r.language[i];n.hasClass("sorter-false")||a===!1?l+=r.language.sortDisabled:(i=(s.count+1)%s.order.length,a=s.order[i],l+=r.language[0===a?"nextAsc":1===a?"nextDesc":"nextNone"]),n.attr("aria-label",l)}},updateHeader:function(e){var t,n,a,o,s=e.table,i=e.$headers.length;for(t=0;t<i;t++)a=e.$headers.eq(t),o=r.getColumnData(s,e.headers,t,!0),n="false"===r.getData(a,o,"sorter")||"false"===r.getData(a,o,"parser"),r.setColumnSort(e,a,n)},setColumnSort:function(e,t,r){var n=e.table.id;t[0].sortDisabled=r,t[r?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+r),e.tabIndex&&(r?t.removeAttr("tabindex"):t.attr("tabindex","0")),n&&(r?t.removeAttr("aria-controls"):t.attr("aria-controls",n))},updateHeaderSortCount:function(e,n){var a,o,s,i,l,d,c,g,u=n||e.sortList,p=u.length;for(e.sortList=[],i=0;i<p;i++)if(c=u[i],a=parseInt(c[0],10),a<e.columns){switch(e.sortVars[a].order||(g=r.getOrder(e.sortInitialOrder)?e.sortReset?[1,0,2]:[1,0]:e.sortReset?[0,1,2]:[0,1],e.sortVars[a].order=g,e.sortVars[a].count=0),g=e.sortVars[a].order,o=(""+c[1]).match(/^(1|d|s|o|n)/),o=o?o[0]:""){case"1":case"d":o=1;break;case"s":o=l||0;break;case"o":d=g[(l||0)%g.length],o=0===d?1:1===d?0:2;break;case"n":o=g[++e.sortVars[a].count%g.length];break;default:o=0}l=0===i?o:l,s=[a,parseInt(o,10)||0],e.sortList[e.sortList.length]=s,o=t.inArray(s[1],g),e.sortVars[a].count=o>=0?o:s[1]%g.length}},updateAll:function(e,t,n){var a=e.table;a.isUpdating=!0,r.refreshWidgets(a,!0,!0),r.buildHeaders(e),r.bindEvents(a,e.$headers,!0),r.bindMethods(e),r.commonUpdate(e,t,n)},update:function(e,t,n){var a=e.table;a.isUpdating=!0,r.updateHeader(e),r.commonUpdate(e,t,n)},updateHeaders:function(e,t){e.table.isUpdating=!0,r.buildHeaders(e),r.bindEvents(e.table,e.$headers,!0),r.resortComplete(e,t)},updateCell:function(e,n,a,o){if(r.isEmptyObject(e.cache))return r.updateHeader(e),void r.commonUpdate(e,a,o);e.table.isUpdating=!0,e.$table.find(e.selectorRemove).remove();var s,i,l,d,c,g,u=e.$tbodies,p=t(n),f=u.index(t.fn.closest?p.closest("tbody"):p.parents("tbody").filter(":first")),h=e.cache[f],m=t.fn.closest?p.closest("tr"):p.parents("tr").filter(":first");if(n=p[0],u.length&&f>=0){if(l=u.eq(f).find("tr").index(m),c=h.normalized[l],g=m[0].cells.length,g!==e.columns)for(d=0,s=!1,i=0;i<g;i++)s||m[0].cells[i]===n?s=!0:d+=m[0].cells[i].colSpan;else d=p.index();s=r.getElementText(e,n,d),c[e.columns].raw[d]=s,s=r.getParsedText(e,n,d,s),c[d]=s,c[e.columns].$row=m,"numeric"===(e.parsers[d].type||"").toLowerCase()&&(h.colMax[d]=Math.max(Math.abs(s)||0,h.colMax[d]||0)),s="undefined"!==a?a:e.resort,s!==!1?r.checkResort(e,s,o):r.resortComplete(e,o)}else e.debug&&console.error("updateCell aborted, tbody missing or not within the indicated table"),e.table.isUpdating=!1},addRows:function(n,a,o,s){var i,l,d,c,g,u,p,f,h,m,b,y,w,x="string"==typeof a&&1===n.$tbodies.length&&/<tr/.test(a||""),v=n.table;if(x)a=t(a),n.$tbodies.append(a);else if(!(a&&a instanceof e&&(t.fn.closest?a.closest("table")[0]:a.parents("table")[0])===n.table))return n.debug&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(v.isUpdating=!0,r.isEmptyObject(n.cache))r.updateHeader(n),r.commonUpdate(n,o,s);else{for(g=a.filter("tr").attr("role","row").length,d=n.$tbodies.index(a.parents("tbody").filter(":first")),n.parsers&&n.parsers.length||r.setupParsers(n),c=0;c<g;c++){for(h=0,p=a[c].cells.length,f=n.cache[d].normalized.length,b=[],m={child:[],raw:[],$row:a.eq(c),order:f},u=0;u<p;u++)y=a[c].cells[u],i=r.getElementText(n,y,h),m.raw[h]=i,l=r.getParsedText(n,y,h,i),b[h]=l,"numeric"===(n.parsers[h].type||"").toLowerCase()&&(n.cache[d].colMax[h]=Math.max(Math.abs(l)||0,n.cache[d].colMax[h]||0)),w=y.colSpan-1,w>0&&(h+=w),h++;b[n.columns]=m,n.cache[d].normalized[f]=b}r.checkResort(n,o,s)}},updateCache:function(e,t,n){e.parsers&&e.parsers.length||r.setupParsers(e,n),r.buildCache(e,t,n)},appendCache:function(e,t){var n,a,o,s,i,l,d,c=e.table,g=e.widgetOptions,u=e.$tbodies,p=[],f=e.cache;if(r.isEmptyObject(f))return e.appender?e.appender(c,p):c.isUpdating?e.$table.triggerHandler("updateComplete",c):"";for(e.debug&&(d=new Date),l=0;l<u.length;l++)if(o=u.eq(l),o.length){for(s=r.processTbody(c,o,!0),n=f[l].normalized,a=n.length,i=0;i<a;i++)p[p.length]=n[i][e.columns].$row,e.appender&&(!e.pager||e.pager.removeRows&&g.pager_removeRows||e.pager.ajax)||s.append(n[i][e.columns].$row);r.processTbody(c,s,!1)}e.appender&&e.appender(c,p),e.debug&&console.log("Rebuilt table"+r.benchmark(d)),t||e.appender||r.applyWidget(c),c.isUpdating&&e.$table.triggerHandler("updateComplete",c)},commonUpdate:function(e,t,n){e.$table.find(e.selectorRemove).remove(),r.setupParsers(e),r.buildCache(e),r.checkResort(e,t,n)},initSort:function(e,n,a){if(e.table.isUpdating)return setTimeout(function(){r.initSort(e,n,a)},50);var o,s,i,l,d,c,g,u=!a[e.sortMultiSortKey],p=e.table,f=e.$headers.length,h=parseInt(t(n).attr("data-column"),10),m=e.sortVars[h].order;if(e.$table.triggerHandler("sortStart",p),c=(e.sortVars[h].count+1)%m.length,e.sortVars[h].count=a[e.sortResetKey]?2:c,e.sortRestart)for(i=0;i<f;i++)g=e.$headers.eq(i),c=parseInt(g.attr("data-column"),10),h!==c&&(u||g.hasClass(r.css.sortNone))&&(e.sortVars[c].count=-1);if(u){if(e.sortList=[],e.last.sortList=[],null!==e.sortForce)for(o=e.sortForce,s=0;s<o.length;s++)o[s][0]!==h&&(e.sortList[e.sortList.length]=o[s]);if(l=m[e.sortVars[h].count],l<2&&(e.sortList[e.sortList.length]=[h,l],n.colSpan>1))for(s=1;s<n.colSpan;s++)e.sortList[e.sortList.length]=[h+s,l],e.sortVars[h+s].count=t.inArray(l,m)}else if(e.sortList=t.extend([],e.last.sortList),r.isValueInArray(h,e.sortList)>=0)for(s=0;s<e.sortList.length;s++)c=e.sortList[s],c[0]===h&&(c[1]=m[e.sortVars[h].count],2===c[1]&&(e.sortList.splice(s,1),e.sortVars[h].count=-1));else if(l=m[e.sortVars[h].count],l<2&&(e.sortList[e.sortList.length]=[h,l],n.colSpan>1))for(s=1;s<n.colSpan;s++)e.sortList[e.sortList.length]=[h+s,l],e.sortVars[h+s].count=t.inArray(l,m);if(e.last.sortList=t.extend([],e.sortList),e.sortList.length&&e.sortAppend&&(o=t.isArray(e.sortAppend)?e.sortAppend:e.sortAppend[e.sortList[0][0]],!r.isEmptyObject(o)))for(s=0;s<o.length;s++)if(o[s][0]!==h&&r.isValueInArray(o[s][0],e.sortList)<0){if(l=o[s][1],d=(""+l).match(/^(a|d|s|o|n)/))switch(c=e.sortList[0][1],d[0]){case"d":l=1;break;case"s":l=c;break;case"o":l=0===c?1:0;break;case"n":l=(c+1)%m.length;break;default:l=0}e.sortList[e.sortList.length]=[o[s][0],l]}e.$table.triggerHandler("sortBegin",p),setTimeout(function(){r.setHeadersCss(e),r.multisort(e),r.appendCache(e),e.$table.triggerHandler("sortBeforeEnd",p),e.$table.triggerHandler("sortEnd",p)},1)},multisort:function(e){var t,n,a,o,s,i=e.table,l=[],d=0,c=e.textSorter||"",g=e.sortList,u=g.length,p=e.$tbodies.length;if(!e.serverSideSorting&&!r.isEmptyObject(e.cache)){if(e.debug&&(n=new Date),"object"==typeof c)for(a=e.columns;a--;)s=r.getColumnData(i,c,a),"function"==typeof s&&(l[a]=s);for(t=0;t<p;t++)a=e.cache[t].colMax,o=e.cache[t].normalized,o.sort(function(t,n){var o,s,p,f,h,m,b;for(o=0;o<u;o++){if(p=g[o][0],f=g[o][1],d=0===f,e.sortStable&&t[p]===n[p]&&1===u)return t[e.columns].order-n[e.columns].order;if(s=/n/i.test(r.getSortType(e.parsers,p)),s&&e.strings[p]?(s="boolean"==typeof r.string[e.strings[p]]?(d?1:-1)*(r.string[e.strings[p]]?-1:1):e.strings[p]?r.string[e.strings[p]]||0:0,h=e.numberSorter?e.numberSorter(t[p],n[p],d,a[p],i):r["sortNumeric"+(d?"Asc":"Desc")](t[p],n[p],s,a[p],p,e)):(m=d?t:n,b=d?n:t,h="function"==typeof c?c(m[p],b[p],d,p,i):"function"==typeof l[p]?l[p](m[p],b[p],d,p,i):r["sortNatural"+(d?"Asc":"Desc")](t[p],n[p],p,e)),h)return h}return t[e.columns].order-n[e.columns].order});e.debug&&console.log("Applying sort "+g.toString()+r.benchmark(n))}},resortComplete:function(e,r){e.table.isUpdating&&e.$table.triggerHandler("updateComplete",e.table),t.isFunction(r)&&r(e.table)},checkResort:function(e,n,a){var o=t.isArray(n)?n:e.sortList,s="undefined"==typeof n?e.resort:n;s===!1||e.serverSideSorting||e.table.isProcessing?(r.resortComplete(e,a),r.applyWidget(e.table,!1)):o.length?r.sortOn(e,o,function(){r.resortComplete(e,a)},!0):r.sortReset(e,function(){r.resortComplete(e,a),r.applyWidget(e.table,!1)})},sortOn:function(e,n,a,o){var s=e.table;e.$table.triggerHandler("sortStart",s),r.updateHeaderSortCount(e,n),r.setHeadersCss(e),e.delayInit&&r.isEmptyObject(e.cache)&&r.buildCache(e),e.$table.triggerHandler("sortBegin",s),r.multisort(e),r.appendCache(e,o),e.$table.triggerHandler("sortBeforeEnd",s),e.$table.triggerHandler("sortEnd",s),r.applyWidget(s),t.isFunction(a)&&a(s)},sortReset:function(e,n){e.sortList=[],r.setHeadersCss(e),r.multisort(e),r.appendCache(e),t.isFunction(n)&&n(e.table)},getSortType:function(e,t){return e&&e[t]?e[t].type||"":""},getOrder:function(e){return/^d/i.test(e)||1===e},sortNatural:function(e,t){if(e===t)return 0;var n,a,o,s,i,l,d=r.regex;if(d.hex.test(t)){if(n=parseInt((e||"").match(d.hex),16),a=parseInt((t||"").match(d.hex),16),n<a)return-1;if(n>a)return 1}for(n=(e||"").replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),a=(t||"").replace(d.chunk,"\\0$1\\0").replace(d.chunks,"").split("\\0"),l=Math.max(n.length,a.length),i=0;i<l;i++){if(o=isNaN(n[i])?n[i]||0:parseFloat(n[i])||0,s=isNaN(a[i])?a[i]||0:parseFloat(a[i])||0,isNaN(o)!==isNaN(s))return isNaN(o)?1:-1;if(typeof o!=typeof s&&(o+="",s+=""),o<s)return-1;if(o>s)return 1}return 0},sortNaturalAsc:function(e,t,n,a){if(e===t)return 0;var o=r.string[a.empties[n]||a.emptyTo];
return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:o||1:r.sortNatural(e,t)},sortNaturalDesc:function(e,t,n,a){if(e===t)return 0;var o=r.string[a.empties[n]||a.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:r.sortNatural(t,e)},sortText:function(e,t){return e>t?1:e<t?-1:0},getTextValue:function(e,t,r){if(r){var n,a=e?e.length:0,o=r+t;for(n=0;n<a;n++)o+=e.charCodeAt(n);return t*o}return 0},sortNumericAsc:function(e,t,n,a,o,s){if(e===t)return 0;var i=r.string[s.empties[o]||s.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:-i||-1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:i||1:(isNaN(e)&&(e=r.getTextValue(e,n,a)),isNaN(t)&&(t=r.getTextValue(t,n,a)),e-t)},sortNumericDesc:function(e,t,n,a,o,s){if(e===t)return 0;var i=r.string[s.empties[o]||s.emptyTo];return""===e&&0!==i?"boolean"==typeof i?i?-1:1:i||1:""===t&&0!==i?"boolean"==typeof i?i?1:-1:-i||-1:(isNaN(e)&&(e=r.getTextValue(e,n,a)),isNaN(t)&&(t=r.getTextValue(t,n,a)),t-e)},sortNumeric:function(e,t){return e-t},addWidget:function(e){e.id&&!r.isEmptyObject(r.getWidgetById(e.id))&&console.warn('"'+e.id+'" widget was loaded more than once!'),r.widgets[r.widgets.length]=e},hasWidget:function(e,r){return e=t(e),e.length&&e[0].config&&e[0].config.widgetInit[r]||!1},getWidgetById:function(e){var t,n,a=r.widgets.length;for(t=0;t<a;t++)if(n=r.widgets[t],n&&n.id&&n.id.toLowerCase()===e.toLowerCase())return n},applyWidgetOptions:function(e){var n,a,o=e.config,s=o.widgets.length;if(s)for(n=0;n<s;n++)a=r.getWidgetById(o.widgets[n]),a&&a.options&&(o.widgetOptions=t.extend(!0,{},a.options,o.widgetOptions))},addWidgetFromClass:function(e){var t,n,a=e.config,o="^"+a.widgetClass.replace(r.regex.templateName,"(\\S+)+")+"$",s=new RegExp(o,"g"),i=(e.className||"").split(r.regex.spaces);if(i.length)for(t=i.length,n=0;n<t;n++)i[n].match(s)&&(a.widgets[a.widgets.length]=i[n].replace(s,"$1"))},applyWidgetId:function(e,n,a){e=t(e)[0];var o,s,i,l=e.config,d=l.widgetOptions,c=r.getWidgetById(n);c&&(i=c.id,o=!1,t.inArray(i,l.widgets)<0&&(l.widgets[l.widgets.length]=i),l.debug&&(s=new Date),!a&&l.widgetInit[i]||(l.widgetInit[i]=!0,e.hasInitialized&&r.applyWidgetOptions(e),"function"==typeof c.init&&(o=!0,l.debug&&console[console.group?"group":"log"]("Initializing "+i+" widget"),c.init(e,c,l,d))),a||"function"!=typeof c.format||(o=!0,l.debug&&console[console.group?"group":"log"]("Updating "+i+" widget"),c.format(e,l,d,!1)),l.debug&&o&&(console.log("Completed "+(a?"initializing ":"applying ")+i+" widget"+r.benchmark(s)),console.groupEnd&&console.groupEnd()))},applyWidget:function(e,n,a){e=t(e)[0];var o,s,i,l,d,c=e.config,g=[];if(n===!1||!e.hasInitialized||!e.isApplyingWidgets&&!e.isUpdating){if(c.debug&&(d=new Date),r.addWidgetFromClass(e),clearTimeout(c.timerReady),c.widgets.length){for(e.isApplyingWidgets=!0,c.widgets=t.grep(c.widgets,function(e,r){return t.inArray(e,c.widgets)===r}),i=c.widgets||[],s=i.length,o=0;o<s;o++)l=r.getWidgetById(i[o]),l&&l.id?(l.priority||(l.priority=10),g[o]=l):c.debug&&console.warn('"'+i[o]+'" widget code does not exist!');for(g.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),s=g.length,c.debug&&console[console.group?"group":"log"]("Start "+(n?"initializing":"applying")+" widgets"),o=0;o<s;o++)l=g[o],l&&l.id&&r.applyWidgetId(e,l.id,n);c.debug&&console.groupEnd&&console.groupEnd(),n||"function"!=typeof a||a(e)}c.timerReady=setTimeout(function(){e.isApplyingWidgets=!1,t.data(e,"lastWidgetApplication",new Date),c.$table.triggerHandler("tablesorter-ready")},10),c.debug&&(l=c.widgets.length,console.log("Completed "+(n===!0?"initializing ":"applying ")+l+" widget"+(1!==l?"s":"")+r.benchmark(d)))}},removeWidget:function(e,n,a){e=t(e)[0];var o,s,i,l,d=e.config;if(n===!0)for(n=[],l=r.widgets.length,i=0;i<l;i++)s=r.widgets[i],s&&s.id&&(n[n.length]=s.id);else n=(t.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,o=0;o<l;o++)s=r.getWidgetById(n[o]),i=t.inArray(n[o],d.widgets),i>=0&&a!==!0&&d.widgets.splice(i,1),s&&s.remove&&(d.debug&&console.log((a?"Refreshing":"Removing")+' "'+n[o]+'" widget'),s.remove(e,d,d.widgetOptions,a),d.widgetInit[n[o]]=!1)},refreshWidgets:function(e,n,a){e=t(e)[0];var o,s,i=e.config,l=i.widgets,d=r.widgets,c=d.length,g=[],u=function(e){t(e).triggerHandler("refreshComplete")};for(o=0;o<c;o++)s=d[o],s&&s.id&&(n||t.inArray(s.id,l)<0)&&(g[g.length]=s.id);r.removeWidget(e,g.join(","),!0),a!==!0?(r.applyWidget(e,n||!1,u),n&&r.applyWidget(e,!1,u)):u(e)},benchmark:function(e){return" ("+((new Date).getTime()-e.getTime())+" ms)"},log:function(){console.log(arguments)},isEmptyObject:function(e){for(var t in e)return!1;return!0},isValueInArray:function(e,t){var r,n=t&&t.length||0;for(r=0;r<n;r++)if(t[r][0]===e)return r;return-1},formatFloat:function(e,n){if("string"!=typeof e||""===e)return e;var a,o=n&&n.config?n.config.usNumberFormat!==!1:"undefined"==typeof n||n;return e=o?e.replace(r.regex.comma,""):e.replace(r.regex.digitNonUS,"").replace(r.regex.comma,"."),r.regex.digitNegativeTest.test(e)&&(e=e.replace(r.regex.digitNegativeReplace,"-$1")),a=parseFloat(e),isNaN(a)?t.trim(e):a},isDigit:function(e){return isNaN(e)?r.regex.digitTest.test(e.toString().replace(r.regex.digitReplace,"")):""!==e},computeColumnIndex:function(e,r){var n,a,o,s,i,l,d,c,g,u,p=r&&r.columns||0,f=[],h=new Array(p);for(n=0;n<e.length;n++)for(l=e[n].cells,a=0;a<l.length;a++){for(i=l[a],d=i.parentNode.rowIndex,c=i.rowSpan||1,g=i.colSpan||1,"undefined"==typeof f[d]&&(f[d]=[]),o=0;o<f[d].length+1;o++)if("undefined"==typeof f[d][o]){u=o;break}for(p&&i.cellIndex===u||(i.setAttribute?i.setAttribute("data-column",u):t(i).attr("data-column",u)),o=d;o<d+c;o++)for("undefined"==typeof f[o]&&(f[o]=[]),h=f[o],s=u;s<u+g;s++)h[s]="x"}return h.length},fixColumnWidth:function(e){e=t(e)[0];var n,a,o,s,i,l=e.config,d=l.$table.children("colgroup");if(d.length&&d.hasClass(r.css.colgroup)&&d.remove(),l.widthFixed&&0===l.$table.children("colgroup").length){for(d=t('<colgroup class="'+r.css.colgroup+'">'),n=l.$table.width(),o=l.$tbodies.find("tr:first").children(":visible"),s=o.length,i=0;i<s;i++)a=parseInt(o.eq(i).width()/n*1e3,10)/10+"%",d.append(t("<col>").css("width",a));l.$table.prepend(d)}},getData:function(e,r,n){var a,o,s="",i=t(e);return i.length?(a=!!t.metadata&&i.metadata(),o=" "+(i.attr("class")||""),"undefined"!=typeof i.data(n)||"undefined"!=typeof i.data(n.toLowerCase())?s+=i.data(n)||i.data(n.toLowerCase()):a&&"undefined"!=typeof a[n]?s+=a[n]:r&&"undefined"!=typeof r[n]?s+=r[n]:" "!==o&&o.match(" "+n+"-")&&(s=o.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),t.trim(s)):""},getColumnData:function(e,r,n,a,o){if("undefined"!=typeof r&&null!==r){e=t(e)[0];var s,i,l=e.config,d=o||l.$headers,c=l.$headerIndexed&&l.$headerIndexed[n]||d.filter('[data-column="'+n+'"]:last');if("undefined"!=typeof r[n])return a?r[n]:r[d.index(c)];for(i in r)if("string"==typeof i&&(s=c.filter(i).add(c.find(i)),s.length))return r[i]}},isProcessing:function(e,n,a){e=t(e);var o=e[0].config,s=a||e.find("."+r.css.header);n?("undefined"!=typeof a&&o.sortList.length>0&&(s=s.filter(function(){return!this.sortDisabled&&r.isValueInArray(parseFloat(t(this).attr("data-column")),o.sortList)>=0})),e.add(s).addClass(r.css.processing+" "+o.cssProcessing)):e.add(s).removeClass(r.css.processing+" "+o.cssProcessing)},processTbody:function(e,r,n){if(e=t(e)[0],n)return e.isProcessing=!0,r.before('<colgroup class="tablesorter-savemyplace"/>'),t.fn.detach?r.detach():r.remove();var a=t(e).find("colgroup.tablesorter-savemyplace");r.insertAfter(a),a.remove(),e.isProcessing=!1},clearTableBody:function(e){t(e)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},replaceAccents:function(e){var t,n="[",a=r.characterEquivalents;if(!r.characterRegex){r.characterRegexArray={};for(t in a)"string"==typeof t&&(n+=a[t],r.characterRegexArray[t]=new RegExp("["+a[t]+"]","g"));r.characterRegex=new RegExp(n+"]")}if(r.characterRegex.test(e))for(t in a)"string"==typeof t&&(e=e.replace(r.characterRegexArray[t],t));return e},restoreHeaders:function(e){var n,a,o=t(e)[0].config,s=o.$table.find(o.selectorHeaders),i=s.length;for(n=0;n<i;n++)a=s.eq(n),a.find("."+r.css.headerIn).length&&a.html(o.headerContent[n])},destroy:function(e,n,a){if(e=t(e)[0],e.hasInitialized){r.removeWidget(e,!0,!1);var o,s=t(e),i=e.config,l=i.debug,d=s.find("thead:first"),c=d.find("tr."+r.css.headerRow).removeClass(r.css.headerRow+" "+i.cssHeaderRow),g=s.find("tfoot:first > tr").children("th, td");n===!1&&t.inArray("uitheme",i.widgets)>=0&&(s.triggerHandler("applyWidgetId",["uitheme"]),s.triggerHandler("applyWidgetId",["zebra"])),d.find("tr").not(c).remove(),o="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(i.namespace+" "),s.removeData("tablesorter").unbind(o.replace(r.regex.spaces," ")),i.$headers.add(g).removeClass([r.css.header,i.cssHeader,i.cssAsc,i.cssDesc,r.css.sortAsc,r.css.sortDesc,r.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),c.find(i.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(i.namespace+" ").replace(r.regex.spaces," ")),r.restoreHeaders(e),s.toggleClass(r.css.table+" "+i.tableClass+" tablesorter-"+i.theme,n===!1),e.hasInitialized=!1,delete e.config.cache,"function"==typeof a&&a(e),l&&console.log("tablesorter has been removed")}}};t.fn.tablesorter=function(e){return this.each(function(){var n=this,a=t.extend(!0,{},r.defaults,e,r.instanceMethods);a.originalSettings=e,!n.hasInitialized&&r.buildTable&&"TABLE"!==this.nodeName?r.buildTable(n,a):r.setup(n,a)})},window.console&&window.console.log||(r.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var e=arguments.length>1?arguments:arguments[0];r.logs[r.logs.length]={date:Date.now(),log:e}}),r.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),r.addParser({id:"text",is:function(){return!0},format:function(e,n){var a=n.config;return e&&(e=t.trim(a.ignoreCase?e.toLocaleLowerCase():e),e=a.sortLocaleCompare?r.replaceAccents(e):e),e},type:"text"}),r.regex.nondigit=/[^\w,. \-()]/g,r.addParser({id:"digit",is:function(e){return r.isDigit(e)},format:function(e,n){var a=r.formatFloat((e||"").replace(r.regex.nondigit,""),n);return e&&"number"==typeof a?a:e?t.trim(e&&n.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),r.regex.currencyReplace=/[+\-,. ]/g,r.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,r.addParser({id:"currency",is:function(e){return e=(e||"").replace(r.regex.currencyReplace,""),r.regex.currencyTest.test(e)},format:function(e,n){var a=r.formatFloat((e||"").replace(r.regex.nondigit,""),n);return e&&"number"==typeof a?a:e?t.trim(e&&n.config.ignoreCase?e.toLocaleLowerCase():e):e},type:"numeric"}),r.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,r.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,r.addParser({id:"url",is:function(e){return r.regex.urlProtocolTest.test(e)},format:function(e){return e?t.trim(e.replace(r.regex.urlProtocolReplace,"")):e},type:"text"}),r.regex.dash=/-/g,r.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,r.addParser({id:"isoDate",is:function(e){return r.regex.isoDate.test(e)},format:function(e,t){var n=e?new Date(e.replace(r.regex.dash,"/")):e;return n instanceof Date&&isFinite(n)?n.getTime():e},type:"numeric"}),r.regex.percent=/%/g,r.regex.percentTest=/(\d\s*?%|%\s*?\d)/,r.addParser({id:"percent",is:function(e){return r.regex.percentTest.test(e)&&e.length<15},format:function(e,t){return e?r.formatFloat(e.replace(r.regex.percent,""),t):e},type:"numeric"}),r.addParser({id:"image",is:function(e,t,r,n){return n.find("img").length>0},format:function(e,r,n){return t(n).find("img").attr(r.config.imgAttr||"alt")||e},parsed:!0,type:"text"}),r.regex.dateReplace=/(\S)([AP]M)$/i,r.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,r.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,r.addParser({id:"usLongDate",is:function(e){return r.regex.usLongDateTest1.test(e)||r.regex.usLongDateTest2.test(e)},format:function(e,t){var n=e?new Date(e.replace(r.regex.dateReplace,"$1 $2")):e;return n instanceof Date&&isFinite(n)?n.getTime():e},type:"numeric"}),r.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,r.regex.shortDateReplace=/[\-.,]/g,r.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,r.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,r.convertFormat=function(e,t){e=(e||"").replace(r.regex.spaces," ").replace(r.regex.shortDateReplace,"/"),"mmddyyyy"===t?e=e.replace(r.regex.shortDateXXY,"$3/$1/$2"):"ddmmyyyy"===t?e=e.replace(r.regex.shortDateXXY,"$3/$2/$1"):"yyyymmdd"===t&&(e=e.replace(r.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(e);return n instanceof Date&&isFinite(n)?n.getTime():""},r.addParser({id:"shortDate",is:function(e){return e=(e||"").replace(r.regex.spaces," ").replace(r.regex.shortDateReplace,"/"),r.regex.shortDateTest.test(e)},format:function(e,t,n,a){if(e){var o=t.config,s=o.$headerIndexed[a],i=s.length&&s.data("dateFormat")||r.getData(s,r.getColumnData(t,o.headers,a),"dateFormat")||o.dateFormat;return s.length&&s.data("dateFormat",i),r.convertFormat(e,i)||e}return e},type:"numeric"}),r.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,r.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,r.addParser({id:"time",is:function(e){return r.regex.timeTest.test(e)},format:function(e,t){var n,a=(e||"").match(r.regex.timeMatch),o=new Date(e),s=e&&(null!==a?a[0]:"00:00 AM"),i=s?new Date("2000/01/01 "+s.replace(r.regex.dateReplace,"$1 $2")):s;return i instanceof Date&&isFinite(i)?(n=o instanceof Date&&isFinite(o)?o.getTime():0,n?parseFloat(i.getTime()+"."+o.getTime()):i.getTime()):e},type:"numeric"}),r.addParser({id:"metadata",is:function(){return!1},format:function(e,r,n){var a=r.config,o=a.parserMetadataName?a.parserMetadataName:"sortValue";return t(n).metadata()[o]},type:"numeric"}),r.addWidget({id:"zebra",priority:90,format:function(e,r,n){var a,o,s,i,l,d,c,g=new RegExp(r.cssChildRow,"i"),u=r.$tbodies.add(t(r.namespace+"_extra_table").children("tbody:not(."+r.cssInfoBlock+")"));for(l=0;l<u.length;l++)for(s=0,a=u.eq(l).children("tr:visible").not(r.selectorRemove),c=a.length,d=0;d<c;d++)o=a.eq(d),g.test(o[0].className)||s++,i=s%2===0,o.removeClass(n.zebra[i?1:0]).addClass(n.zebra[i?0:1])},remove:function(e,t,n,a){if(!a){var o,s,i=t.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(o=0;o<i.length;o++)s=r.processTbody(e,i.eq(o),!0),s.children().removeClass(l),r.processTbody(e,s,!1)}}})}(e),e.tablesorter}),define("lift",[],function(){var e={util:{getXYScroll:function(){var t=[],r=[];return $.each(e.scrollTarget,function(e,n){var a;a=void 0===$(n).scrollLeft()?0:$(n).scrollLeft(),t.push(a),a=void 0===$(n).scrollTop()?0:$(n).scrollTop(),r.push(a)}),{x:t[0]===t[1]?t[0]:t[0]>t[1]?t[0]:t[1],y:r[0]===r[1]?r[0]:r[0]>r[1]?r[0]:r[1]}},getViewPosition:function(e){if(null===e||void 0===e)return null;var t=document.getElementById(e),r=t.getBoundingClientRect(),n={};return n.left=r.left||0,n.top=r.top||0,n.right=r.right||0,n.bottom=r.bottom||0,n.width=r.width||r.right-r.left,n.height=r.height||r.bottom-r.top,n}},ctrl:{init:function(t){e.scrollTarget=$("html, body"),e.timing=t.timing||1e3,e.offsetTop=t.offsetTop||0,e.offsetLeft=t.offsetLeft||0},"goto":function(t){e.containerId=t||null;var r,n,a=e.util.getXYScroll().y;t?(r=e.util.getViewPosition(t).top-e.offsetTop,n=a+r):(r=a-e.offsetTop,n=0),e.scrollTarget.animate({scrollTop:n},e.timing)}}},t={redirect:function(e){e=e||"http://sports.qq.com/nba/",win.location.href=e},throttle:function(e,t,r){var n,a,o,s=null,i=0;r||(r={});var l=function(){i=r.leading===!1?0:(new Date).getTime(),s=null,o=e.apply(n,a),s||(n=a=null)};return function(){var d=(new Date).getTime();i||r.leading!==!1||(i=d);var c=t-(d-i);return n=this,a=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=null),i=d,o=e.apply(n,a),s||(n=a=null)):s||r.trailing===!1||(s=setTimeout(l,c)),o}}},r={init:function(){this.render()},render:function(){this.bind()},bind:function(){$(".lift .list").on("mouseenter","li.app",function(e){$(this).find(".code").css("display","block")}),$(".lift .list").on("mouseleave","li.app",function(e){$(this).find(".code").css("display","none")}),$(".lift .list").on("click","li.arrow",function(t){e.ctrl.init({}),e.ctrl["goto"]()})}};r.init();var n=function(){var e=$(".lift"),t=$(window).scrollTop();$(window).scrollLeft();t>=260?e.find(".arrow").css("visibility","visible"):e.find(".arrow").css("visibility","hidden")},a=t.throttle(n,100,{leading:!1});$(window).scroll(function(){a()})}),define("main",["require","jquery","templateModule","dataCtrl","lib/getAge","lib/jquery.tablesorter","lift"],function(e){function t(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var r=e("jquery"),n=e("templateModule"),a=e("dataCtrl"),o=e("lib/getAge").getAge,s=r(".container"),i=s.find(".teams"),l=s.find(".players");i.on("click","a[data-teamId]",function(e){var t=r(this),a=t.attr("data-teamId");a&&(e.preventDefault(),d(a).done(function(e){l.html(n("players",{players:e})),l.find("table tbody > tr").each(function(e,t){window.setTimeout(function(){r(t).addClass("show")},20*e)})}),i.find("a.current[data-teamId]").removeClass("current"),t.addClass("current"),e.isTrigger||(window.location.hash="teamId="+a))}),r.ajax({url:"//matchweb.sports.qq.com/team/list?columnId=100000&competitionId=100000&from=sporthp",data:"",dataType:"jsonp",jsonpCallback:"getTeamList"}).done(function(e){if(e&&0===e.code&&e.data){var t=["east","west"];i.html(n("teams",{data:e.data,keys:t}));var r,a=window.location.hash.match(/teamId=(\d+)/),o=null;a&&2===a.length&&(o=a.pop()),o&&(r=i.find("a[data-teamId="+o+"]")),r?r.trigger("click"):i.find("a[data-teamId]:eq(0)").trigger("click")}});var d=function(){var e;return function(n){var s=r.Deferred(),i=s.promise();return e?s.rsolve(e):a.getPlayerListByTeamId(n).then(function(e){var n=e.nbaTeamPlayerSeasonStat,i=[];r.each(n,function(e,t){i.push(t.playerId)}),a.getPlayerInfoByPlayerId(i).then(function(e){return e.playerBaseInfo.length!==n.length?void s.rejcect():(r.each(n,function(a,s){r.each(e.playerBaseInfo,function(e,r){if(s.playerId===r.playerId)return r.wageStr=t(Math.round(r.wage/1e4)),r.careerAge=parseInt(r.curSeasonId)-parseInt(r.draftYear),r.careerAge<0&&(r.careerAge="-"),r.careerAge=r.careerAge>50?null:r.careerAge,r.age=o(r.birthDate),r.height=r.height.replace(/[^\d\.]*/g,""),r.weight=r.weight.replace(/[^\d\.]*/g,""),n[a]._fgAttemptedPG=Math.round(10*s.fgAttempted/s.games)/10||0,n[a]._fgPCT=0===parseInt(s.fgMade,10)?"0":Math.round(1e3*s.fgMade/s.fgAttempted)/10,n[a]._ftPCT=0===parseInt(s.ftMade,10)?"0":Math.round(1e3*s.ftMade/s.ftAttempted)/10,n[a]._threesPointPG=Math.round(30*s.threesMade/s.games)/10||0,n[a]._threesAttemptedPG=Math.round(10*s.threesAttempted/s.games)/10||0,n[a]._threesPCT=0===parseInt(s.threesMade,10)?"0":Math.round(1e3*s.threesMade/s.threesAttempted)/10,n[a]._ftPointPG=Math.round(10*s.ftMade/s.games)/10||0,n[a]._ftAttemptedPG=Math.round(10*s.ftAttempted/s.games)/10||0,n[a].playerBaseInfo=r,!1})}),n.sort(function(e,t){return t.playerBaseInfo.wage-e.playerBaseInfo.wage}),void s.resolve(n))})},function(){s.rejcect}),i}}()}),require.config({baseUrl:"./scripts/",paths:{jquery:"//mat1.gtimg.com/libs/jquery/1.12.4/jquery.min",promise:"//mat1.gtimg.com/statsnba/libs/bluebird.min"},shim:{}}),require(["main"]),define("config",function(){})}();
//# sourceMappingURL=main-c2169bfeee.js.map
/*  |xGv00|8fe1060eaf5f87319693051305c7490a */