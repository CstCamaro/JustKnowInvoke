!function(){!function(){function t(t,e){return(/string|function/.test(typeof e)?o:r)(t,e)}function e(t,n){return"string"!=typeof t&&(n=typeof t,"number"===n?t+="":t="function"===n?e(t.call(t)):""),t}function n(t){return f[t]}function i(t){return e(t).replace(/&(?![\w#]+;)|[<>"']/g,n)}function s(t,e){if(u(t))for(var n=0,i=t.length;n<i;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)}function a(t,e){var n=/(\/)[^\/]+\1\.\.\1/,i=("./"+t).replace(/[^\/]+$/,""),s=i+e;for(s=s.replace(/\/\.\//g,"/");s.match(n);)s=s.replace(n,"/");return s}function r(e,n){var i=t.get(e)||l({filename:e,name:"Render Error",message:"Template not found"});return n?i(n):i}function o(t,e){if("string"==typeof e){var n=e;e=function(){return new d(n)}}var i=c[t]=function(n){try{return new e(n,t)+""}catch(i){return l(i)()}};return i.prototype=e.prototype=p,i.toString=function(){return e+""},i}function l(t){var e="{Template Error}",n=t.stack||"";if(n)n=n.split("\n").slice(0,2).join("\n");else for(var i in t)n+="<"+i+">\n"+t[i]+"\n\n";return function(){return"object"==typeof console&&console.error(e+"\n\n"+n),e}}var c=t.cache={},d=this.String,f={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},u=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},p=t.utils={$helpers:{},$include:function(t,e,n){return t=a(n,t),r(t,e)},$string:e,$escape:i,$each:s},v=t.helpers=p.$helpers;t.get=function(t){return c[t.replace(/^\.\//,"")]},t.helper=function(t,e){v[t]=e},"function"==typeof define?define("templateModule",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:this.template=t;var h;t.helper("isSameDate",function(t){var e=/([0-9\-]+) ([0-9]{2}\:)([0-9]{2})\:[0-9]+/;if("undefined"==typeof h)return h=t.replace(e,"$1"),!0;var n=t.replace(e,"$1");return n===h||(h=n,!1)}),t.helper("transfer",function(t){var e=/([0-9\-]+) ([0-9]{2}\:)([0-9]{2})\:[0-9]+/;return t.replace(e,"$2$3")}),t.helper("getCondition",function(t){var e=/([0-9\-]+) ([0-9]{2}\:)([0-9]{2})\:[0-9]+/;switch(t.period){case"PreMatch":return t.startTime.replace(e,"$2$3");case"Abandoned":return"\u5df2\u53d6\u6d88";case"Postponed":return"\u5df2\u5ef6\u671f";default:return"\u76f4\u64ad\u4e2d"}}),t.helper("getDay",function(t){var e=new Date(1e3*t),n=e.getDay(),i=e.getMonth()+1;i=i<10?"0"+i:i.toString();var s=e.getDate(),a=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"];return a[n]+" "+i+" / "+s}),t.helper("dateFormat",function(t){var e=new Date(1e3*t),n=function(t){return parseInt(t)<10?"0"+t:t},i="";i+=e.getMonth()+1+"\u6708"+e.getDate()+"\u65e5 ";var s=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"];return i+=s[e.getDay()]+" ",i+=n(e.getHours())+":"+n(e.getMinutes())}),t.helper("transformDuration",function(t){var e=parseInt(t),n=0,i=0;e>60&&(n=parseInt(e/60),e=parseInt(e%60),n>60&&(i=parseInt(n/60),n=parseInt(n%60))),e<10&&(e="0"+e);var s=""+e;return n>0?(n<10&&(n="0"+n),s=""+n+":"+s):s="00:"+s,i>0&&(i<10&&(i="0"+i),s=""+i+":"+s),s}),t.helper("tenK",function(t){return parseInt(t/1e4)>0?Math.round(parseInt(t)/1e4)+"\u4e07":t}),t("common-video-list",function(t,e){"use strict";var n=this,i=n.$helpers,s=n.$escape,a=t.wrong,r=t.columnNum,o=t.i,l=t.results,c=i.transformDuration,f=i.tenK,u="";u+=s(a),u+=" ",r||(u+=" ",r=6,u+=" "),u+=" <ul> ";for(var o in l)u+=' <li class="',o<r?(u+=" ",u+=s("line-one"),u+=" "):(u+=" ",u+=s("lines"),u+=" "),u+='"> <a href="',u+=s(l[o].fields.url),u+='" target="_blank" title="',u+=s(l[o].fields.title),u+='"> <img src="',u+=s(l[o].fields.pic_640_360),u+='" alt="',u+=s(l[o].fields.title),u+='"> <div class="text main-text">',u+=s(l[o].fields.title),u+='</div> <div class="info-line"> <span class="duration">',u+=s(c(l[o].fields.duration)),u+='</span> <span class="count">',u+=s(f(l[o].fields.view_all_count)),u+="</span> </div> </a> </li> ";return u+=" </ul> ",new d(u)}),t("focus-videos",function(t,e){"use strict";var n=this,i=(n.$helpers,t.i),s=t.pages,a=n.$escape,r=t.j,o=t.cover,l=t.k,c=t.pagesName,f="";f+='<div class="ct-scroll pl-content"> <a href="javascript:;" class="btn-prev">\u524d\u4e00\u9875</a> <div class="left_video"> <div class="player" id="tvp_player" bosszone="PLG_play_video"> </div> <div class="titlebar"> <div class="listbtn"></div> <div class="playinfo">\u6b63\u5728\u64ad\u653e<span></span></div> <h3></h3> </div> <div class="vlist"> <h3>\u64ad\u653e\u5217\u8868</h3> <div class="close-btn">\xd7</div> <ol></ol> </div> </div> <ul id="ls-special" style="" class="ct-slider cf"> ';for(var i=0;i<s.length;i++){f+=' <li class="special" data-page="',f+=a(i),f+='"> <div class="clist"> <ul class="ls-item-special list-video" bosszone="PLG_play_tab"> ';for(var r=0;r<s[i].length;r++){f+=" ";var o=s[i][r];f+=' <li> <a href="javascript:;" data-cid="',f+=a(o.cid),f+='" data-ctitle="',f+=a(o.title),f+='"> <img src="',f+=a(o.pic_url),f+='"> <div class="title-bg title-gradient-bg"></div> <p class="title">',f+=a(o.title),f+='</p> <div class="hover hover-bg"></div> <p class="hover hover-btn">\u89c2\u770b</p> </a> </li> '}f+=' </ul> <div class="coverage"></div> </div> </li> '}f+=' </ul> <a href="javascript:;" class="btn-next">\u540e\u4e00\u9875</a> </div> <ul id="nav-special" bosszone="PLG_play_tab"> ';for(var l=0;l<c.length;l++)f+=" ",0==l?(f+=' <li class="nth-1 on" data-ref="',f+=a(i),f+='"> '):(f+=' <li data-ref="',f+=a(i),f+='"> '),f+=' <a href="javascript:;" target="_self"> ',f+=a(c[l]),f+=" </a> </li> </li> ";return f+=" </ul>",new d(f)}),t("focus-videos_li",function(t,e){"use strict";var n=this,i=(n.$helpers,t.i),s=t.videos,a=n.$escape,r="";for(var i in s)r+=' <li class="',0==i&&(r+=" ",r+=a("current"),r+=" "),r+='" data-vid="',r+=a(s[i].vid),r+='"> <a href="javascript:;"> <img src="',r+=a(s[i].pic_640_360),r+='" alt="',r+=a(s[i].title),r+='" class="preview"> <p class="title">',r+=a(s[i].title),r+='</p> <p class="allnumc"><i class="icon"></i>',r+=a(s[i].view_all_count),r+="</p> </a> </li> ";return new d(r)}),t("gallery-schedule",function(t,e){"use strict";var n=this,i=n.$helpers,s=t.data,a=t.i,r=n.$escape,o=i.dateFormat,l=t.j,c="";if(c+='<ul class="matches"> ',s.noData)c+=' <li class="no-match">\u6682\u65e0\u5f53\u524d\u8f6e\u6b21\u6bd4\u8d5b\u89c6\u9891</li> ';else{c+=" ";for(var a in s){if(c+=' <li class="match"> <div class="match-head"> <div class="time"> ',c+=r(o(s[a].match.startTimeStamp)),c+=' </div> <div class="match-teams"> <span class="home">',c+=r(s[a].match.homeName),c+='</span> <span class="vs">VS</span> <span class="away">',c+=r(s[a].match.awayName),c+='</span> </div> <div class="result">  ',"FullTime"==s[a].match.period?(c+=' <span class="score">',c+=r(s[a].match.homeGoal),c+='</span> <span class="divider">--</span> <span class="score">',c+=r(s[a].match.awayGoal),c+="</span>  "):"PreMatch"==s[a].match.period?c+=' <span class="condition-text">\u672a\u5f00\u59cb</span>  ':("FirstHalf"==s[a].match.period,c+=' <span class="condition-text">\u8fdb\u884c\u4e2d</span> '),c+=' </div> </div> <div class="match-video-container video-container"> ',0==s[a].list.length)c+=" ",c+=r("\u6682\u65e0\u89c6\u9891"),c+=" ";else{c+=' <div class="btn btn-prev"></div> <ul class="match-videos video-list"> ';for(var l in s[a].list)c+=' <li class="match-video"> <a href="',c+=r(s[a].list[l].playUrl),c+='" target="_blank" title="',c+=r(s[a].list[l].title),c+='"> ',s[a].list[l].tag&&(c+=' <div class="tag">',c+=r(s[a].list[l].tag),c+="</div> "),c+=' <img src="',c+=r(s[a].list[l].pic),c+='" alt="',c+=r(s[a].list[l].title),c+='"> <div class="title-text">',c+=r(s[a].list[l].title),c+="</div> </a> </li> ";c+=' </ul> <div class="btn btn-next"></div> '}c+=" </div> </li> "}c+=" "}return c+=" </ul> ",new d(c)}),t("moving-video-list",function(t,e){"use strict";var n=this,i=(n.$helpers,n.$escape),s=t.wrong,a=t.i,r=t.results,o="";o+=i(s),o+=' <div class="video-container video-list-wrapper"> <div class="btn btn-prev"> <a class=\'icon prev\'></a> </div> <ul class="video-list"> ';for(var a in r)o+=' <li> <a href="',o+=i(r[a].fields.url),o+='" target="_blank" title="',o+=i(r[a].fields.title),o+='"> <img src="',o+=i(r[a].fields.pic_640_360||r[a].fields.horizontal_pic_url),o+='" alt="',o+=i(r[a].fields.title),o+='"> <div class="text main-text"> <div>',o+=i(r[a].fields.title),o+="</div> </div> </a> </li> ";return o+=" </ul> <div class=\"btn btn-next\"> <a class='icon next'></a> </div> </div> ",new d(o)}),t("schedule",function(t,e){"use strict";var n=this,i=n.$helpers,s=t.i,a=t.footballMatchList,r=n.$escape,o=i.getDay,l=t.j,c=i.isSameDate,f=i.getCondition,u="";u+='<div class="pl-content"> <div class="btn btn-prev" bosszone="PLG_sche_next"> <a class=\'icon prev\'></a> </div> <div class="main" bosszone="PLG_sche_time"> <ul class="schedule clearfix"> ';for(var s=0;s<a.length;s){u+=' <li class="date"> <div class="day"> ',u+=r(o(a[s].startTimeStamp)),u+=' </div> <ul class="matchs"> ';for(var l=s;l<a.length;l++){if(u+=" ",!c(a[l].startTime)){u+=" ",s=l,u+=" ";break}u+=' <li class="match"> <a class="match-link" target="_blank" href="http://sports.qq.com/kbsweb/game.htm?mid=8:',u+=r(a[l].matchId),u+='"> <div class="match-content clearfix"> <div class="logo"> <img class="home-logo" src="',u+=r(a[l].homeLogo),u+='" alt="',u+=r(a[l].homeName),u+='"> <img class="away-logo" src="',u+=r(a[l].awayLogo),u+='" alt="',u+=r(a[l].awayName),u+='"> </div> <div class="name"> <div class="home-team">',u+=r(a[l].homeName),u+='</div> <div class="away-team">',u+=r(a[l].awayName),u+='</div> </div> <div class="period ',u+=r(a[l].period),u+='"> ',"FullTime"==a[l].period?(u+=' <span class="score">',u+=r(a[l].homeGoal),u+='</span> <span class="divider">:</span> <span class="score">',u+=r(a[l].awayGoal),u+="</span> "):(u+=" ",u+=r(f(a[l])),u+=" "),u+=" </div> </div> </a> </li> ",u+=" "}if(u+=" ",l===a.length){u+=" ";break}u+=" </ul> </li> "}return u+=' </ul> </div> <div class="btn btn-next" bosszone="PLG_sche_next"> <a class=\'icon next\'></a> </div> </div> ',new d(u)}),t("slider-video-list",function(t,e){"use strict";var n=this,i=n.$helpers,s=n.$escape,a=t.wrong,r=t.i,o=t.results,l=i.transformDuration,c=i.tenK,f="";f+=s(a),f+=' <div class="video-container video-list-wrapper"> <div class="btn btn-prev"> <a class=\'icon prev\'></a> </div> <ul class="video-list"> ';for(var r in o)f+=' <li> <a href="',f+=s(o[r].fields.url),f+='" target="_blank" title="',f+=s(o[r].fields.title),f+='"> <img src="',f+=s(o[r].fields.pic_640_360),f+='" alt="',f+=s(o[r].fields.title),f+='"> <div class="text main-text">',f+=s(o[r].fields.title),f+='</div> <div class="info-line"> <span class="duration">',f+=s(l(o[r].fields.duration)),f+='</span> <span class="count">',f+=s(c(o[r].fields.view_all_count)),f+="</span> </div> </a> </li> ";return f+=" </ul> <div class=\"btn btn-next\"> <a class='icon next'></a> </div> </div> ",new d(f)})}(),define("lib/animate",[],function(){var t=function(t,n,i){clearInterval(t.timer),t.timer=setInterval(function(){var s;for(var a in n){var r=0;r="opacity"==a?Math.round(100*parseFloat(e(t,a))):parseInt(e(t,a));var o=(n[a]-r)/24;o=o>0?Math.ceil(o):Math.floor(o),r==n[a]?s=!0:(r==n[a]&&(s=!1),"opacity"==a?(t.style.opacity=(r+o)/100,t.style.filter="alpha(opacity:"+(r+o)+")"):t.style[a]=r+o+"px")}s&&(clearInterval(t.timer),i&&i())},13)},e=function(t,e){return t.currentStyle?t.currentStyle[e]:getComputedStyle(t,!1)[e]};return{animate:t}}),define("lib/Slider",["lib/animate"],function(t){var e=function(t,e){this.main=$(t).find(e.main||".ct-slider"),this.btnPrev=$(t).find(e.btnPrev||".btn-prev"),this.btnNext=$(t).find(e.btnNext||".btn-next"),this.partSize=e.partSize,this.ctWidth=0,this.curPos=-e.offsetLeft||0,this.curIndex=0,this.offsetLeft=e.offsetLeft||0,this.offsetRight=e.offsetRight||0,this.callback=e.callback,this.basicItem=e.basicItem,this._init()};return e.prototype._init=function(){this._initPrototype(),this._initEvent()},e.prototype._initPrototype=function(){var t=this;if("undefined"!=typeof this.basicItem){var e=$(this.basicItem);this.ctWidth=e.eq(0).outerWidth(!0)*e.length}else $.each(this.main.children(),function(e,n){t.ctWidth+=$(n).outerWidth(!0)});this.main.width(this.ctWidth),this.range=[-this.ctWidth+this.partSize+this.offsetRight-this.offsetLeft,0-this.offsetLeft],this._resetBtn()},e.prototype._initEvent=function(){var e=this;this.btnPrev.unbind("click").click(function(n){if(!$(this).hasClass("off")){e._lockBtn();var i=e.curPos+e.partSize+e.offsetRight;e.curPos!==e.range[1]&&e.curIndex--,e.curPos=i>=e.range[1]?e.range[1]:i,e.callback&&e.callback(e.curIndex),t.animate(e.main[0],{marginLeft:e.curPos+""},function(){e._resetBtn()})}}),this.btnNext.unbind("click").click(function(n){if(!$(this).hasClass("off")){e._lockBtn();var i=e.curPos-e.partSize-e.offsetRight;e.curPos!==e.range[0]&&e.curIndex++,e.curPos=i>=e.range[0]?i:e.range[0],e.callback&&e.callback(e.curIndex),t.animate(e.main[0],{marginLeft:e.curPos+""},function(){e._resetBtn()})}})},e.prototype._lockBtn=function(){this.btnPrev.addClass("off"),this.btnNext.addClass("off")},e.prototype._resetBtn=function(){this.curPos>=this.range[1]?this.btnPrev.addClass("off"):this.btnPrev.removeClass("off"),this.curPos<=this.range[0]?this.btnNext.addClass("off"):this.btnNext.removeClass("off")},e.prototype.refresh=function(){this.ctWidth=0,this._initPrototype(),this.curPos=this.range[1],this.curIndex=0,this.main.css("marginLeft",this.range[1]),this._resetBtn()},e.prototype.to=function(e){var n=this;e<n.range[0]?n.curPos=n.range[0]:e>n.range[1]?n.curPos=n.range[1]:n.curPos=e,n._lockBtn(),t.animate(n.main[0],{marginLeft:n.curPos+""},function(){n._resetBtn()})},e}),define("lib/cache",[],function(){var t,e=[],n=0,i=[];return{getMatchList:function(){var e=$.Deferred(),n=function(){$.ajax({type:"get",async:!0,url:"//ziliaoku.sports.qq.com/cube/index?cubeId=14&dimId=36&from=sportsdatabase&params=t3:8|t6:2018-01-01~2018-12-31",dataType:"jsonp",success:function(n){t=n.data.footballMatchList,e.resolve(t)},error:function(t){}})};return"undefined"==typeof t?n():e.resolve(t),e},getMatchByRound:function(t){t-=1;var i=$.Deferred(),s=this,a=function(t){s.getMatchList().then(function(s){for(var a=s,r=0;r<a.length;r++){var o=a[r].roundNumber-1;if(e[o]=e[o]||[],e[o].push(a[r]),"PreMatch"==a[r].period){n=e[o].length>1?a[r].roundNumber:a[r].roundNumber-1;break}}i.resolve(e[t])},function(){})};return 0===e.length?a(t):i.resolve(e[t]),i},getCurrentRound:function(){var t=$.Deferred(),e=this;return 0==n?e.getMatchByRound(50).then(function(){t.resolve(n)}):t.resolve(n),t.promise()},getMatchVidsByRound:function(t){var e=$.Deferred();return this.getMatchByRound(t).then(function(n){var s=n;if(i[t-1])e.resolve(i[t-1]);else{for(var a=[],r=[],o=0;o<s.length;o++){var l=s[o].matchId;r[o]={},r[o].match=s[o],function(t,e){var n=$.ajax({type:"GET",dataType:"jsonp",url:"//matchweb.sports.qq.com/kbs/matchVideo?mid=8:"+t,async:!0}).done(function(t){t.data.totalList.length>0&&(r[e].list=r[e].list||[],r[e].list=r[e].list.concat(t.data.totalList))});a.push(n)}(l,o)}$.when.apply($,a).then(function(){for(var n=0;n<r.length;n)"undefined"==typeof r[n].list?r.splice(n,1):n++;i[t-1]=r,e.resolve(r)})}}),e.promise()}}}),define("app/schedule",["templateModule","lib/Slider","lib/cache"],function(t,e,n){var i,s=$("#pl-schedule"),a="schedule",r=0,o=n.getMatchList().then(function(t){i=t;var e=new Date,n=1e3*i[i.length-1].startTimeStamp;if(e.getTime()-n>0)return void(r=i.length-6);for(var s=0;s<i.length;s++){var a=i[s],o=new Date(1e3*a.startTimeStamp);if((o-e)/1e3/60/60/24>-1){if(o.getFullYear()>e.getFullYear()){r=s;break}if(o.getMonth()>e.getMonth()){r=s;break}if(o.getDate()>=e.getDate()){r=s;break}}}},function(){});return{render:function(){o.done(function(){t.helper("transformDuration",function(t){var e=parseInt(t),n=0,i=0;e>60&&(n=parseInt(e/60),e=parseInt(e%60),n>60&&(i=parseInt(n/60),n=parseInt(n%60))),e<10&&(e="0"+e);var s=""+e;return n>0?(n<10&&(n="0"+n),s=""+n+":"+s):s="00:"+s,i>0&&(i<10&&(i="0"+i),s=""+i+":"+s),s}),t.helper("getDay",function(t){var e=new Date(1e3*t),n=e.getDay(),i=e.getMonth()+1;i=i<10?"0"+i:i.toString();var s=e.getDate(),a=["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"];return a[n]+" "+i+" / "+s}),s.html(t(a,{footballMatchList:i})),slider=new e(s,{main:".schedule",btnPrev:".btn-prev",btnNext:".btn-next",basicItem:".match",partSize:1200}),slider.to(r*-200)})}}}),define("app/nav",["templateModule"],function(t){$("#pl-nav");return{render:function(){var t=$(".nav > li");t.mouseenter(function(){t.removeClass("on"),$(this).addClass("on")})}}}),define("lib/InfiniteSlider",["require"],function(t){var e={};return e.createNew=function(t){var e=t.$moveElem.find(">li"),n=$(e[0]).outerWidth(!0),i=e.length;t.$moveElem.css("width",n*i);var s=!1,a=400,r="linear",o=0,l=i,c=function(){var t=o%l;return t>0?l-t:t<0?Math.abs(t):0},d=function(e){var n=c(),i=0,s=0,a="";"string"==typeof e?("-1"===e&&(a="prev",e=n>0?n-1:l-1),"+1"===e&&(a="next",e=n<l-1?n+1:0)):(e>n?(i=e-n,s=n+(l-e)):(i=l-n+e,s=n-e),a=i<s?"next":i>s?"prev":e>n?"next":"prev"),t.onBeforeMove(n);var r=function(){e!==c()?u[a](r):t.onAfterMove(e)};r()},f={_getElem:function(){return{$first:t.$moveElem.find(">li:first"),$last:t.$moveElem.find(">li:last")}},last2first:function(){var t=this._getElem();t.$last.insertBefore(t.$first)},first2last:function(){var t=this._getElem();t.$first.insertAfter(t.$last)}},u={};return u.next=function(e){if(!s){s=!0;var i=parseInt(t.$moveElem.css("margin-left"),10);t.$moveElem.stop().animate({"margin-left":i-n},a,r,function(){f.first2last(),t.$moveElem.css("margin-left",i),s=!1,o-=1,e&&e.apply()})}},u.prev=function(e){if(!s){s=!0;var i=parseInt(t.$moveElem.css("margin-left"),10);f.last2first(),t.$moveElem.css("margin-left",i-n),t.$moveElem.stop().animate({"margin-left":i},a,r,function(){s=!1,o+=1,e&&e.apply()})}},f.last2first(),t.$moveElem.css("margin-left",0-n),t.$btnPrev&&t.$btnPrev.click(function(){d("-1")}),t.$btnNext&&t.$btnNext.click(function(){d("+1")}),{go:d}},e}),define("lib/utility",[],function(){var t={getVideosByCoverId:function(t,e){var n=$.Deferred(),i=n.promise();return $.ajax({url:"//data.video.qq.com/fcgi-bin/data?tid=675&appid=20001257&appkey=86ff0af73276ade8&otype=json&idlist="+t,dataType:"jsonp",scriptCharset:"utf-8"}).done(function(t){if(t&&0===t.errorno&&t.results){var i=t.results[0].fields.video_ids||"";e=e||24;var s=i.slice(0,e).join(",");$.ajax({url:"//data.video.qq.com/fcgi-bin/data?tid=674&appid=20001257&appkey=86ff0af73276ade8&otype=json",data:{idlist:s},cache:!0,dataType:"jsonp",scriptCharset:"utf-8"}).done(function(t){t&&0===t.errorno&&t.results?n.resolve(t.results):n.reject()}).fail(n.reject)}else n.reject()}).fail(n.reject),i},getHaoMenNews:function(t){var e=$.Deferred(),n=e.promise();return $.ajax({url:"//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=24&offset=0&sort=5&c_column_id="+t+"&novalue=1",dataType:"jsonp",scriptCharset:"utf-8"}).done(function(t){t&&0===t.jsonvalue.errorno&&t.jsonvalue.results?e.resolve(t.jsonvalue.results):e.reject()}).fail(e.reject),n}};return t}),define("app/focus-videos",["templateModule","sportLogin","lib/InfiniteSlider","txplayer","lib/utility"],function(t,e,n,i,s){function a(t){m.push(v["\u8d5b\u7a0b"],v["\u7cbe\u9009"]),g=[];for(var e=0;e<m[t].length;e++)g.push(m[t][e].cid);h.find(".vlist").hide(),f=h.find(".vlist ol"),u=d.eq(t).find(".clist"),d.eq(t).find("li").on("click",function(){var e=$(this).find("a").attr("data-cid");_=$(this).index(),$(this).addClass("current").siblings().removeClass("current"),r(e,t)}),d.eq(t).find("li").first().trigger("click")}function r(e,n){$.ajax({url:"//data.video.qq.com/fcgi-bin/data?tid=69&idlist="+e+"&appid=10001007&appkey=e075742beb866145&otype=json",type:"GET",dataType:"jsonp"}).done(function(e){l=e.results[0].fields.video_ids,f.html(t("focus-videos_li",{videos:l})),o(n,l)})}function o(e,n){function i(t){var e=f.children("li").eq(t).find("p.title").text(),n=f.children("li").length,i="("+(t+1)+"/"+n+")";$(".left_video .titlebar h3").html(e),$(".left_video .titlebar span").html(i)}function s(e,n){l&&(c?c.play(n):sportTxplayer({vid:n,width:"100%",height:"100%",containerId:"tvp_player",flashWmode:"transparent",autoplay:1,showBullet:!1,nextVid:"true",useMiniSkin:"true"},function(a){c=a,a.on("ready",function(){a.mute()}),a.on("playStateChange",function(t){t&&0==t.state&&(e=f.find("li.current").index(),b=f.find("li.current").next().index(),_=u.find("li.current").index(),y=u.find("li.current").next().index(),o(e,b,_,y))});var o=function(t,e,r,o){if(t==l.length-1){if(u.find("li").removeClass("current").eq(o).addClass("current"),d(r),r==g.length-1){var c=l.length-1;if(t==c)return void a.pute()}}else f.find("li").hasClass("current")&&(f.find("li").removeClass("current").eq(e).addClass("current"),n=f.find("li.current").attr("data-vid"),i(e),s(e,n))},d=function(n){var i=u.find("li.current a").attr("data-cid");e=0,n==g.length-1?f.html(t("focus-videos_li",{videos:l})):(u.find("li").removeClass("current").eq(n).next().addClass("current"),r(i,e))}}))}n=f.find("li").first().attr("data-vid"),f.find("li").on("click",function(){e=$(this).index(),$(this).addClass("current").siblings().removeClass("current"),n=$(this).attr("data-vid"),i(e),s(e,n)}),f.find("li").first().trigger("click")}var l,c,d,f,u,p=[],v={},h=$("#pl-focus-videos"),m=[],g=[],b=0,y=0,_=0;return{render:function(){$.ajax({url:"//data.v.qq.com/videocms/getNewsvideoList.php?callback=focusinfos&ref=pclient&appkey=6UkwV9DeHr9_PC&vsite=sports&ename=sports_yc_focus",dataType:"jsonp",scriptCharset:"utf-8"}).done(function(e){if(e&&e.data&&e.data.content){$.each(e.data.content,function(t,e){e&&e.partition&&(v[e.partition]||(v[e.partition]=[],p.push(e.partition)),v[e.partition].push(e))});var i={pagesName:p,pages:[]};$.each(p,function(t,e){e="\u7cbe\u534e"==e?"\u7cbe\u9009":e,i.pages.push(v[e])}),h.html(t("focus-videos",i));var s=h.find(".coverage");d=h.find("ul.ct-slider > li");var r=$("#nav-special > li"),o=function(t){r.removeClass("on").eq(t).addClass("on")},l=n.createNew({$moveElem:h.find("ul.ct-slider"),$btnPrev:h.find("a.btn-prev"),$btnNext:h.find("a.btn-next"),onBeforeMove:function(t){},onAfterMove:function(t){o(t),a(t);var e;e=t-1<0?2:t-1,h.find("a.btn-prev").text(p[e]),e=t+1==p.length?0:t+1,h.find("a.btn-next").text(p[e]),s.removeClass("off"),s.eq(t).addClass("off")}});l.go(0),r.each(function(t){$(this).click(function(){l.go(t),o(t)})});var c=$(".left_video .listbtn"),f=h.find(".vlist .close-btn");c.on("click",function(){h.find(".vlist").toggle()}),f.on("click",function(){h.find(".vlist").hide()})}})}}}),define("app/latest",["templateModule"],function(t){var e,n=$("#pl-latest .module-content .video-list-wrapper"),i="common-video-list",s=$.ajax({type:"get",async:!0,url:"//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=12&offset=0&sort=3&c_category=10926&574=1586633&580=153043",dataType:"jsonp",success:function(t){e=t.jsonvalue},error:function(t){}});return{render:function(){s.done(function(){n.html(t(i,e))})}}}),define("lib/slider",["lib/animate"],function(t){var e=function(t,e){this.main=$(t).find(e.main||".ct-slider"),this.btnPrev=$(t).find(e.btnPrev||".btn-prev"),this.btnNext=$(t).find(e.btnNext||".btn-next"),this.partSize=e.partSize,this.ctWidth=0,this.curPos=-e.offsetLeft||0,this.curIndex=0,this.offsetLeft=e.offsetLeft||0,this.offsetRight=e.offsetRight||0,this.callback=e.callback,this.basicItem=e.basicItem,this._init()};return e.prototype._init=function(){this._initPrototype(),this._initEvent()},e.prototype._initPrototype=function(){var t=this;if("undefined"!=typeof this.basicItem){var e=$(this.basicItem);this.ctWidth=e.eq(0).outerWidth(!0)*e.length}else $.each(this.main.children(),function(e,n){t.ctWidth+=$(n).outerWidth(!0)});this.main.width(this.ctWidth),this.range=[-this.ctWidth+this.partSize+this.offsetRight-this.offsetLeft,0-this.offsetLeft],this._resetBtn()},e.prototype._initEvent=function(){var e=this;this.btnPrev.unbind("click").click(function(n){if(!$(this).hasClass("off")){e._lockBtn();var i=e.curPos+e.partSize+e.offsetRight;e.curPos!==e.range[1]&&e.curIndex--,e.curPos=i>=e.range[1]?e.range[1]:i,e.callback&&e.callback(e.curIndex),t.animate(e.main[0],{marginLeft:e.curPos+""},function(){e._resetBtn()})}}),this.btnNext.unbind("click").click(function(n){if(!$(this).hasClass("off")){e._lockBtn();var i=e.curPos-e.partSize-e.offsetRight;e.curPos!==e.range[0]&&e.curIndex++,e.curPos=i>=e.range[0]?i:e.range[0],e.callback&&e.callback(e.curIndex),t.animate(e.main[0],{marginLeft:e.curPos+""},function(){e._resetBtn()})}})},e.prototype._lockBtn=function(){this.btnPrev.addClass("off"),this.btnNext.addClass("off")},e.prototype._resetBtn=function(){this.curPos>=this.range[1]?this.btnPrev.addClass("off"):this.btnPrev.removeClass("off"),this.curPos<=this.range[0]?this.btnNext.addClass("off"):this.btnNext.removeClass("off")},e.prototype.refresh=function(){this.ctWidth=0,this._initPrototype(),this.curPos=this.range[1],this.curIndex=0,this.main.css("marginLeft",this.range[1]),this._resetBtn()},e.prototype.to=function(e){var n=this;e<n.range[0]?n.curPos=n.range[0]:e>n.range[1]?n.curPos=n.range[1]:n.curPos=e,n._lockBtn(),t.animate(n.main[0],{marginLeft:n.curPos+""},function(){n._resetBtn()})},e}),define("app/best",["templateModule","lib/slider"],function(t,e){var n,i=$("#pl-best .module-content .video-list-wrapper"),s=$("#pl-best .module-content"),a="common-video-list",r=function(e){var s="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=10&580=153043&offset=0&sort=3&c_category=10926";switch("undefined"==typeof e&&(e=165443),e){case 303037:s+="&672="+e;break;default:s+="&578="+e}return $.ajax({type:"get",async:!0,url:s,dataType:"jsonp",success:function(e){n=e.jsonvalue,n.columnNum=5,0===e.total&&(n.wrong="no data"),i.html(t(a,n))},error:function(t){}})};return s.find(".video-nav").on("click",".nav-item",function(){var t=$(this);if(!t.hasClass("on")){t.addClass("on"),t.siblings().removeClass("on");var e=$(this).data("type");r(e)}}),{render:function(){r()}}}),define("app/gallery",["templateModule","lib/slider","lib/cache"],function(t,e,n){var i=$("#pl-gallery"),s="gallery-schedule",a="common-video-list",r="rounds",o=1,l="119475",c="000000",d=[],f={},u=i.find(".load-more-btn").html(),p=i.find(".load-all"),v=function(a,r){var o=$.Deferred(),l=[];return n.getMatchByRound(a).then(function(t){var e=d[a-1];n.getMatchVidsByRound(a).then(function(t){if(0===t.length)l={noData:!0},o.resolve("noVideos");else{if(e){if(r)return;l=t}else r?(l=t.slice(3,t.length),d[a-1]=!0):l=t.slice(0,3);o.resolve(l)}})}),o.then(function(n){if(r){i.find(".schedule-content").append($('<div class="schedule-list ">'));var o=i.find(".schedule-list"),c=o.eq(o.length-1)}else{var c=i.find(".schedule-list");c.length>1&&(c.slice(1,c.length).remove(),c=i.find(".schedule-list"))}if(c.html(t(s,{data:l})),"noVideos"!==n){p.hasClass("off")&&p.removeClass("off"),d[a-1]&&i.find(".load-more-btn").text("\u6682\u65e0\u66f4\u591a\u8d5b\u7a0b\u89c6\u9891");var f=c.find(".video-container");$.each(f,function(t,n){l[t].list.length<=5&&$(n).find(".btn").css({display:"none"}),l[t].list.length>=5&&(slider=new e($(n),{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1050}),slider.to(0))})}else p.hasClass("off")||p.addClass("off")},function(){})},h=function(e,n,s){var r="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=36&offset=0&sort=3&580=153043&c_category=10926&573="+e+"&574=1586633";if(n)switch(n){case"219975":r+="&578="+n;break;case"197337":r+="&672="+n;break;case"155658":r+="&578="+n}return $.ajax({type:"GET",async:!0,dataType:"jsonp",url:r}).then(function(r){var o=r.jsonvalue.results;f[e]=f[e]||{};var l=f[e][n];if("undefined"==typeof o){var c={wrong:"\u6682\u65e0\u89c6\u9891"};f[e][n]=!0}else{if(l){if(s)return;videos=o}else videos=o.slice(0,18),videos.length<18&&(f[e][n]=!0),s&&(videos=o.slice(18,o.length),f[e][n]=!0);var c={results:videos}}if(s){i.find(".teams-content").append($('<div class="teams-list video-list-wrapper">'));var d=i.find(".teams-list"),u=d.eq(d.length-1)}else{var u=i.find(".teams-list");u.length>1&&(u.slice(1,u.length).remove(),u=i.find(".teams-list"))}u.html(t(a,c)),f[e][n]&&i.find(".load-more-btn").text("\u6682\u65e0\u66f4\u591a\u8d5b\u7a0b\u89c6\u9891")})};return i.find(".title-list").on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),i.find(".module-header > div").toggleClass("off"),i.find(".module-inner > div").toggleClass("off"),i.find(".load-more-btn").html(u),"rounds"==t.data("type")?(r="rounds",v(o)):(r="teams",new e(i.find(".teams .sliders"),{main:".teams-logo-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1177}),h(l,c)))}),i.find(".rounds").on("click","li",function(){var t=$(this);t.hasClass("prematch")||t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),o=t.text(),v(o).always(function(){d[o-1]?i.find(".load-more-btn").text("\u6682\u65e0\u66f4\u591a\u8d5b\u7a0b\u89c6\u9891"):i.find(".load-more-btn").html(u)}))}),i.find(".teams").on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),l=t.data("media-id").toString(),h(l,c).always(function(){f[l]=f[l]||{},f[l][c]?i.find(".load-more-btn").text("\u6682\u65e0\u66f4\u591a\u8d5b\u7a0b\u89c6\u9891"):i.find(".load-more-btn").html(u)}))}),i.find(".selector-content").on("click",".category",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),c=t.data("category").toString(),h(l,c).always(function(){f[l]=f[l]||{},f[l][c]?i.find(".load-more-btn").text("\u6682\u65e0\u66f4\u591a\u8d5b\u7a0b\u89c6\u9891"):i.find(".load-more-btn").html(u)}))}),i.find(".load-all").on("click",function(){"rounds"===r?v(o,!0):h(l,c,!0)}),{render:function(){if("rounds"==r){var t=i.find(".round-list li");n.getCurrentRound().then(function(e){o=e,t.eq(o-1).trigger("click"),t.slice(o,t.length).addClass("prematch")})}else h(l,c)}}}),define("app/peak",["templateModule","lib/slider"],function(t,e){var n,i=$("#pl-peak .module-content .slider-list-wrapper"),s="moving-video-list",a=$("#pl-peak .module-content"),r=$.ajax({type:"get",async:!0,url:"//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_cid_list&tid=568&uappid=20001170&uappkey=cb4fb965be352d56&type=4&sourcetype=1&pagesize=24&offset=0&sort=3&c_column_id=53010",dataType:"jsonp",success:function(t){n=t.jsonvalue},error:function(t){}});return{render:function(){r.done(function(){i.html(t(s,n));var r=a.find(".video-container");r.find(".video-list");n.results.length<=5&&r.find(".btn").css({display:"none"}),n.results.length>=5&&new e(r,{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1260}),i.on("mouseenter","li",function(){$(this).siblings().removeClass("on"),$(this).addClass("on")})})}}}),define("app/moving",["templateModule","lib/slider","lib/utility"],function(t,e,n){var i=$("#pl-moving .module-content .slider-list-wrapper"),s="moving-video-list",a={},r=$("#pl-moving .module-content"),o=n.getVideosByCoverId("nev1dzqx7qivqig");return{render:function(){o.done(function(n){a.results=n,i.html(t(s,a));var o=r.find(".video-container");o.find(".video-list");a.results.length<=5&&o.find(".btn").css({display:"none"}),a.results.length>=5&&new e(o,{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1260}),i.on("mouseenter","li",function(){$(this).siblings().removeClass("on"),$(this).addClass("on")})})}}}),
define("app/collection",["templateModule","lib/slider"],function(t,e){var n,i=$("#pl-collection .module-content .video-list-sliders"),s="slider-video-list",a=$("#pl-collection"),r=function(r){var o="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=30&offset=0&sort=3&580=153043";switch("undefined"==typeof r&&(r=304195),r){case 304195:o+="&578="+r;break;case 1304073:o+="&672="+r}return $.ajax({type:"get",async:!0,url:o,dataType:"jsonp",success:function(r){n=r.jsonvalue,0==r.total&&(n.wrong="no data"),i.html(t(s,n));var o=a.find(".video-container");o.find(".video-list");n.results.length<=6&&o.find(".btn").css({display:"none"}),n.results.length>=6&&new e(o,{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1260})},error:function(t){}})};return{render:function(){r().done(function(){a.find(".title").on("click","> a",function(){var t=$(this);if(!t.hasClass("on")){var e=t.data("column");t.siblings().toggleClass("on"),t.toggleClass("on"),r(e)}})})}}}),define("app/teams",["templateModule"],function(t){var e,n,i,s=$("#pl-teams .module-content .video-list-wrapper"),a="common-video-list",r=$("#pl-teams"),o=function(t,n){"undefined"==typeof t&&(t=119475);var i="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=8&offset=0&sort=3&c_category=10926&574=8195318&580=153043";if(t&&(i+="&573="+t),n)switch(n){case 219975:i+="&578="+n;break;case 197337:i+="&672="+n;break;case 155658:i+="&578="+n}return $.ajax({type:"get",async:!0,url:i,dataType:"jsonp",success:function(t){e=t.jsonvalue,e.results&&e.results.length>0?e.columnNum=4:e={wrong:"\u6682\u65e0\u76f8\u5173\u89c6\u9891"}},error:function(t){}})},l=function(n,i){o(n,i).done(function(){s.html(t(a,e))})};return{render:function(){l();var t=r.find("#teams-list");t.on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),n=t.data("media-id"),l(n,i))});var e=r.find(".title-list");e.on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),i=t.data("category"),l(n,i))})}}}),define("app/stars",["templateModule"],function(t){var e,n,i,s=$("#pl-stars"),a="common-video-list",r=function(n,i){"undefined"==typeof n&&(n=197446);var r="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_vid_list&tid=674&uappid=20001257&uappkey=86ff0af73276ade8&type=4&sourcetype=2&pagesize=8&offset=0&sort=3&c_category=10926&574=1586633&580=153043";n&&(r+="&575="+n),i&&(r+="&578="+i),$.ajax({type:"get",async:!0,url:r,dataType:"jsonp",success:function(t){e=t.jsonvalue,e.results&&e.results.length>0?e.columnNum=4:e={wrong:"\u6682\u65e0\u76f8\u5173\u89c6\u9891"}},error:function(t){}}).done(function(){s.find(".video-list-wrapper").html(t(a,e))})};return{render:function(){r(n,i);var t=s.find("#stars-list");t.on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),n=t.data("media-id"),r(n,i))});var e=s.find(".title-list");e.on("click","li",function(){var t=$(this);t.hasClass("on")||(t.addClass("on"),t.siblings().removeClass("on"),i=t.data("category"),r(n,i))})}}}),define("app/superstar",["templateModule","lib/slider","lib/utility"],function(t,e,n){var i=$("#pl-superstar .module-content .slider-list-wrapper"),s="moving-video-list",a={},r=$("#pl-superstar .module-content"),o=n.getHaoMenNews("70190");return{render:function(){o.done(function(n){a.results=n,i.html(t(s,a));var o=r.find(".video-container");o.find(".video-list");a.results.length<=5&&o.find(".btn").css({display:"none"}),a.results.length>=5&&new e(o,{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1260}),i.on("mouseenter","li",function(){$(this).siblings().removeClass("on"),$(this).addClass("on")})})}}}),define("app/retirement",["templateModule","lib/slider","lib/utility"],function(t,e,n){var i=$("#pl-retirement .module-content .slider-list-wrapper"),s="moving-video-list",a={},r=$("#pl-retirement .module-content"),o=n.getVideosByCoverId("56yfg0ndnoo69no");return{render:function(){o.done(function(n){a.results=n,i.html(t(s,a));var o=r.find(".video-container");o.find(".video-list");a.results.length<=5&&o.find(".btn").css({display:"none"}),a.results.length>=5&&new e(o,{main:".video-list",btnPrev:".btn-prev",btnNext:".btn-next",partSize:1260}),i.on("mouseenter","li",function(){$(this).siblings().removeClass("on"),$(this).addClass("on")})})}}}),define("main",["require","templateModule","sportLogin","app/schedule","app/nav","app/focus-videos","app/latest","app/best","app/gallery","app/peak","app/moving","app/collection","app/teams","app/stars","app/superstar","app/retirement"],function(t,e){t("app/schedule").render(),t("app/nav").render(),t("app/focus-videos").render(),t("app/latest").render(),t("app/peak").render(),t("app/moving").render(),t("app/collection").render(),t("app/teams").render(),t("app/stars").render(),t("app/gallery").render(),t("app/superstar").render(),t("app/retirement").render()}),require.config({baseUrl:"./scripts/",paths:{sportLogin:"//mat1.gtimg.com/pingjs/ext2020/dc2017/dist/sportInfo/sportLogin",txplayer:"//vm.gtimg.cn/tencentvideo/txp/js/txplayer"}}),require(["main"]),define("config",function(){})}();
//# sourceMappingURL=main-090905ea84.js.map
/*  |xGv00|0a1f4076898489a1db2bef4829a9e23b */