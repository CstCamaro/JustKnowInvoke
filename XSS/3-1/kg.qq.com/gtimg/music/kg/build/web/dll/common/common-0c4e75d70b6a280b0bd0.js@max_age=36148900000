var common=function(e){function o(o){for(var t,a,r=o[0],d=o[1],s=0,l=[];s<r.length;s++)a=r[s],n[a]&&l.push(n[a][0]),n[a]=0;for(t in d)Object.prototype.hasOwnProperty.call(d,t)&&(e[t]=d[t]);for(i&&i(o);l.length;)l.shift()()}function t(e){return a.p+"web/dll/common/chunks/"+({1:"kgBridge",2:"openApp",3:"share"}[e]||e)+"-"+{1:"e48d36df8691c9a8c2cd",2:"8c69bf2c4c2d1462e2e7",3:"f3a5eeb65df9d374b4e8"}[e]+".js?max_age=36148900000"}function a(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var r={},n={0:0};a.e=function(e){var o=[],i=n[e];if(0!==i)if(i)o.push(i[2]);else{var r=new Promise(function(o,t){i=n[e]=[o,t]});o.push(i[2]=r);var d,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=t(e);var l=new Error;d=function(o){s.onerror=s.onload=null,clearTimeout(c);var t=n[e];if(0!==t){if(t){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,t[1](l)}n[e]=void 0}};var c=setTimeout(function(){d({type:"timeout",target:s})},12e4);s.onerror=s.onload=d,document.head.appendChild(s)}return Promise.all(o)},a.m=e,a.c=r,a.d=function(e,o,t){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var i in e)a.d(t,i,function(o){return e[o]}.bind(null,i));return t},a.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="//kg.qq.com/gtimg/music/kg/build/",a.oe=function(e){throw console.error(e),e};var d=window.webpackJsonp_name_=window.webpackJsonp_name_||[],s=d.push.bind(d);d.push=o,d=d.slice();for(var l=0;l<d.length;l++)o(d[l]);var i=s;return a(a.s=0)}({0:function(e,o,t){e.exports=t,t("aqKK")},"023w":function(e,o,t){"use strict";function a(e){var o=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),t=document.cookie.match(o);return t?t[1]:""}function i(e,o,t,a,i){var r,n=t?t:window.location?window.location.host:"kg.qq.com";return i&&(i instanceof Date?r=i:(r=new Date).setTime(r.getTime()+36e5*i)),document.cookie=e+"="+o+"; "+(i?"expires="+r.toGMTString()+"; ":"")+(a?"path="+a+"; ":"path=/; ")+"domain="+n+";",!0}function r(e){for(var o=document.cookie.split(";"),t={},a=0;a<o.length;a++){var i=o[a].split("="),r=i[0].trim();if("undefined"==typeof t[r])e&&e!==r||(t[r]=1);else return!0}return!1}t.r(o),t.d(o,"getCookie",function(){return a}),t.d(o,"setCookie",function(){return i}),t.d(o,"hasRepeatedCookie",function(){return r})},"2Akz":function(e,o,t){"use strict";function a(e,o){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],0<=o.indexOf(t)||(i[t]=e[t]);return i}function i(e){return e.split("").map(function(e){return"\\".concat(e)}).join("")}function r(e,o,t){void 0===o&&(o="{%"),void 0===t&&(t="%}");var a=new RegExp("^".concat(i(o),"([\\s\\S]+)").concat(i(t),"$")),r={};for(var n in e){var d=n.replace(a,function(e,o){return o}).trim();d&&(r[d]=e[n])}return r}function n(e){var o=document.querySelectorAll("._webso_start_")||[];[].slice.call(o).forEach(function(o){var t=o.getAttribute("data-key");if("string"==typeof e[t]){for(var a,i=[],r=o.parentNode,n=o.nextSibling;n;){if(1===n.nodeType&&"noscript"===n.tagName.toLowerCase()&&n.getAttribute("data-key")===t){a=n,n=null;break}i.push(n),n=n.nextSibling}if(!a)return void(window.console&&window.console.error("Webso update: the end tag of [".concat(t,"] not found!")));var d=i.pop();i.forEach(function(e){return r.removeChild(e)});var s=e[t].trim(),l=document.createDocumentFragment(),c=document.createElement("div");c.innerHTML=s,[].slice.call(c.childNodes).forEach(function(e){l.appendChild(c.removeChild(e))}),d?r.replaceChild(l,d):r.insertBefore(l,a),d=null,c=null,l=null,i=null}});var t=function(o){0===o.indexOf("$")&&setTimeout(function(){return window.eval(e[o])})};for(var a in e)t(a)}function d(e){if(e){var o=typeof e;if("object"!=o||0!==e.code||null!==e.data){if("object"!=o||!e.___WEBSO_META_DATA___)return void Object(l.kgReport)({message:"invaildWebsoData",log:JSON.stringify(e),file:"webso"},"error");var t=e.___WEBSO_META_DATA___,i=a(e,["___WEBSO_META_DATA___"]);try{t=JSON.parse(t)}catch(o){Object(l.kgReport)({message:"metaParseError",log:"".concat(o.stack,"\n").concat(t),file:"webso"},"error"),t={}}var d,c=t,p=c.tagBegin,g=c.tagEnd,m=c.autoMutate;try{d=r(i,p,g)}catch(o){Object(l.kgReport)({message:"extractDataError",log:"".concat(o.stack,"\n").concat(JSON.stringify(i)),file:"webso"},"error")}if(d&&m)try{n(d)}catch(o){Object(l.kgReport)({message:"mutateError",log:"".concat(o.stack,"\n").concat(JSON.stringify(d))},"error")}d&&Object(s.emit)("webso.update",d)}}}t.r(o);var s=t("awFY"),l=t("S63A");"object"==typeof window.__WEBSO_DATA__?(d(window.__WEBSO_DATA__),window.__WEBSO_DATA__=null):window.__WEBSO_LISTENER__=function(e){return d(e)}},"2YLx":function(e,o,t){"use strict";t.r(o);var a=t("023w"),i={p_skey:function(){return Object(a.getCookie)("p_skey")},skey:function(){return Object(a.getCookie)("skey")},openid:function(){return Object(a.getCookie)("openid")},openkey:function(){return Object(a.getCookie)("openkey")},opentype:function(){return Object(a.getCookie)("opentype")},wx_openid:function(){return Object(a.getCookie)("_kg_wx_openid_")},uid:function(){return Object(a.getCookie)("uid")},UIN:function(){return(Object(a.getCookie)("p_uin")||Object(a.getCookie)("uin")||Object(a.getCookie)("luin")||"").replace(/o0*/,"")}},r={};if(Object.defineProperty)for(var n in i)i.hasOwnProperty(n)&&Object.defineProperty(r,n,{get:i[n],set:function(){return console.warn("no need to change: userinfo.".concat(n))},enumerable:!0});else for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n]());o["default"]=r},"2i9q":function(e,o,t){"use strict";t.r(o),function(e){function a(e,o,t){var a=e;a&&-1===a.indexOf(".js")&&(a+=".js"),this.path=a,this.done=o||n,this.fail=t||n}function i(e,o,t){var i=new a(e,o,t);return i.load()}t.d(o,"default",function(){return i});var r=Array.prototype.slice,n=function(){},d={},s=2;a.prototype.create=function(e,o){function t(){r||(g.readyState&&"loaded"!==g.readyState&&"complete"!==g.readyState?a({type:g.readyState}):(i=+new Date-m,g.onload=g.onreadystatechange=null,r=!0,d[c]=s,clearTimeout(l),e()))}function a(e){if(!(r||n)){i=+new Date-m,n=!0,d[c]=3,clearTimeout(l);var t=g.readyState||e.type;o(t,g),console&&console.log("\u52A0\u8F7D "+c+" \u5931\u8D25:"+t,i)}}var i,r,n,l,c=this.path,p=document.getElementsByTagName("head")[0],g=document.createElement("script"),m=+new Date;this.el=g,g.onload=g.onreadystatechange=t,g.onerror=a,g.async=1,g.charset="utf-8",g.src=c,p.insertBefore(g,p.lastChild),l=setTimeout(function(){a({type:"timeout"})},10000)},a.prototype.load=function(){var o=this,t=o.path,a=e.Deferred(),i=function(){var e=r.call(arguments);a.resolve.apply(null,e),o.done.apply(null,e)},n=function(){var e=r.call(arguments);a.reject.apply(null,e),o.fail.apply(null,e)};return t?d[t]&&d[t]===s?i():setTimeout(function(){d[t]=1,o.create(i,n)},0):i(),a}}.call(this,t("et+W"))},"5zSK":function(e,o,t){"use strict";t.r(o);var a=t("023w");o["default"]=function(e){return function(e){for(var o=5381,t=0,a=e.length;t<a;++t)o+=(o<<5)+e.charCodeAt(t);return 2147483647&o}(e&&Object(a.getCookie)(e)?Object(a.getCookie)(e):Object(a.getCookie)("p_skey")||Object(a.getCookie)("skey"))}},"9BN6":function(e,o,t){"use strict";t.r(o),function(e){function a(){if(!e.platform.qmkege&&!e.platform.wesing||(e.platform.qmkege||e.platform.wesing)&&5.1>parseFloat(e.platform.version))return e.Deferred().resolve();var o=Date.now(),t=null;return l&&o-s<c?l:(l=e.Deferred(),s=Date.now(),r["default"].ready(function(){r["default"].bridge.invoke("RefreshWebKey",{},function(o){t&&clearTimeout(t);var a="1"===Object(n.getCookie)("cookieVersion")?"kg.qq.com":"qq.com";o&&"string"==typeof o.webkey&&(console.log("set webkey: "+o.webkey+"to domain: "+a),"kg.qq.com"==a?(Object(n.setCookie)("openkey","","qq.com","/",-1),e.os.ios?(Object(n.setCookie)("openkey","","kg.qq.com","/",-1),Object(n.setCookie)("openkey",o.webkey,".kg.qq.com","/",24)):Object(n.setCookie)("openkey",o.webkey,"kg.qq.com","/",24)):(Object(n.setCookie)("openkey","","kg.qq.com","/",-1),Object(n.setCookie)("openkey","",".kg.qq.com","/",-1),Object(n.setCookie)("openkey",o.webkey,"qq.com","/",24))),Object(d.hotClick)("kg.refreshwebkey.".concat(o&&"string"==typeof o.webkey?"success":"fail")),Object(d.kgReport)({file:window.location.href,message:"webkey refreshed "+(o&&o.webkey)+" and setted "+Object(n.getCookie)("openkey"),log:""}),l&&l.resolve("retry done!")})}),t=setTimeout(function(){console.log("kg.refreshwebkey.timeout"),Object(d.hotClick)("kg.refreshwebkey.timeout"),l.resolve("ready time out"),l=null},1e3*180),console.log("cookie: "+document.cookie),Object(d.kgReport)({file:window.location.href,message:"webkey invalid",log:document.cookie},"error"),l)}function i(){if(e.platform.qmkege&&Object(n.hasRepeatedCookie)("openkey")){var o="1"===Object(n.getCookie)("cookieVersion")?"kg.qq.com":"qq.com";if(Object(n.setCookie)("openkey","","kg.qq.com"==o?"qq.com":"kg.qq.com","/",-1),Object(n.hasRepeatedCookie)("openkey"))if(e.os.ios&&"kg.qq.com"==o){var t=Object(n.getCookie)("openkey");Object(n.setCookie)("openkey","","kg.qq.com","/",-1),Object(n.setCookie)("openkey","",".kg.qq.com","/",-1),Object(n.setCookie)("openkey",t,".kg.qq.com","/",24)}else Object(n.setCookie)("openkey","","node.kg.qq.com","/",-1),Object(n.setCookie)("openid","","node.kg.qq.com","/",-1),Object(n.setCookie)("uid","","node.kg.qq.com","/",-1),Object(n.setCookie)("opentype","","node.kg.qq.com","/",-1)}}t.d(o,"default",function(){return a}),t.d(o,"cleanDuplicatedWebkey",function(){return i});var r=t("e7z0"),n=t("023w"),d=t("S63A"),s=null,l=null,c=6600000}.call(this,t("et+W"))},AHYA:function(e,o,t){"use strict";t.r(o);var a=t("awFY"),i=0,r=0,n=-1,d=void 0!==window.pageXOffset,s="CSS1Compat"===document.compatMode;(window.addEventListener||window.attachEvent)(window.addEventListener?"scroll":"onscroll",function(){i=d?window.pageYOffset:s?document.documentElement.scrollTop:document.body.scrollTop,clearTimeout(n),n=setTimeout(function(){i+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&a.emit("global.scrollEnd")},50)}),setInterval(function(){r!=i&&(r=i,a.emit("global.scrollChange",i))},100)},Cpn9:function(e,o,t){"use strict";t.r(o),function(e){t.d(o,"default",function(){return n});var a=t("RK1W"),i=t("t33I"),r=t("dF/D"),n=function(){function o(e){var o=e.loginPop,t=e.logout;this.loginPop=o,this.logout=t}var t=o.prototype;return t.isTouristLogin=function(){return Object(r.getCookie)("opentype")===i.TOURIST_OPEN_TYPE},t.caniuseLoginPop=function(){return e.platform.qmkege&&!e.os.ios&&(!e.os.android||Object(a.versionCompare)("6.6"))},t.shouldLogin=function(){return!!(this.isTouristLogin()&&this.caniuseLoginPop())},t.shouldAutoLogin=function(){return!!this.shouldLogin()&&(this.autoLogin(),!0)},t.autoLogin=function(){this.login({redirecturl:window.location.href})},t.codeAutoLogin=function(e){void 0===e&&(e={});var o=e.code;"undefined"==typeof o||-1===i.NEED_LOGIN_CODE.indexOf(o)||(this.isTouristLogin()?this.logout():this.autoLogin())},t.login=function(e){void 0===e&&(e={}),this.caniuseLoginPop()&&this.loginPop(e)},o}()}.call(this,t("et+W"))},IpNO:function(e,o,t){"use strict";t.r(o),function(e){function a(){p&&(clearTimeout(p),p=null),g.getPathStack({type:1}).then(function(e){window.__currentTraceMoney__=e.trace_money})}function i(e,o){return g.addPath(e,o)}function r(e,o){return g.updatePath(e,o)}function n(e){return g.getPathStack(e)}function d(){return g.clearAutoRecord()}t.d(o,"addPath",function(){return i}),t.d(o,"updatePath",function(){return r}),t.d(o,"getPathStack",function(){return n}),t.d(o,"cancelPathAutoRecord",function(){return d});var s=t("e7z0"),l=t("S1ku"),c=null,p=null,g=new l["default"]({autoRecordClearFn:function(){return c&&clearTimeout(c)},afterAddFn:function(){a()},getBridge:function(e){s["default"].ready(function(){return e&&e(s["default"].bridge)})}});e.platform.qmkege&&(c=setTimeout(function(){c=null;var e=g.getFakeId(window.location.pathname);g.addPath(e,{fakePageId:!0},!0)},2e3),p=setTimeout(function(){return a()},800),window.__kgPathRecorder__=g)}.call(this,t("et+W"))},JiTx:function(e,o,t){e.exports=t("wqEm")("JiTx")},MIep:function(e,o,t){"use strict";function a(){return s}function i(e,o){s?localStorage.setItem(e,o):Object(d.setCookie)(e,o)}function r(e){return s?localStorage.getItem(e):Object(d.getCookie)(e)}function n(e){s?localStorage.removeItem(e):Object(d.setCookie)(e,null,null,null,new Date("1970/01/01 00:00:00"))}t.r(o),t.d(o,"isLocalStorageEnabled",function(){return a}),t.d(o,"set",function(){return i}),t.d(o,"get",function(){return r}),t.d(o,"remove",function(){return n});var d=t("023w"),s=!1;try{localStorage.setItem("__test__","1"),"1"===localStorage.getItem("__test__")&&(s=!0)}catch(o){}},RK1W:function(e,o,t){"use strict";t.r(o),function(e){function a(o,t,a){var r=a;if(!r)if(e.platform.version)r=e.platform.version;else return new Error("get current version failed"),!1;for(var n=o.split("."),d=r.split("."),s=0;s<n.length;s++){if(+d[s]>+n[s])return"isBefore"!==t;if(+d[s]<+n[s])return"isBefore"===t}return!0}function i(o){return-1!==r.RETRY_CODE.indexOf(o)&&(e.platform.qmkege||e.platform.wesing)&&a("5.1")}t.d(o,"versionCompare",function(){return a}),t.d(o,"checkNeedRefreshWebKey",function(){return i});var r=t("t33I")}.call(this,t("et+W"))},RPPM:function(e,o,t){"use strict";t.r(o),function(e,a){t.d(o,"onWeishiApiLoad",function(){return i}),t.d(o,"checkKgAppInstall",function(){return r});var i=function(o){"function"!=typeof o||(window.mqq?o():e("//qzonestyle.gtimg.cn/qzone/hybrid/app/weishi/lib/wsapi.js",o))},r=function(e){if("function"==typeof e){var o=function(o){console.log("checkKgAppInstall",o),0===o.code?e(o.data.result?1:2):(console.error("isAppInstalled error",o),e(3))};i(function(){a.os.ios?window.mqq.invoke("app","isInstalled",{scheme:"qmkege"},o):window.mqq.invoke("app","isAppInstalled",{name:"com.tencent.karaoke"},o)})}}}.call(this,t("2i9q")["default"],t("et+W"))},S1ku:function(e,o,t){"use strict";t.r(o),function(e){function a(e,o){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],0<=o.indexOf(t)||(i[t]=e[t]);return i}function i(e){return e.replace(/[\?|\#].*$/,"").replace(/^\/node\//,"/").replace(/\/$/,"").replace(/\.html$/,"").split(/\//).filter(function(e){return!!e})}function r(e){return e.replace(/[\-|_|\.]([a-z])/g,function(e,o){return o.toUpperCase()}).replace(/^([a-z])/,function(e,o){return o.toUpperCase()})}t.d(o,"default",function(){return d});var n=/(\?|#|&)r=([^&#?]*)(&|#|\?|$)/,d=function(){function o(e){var o=e.autoRecordClearFn,t=e.getBridge,a=e.afterAddFn;this.autoRecordClearFn=o,this.getBridge=t,this.afterAddFn=a,this.recentUdateRecord={},this.lastPageId=null,this._waitUtilAddedTasks=[]}var t=o.prototype;return t.clearAutoRecord=function(){return"function"==typeof this.autoRecordClearFn?this.autoRecordClearFn():null},t.afterAdd=function(){"function"==typeof this.afterAddFn&&this.afterAddFn()},t.addPath=function(o,t,a){var i=this;if(void 0===t&&(t={}),void 0===a&&(a=!1),!e.platform.qmkege||5.3>parseFloat(e.platform.version))return Promise.resolve("");if(!o)return Promise.reject(new Error("pageId must be defined!"));this.clearAutoRecord(),this.recentUdateRecord={};var r={pageId:o,pageExtra:Object.assign({addTime:Date.now(),pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,isHippy:!1},t)};return new Promise(function(e,t){i.getBridge(function(n){console&&console.log("[path record] addPath (".concat(r.pageId,")"));var d=null,s=function(o){if(console&&console.log("[path record] addPath callback fired, result:".concat(o)),null!==d&&clearTimeout(d),o&&0===o.code)e(o.data);else if(o){var a="[path record] add page failed! ".concat(o?o.code:"999","-").concat(o?o.message||o.msg:"empty");console&&console.error(a);var r=new Error(a);r.code=o.code,t(r)}else e("");i.afterAdd()};d=setTimeout(s,500),n.invoke("addPathNode",r,s),i.lastPageId||(a?i.resolvePathAddWait(o):i.cleanPathAddWait()),i.lastPageId=o})})},t.updatePath=function(o,t,i){var r=this;void 0===t&&(t={}),void 0===i&&(i=!1);var n=t,d=n.pageExtra,s=a(n,["pageExtra"]);if(!e.platform.qmkege||5.3>parseFloat(e.platform.version))return Promise.resolve(null);if(!o)return Promise.reject(new Error("moduleId must be defined!"));var l=this.recentUdateRecord[o];if(l&&2e3>Date.now()-l)return console&&console.log("[path record] skip auto update for module (".concat(o,")")),Promise.resolve(null);this.recentUdateRecord[o]=Date.now();var c={moduleId:o,moduleExtra:Object.assign({addTime:Date.now(),hash:window.location.hash},s)};return d&&(c.pageExtra=Object.assign({modifyTime:Date.now(),pathname:window.location.pathname,search:window.location.search,hash:window.location.hash},d)),new Promise(function(e,o){r.waitUntilPathAdded(function(){r.getBridge(function(t){console&&console.log("[path record] update module (".concat(c.moduleId,")")),t.invoke("updatePathNode",c,function(t){if(t&&0===t.code)e(t.data);else{var a="[path record] update module failed! ".concat(t?t.code:"999","-").concat(t?t.message||t.msg:"empty");console&&console.error(a);var i=new Error(a);i.code=t.code,o(i)}})})})})},t.waitUntilPathAdded=function(e){return e?this.lastPageId?e():void this._waitUtilAddedTasks.push(e):void 0},t.resolvePathAddWait=function(){this._waitUtilAddedTasks.forEach(function(e){return e()}),this._waitUtilAddedTasks=[]},t.cleanPathAddWait=function(){this._waitUtilAddedTasks=[]},t.getPathStack=function(o){var t=this,a=void 0===o?{}:o,i=a.type,r=void 0===i?3:i;return!e.platform.qmkege||5.3>parseFloat(e.platform.version)?Promise.resolve({trace_money:[],trace_normal:[]}):new Promise(function(e,o){t.getBridge(function(t){t.invoke("getSerializedPathNodes",{type:r},function(t){if(t&&0===t.code&&t.data){var a={trace_money:t.data.trace_money&&"string"==typeof t.data.trace_money?t.data.trace_money:JSON.stringify(t.data.trace_money||[]),trace_normal:t.data.trace_normal&&"string"==typeof t.data.trace_normal?t.data.trace_normal:JSON.stringify(t.data.trace_normal||[])};e(a)}else{var i="[path record] get path stack failed! ".concat(t?t.code:"999","-").concat(t?t.message||t.msg:"empty");console&&console.error(i);var r=new Error(i);o(r)}})})})},t.getRoutename=function(){try{var e=window.location.hash.match(n)||window.location.search.match(n);return e?decodeURIComponent(e[2]):""}catch(o){return""}},t.getFakeId=function(e,o){var t=e||window.location.pathname,a=o||this.getRoutename(),n=i(t);return n.length&&(1!==n.length||"index"!==n[0])||(n[0]="Home"),a&&(n=n.concat(i(a))),n.map(r).join("_")},o}()}.call(this,t("et+W"))},S63A:function(e,o,t){"use strict";t.r(o),function(e){function a(){return"undefined"!=typeof navigator&&navigator.userAgent&&/android|iphone|ipad|ipod/gi.test(navigator.userAgent)}function i(){return-1<Object(f.getCookie)("qua").indexOf("WIN_KG")}function r(o,t){void 0===t&&(t=!1);var a=Object(u.getParameter)("g_f")||Object(u.getParameter)("from")||(document.referrer.match(/http[s]?:\/\/([^\?$]+)/)||["",""])[1],i=location.href.match(/http[s]?:\/\/([^\?$]+)/)[1];0===i.indexOf("wesingapp.com/user/")&&(i=-1===i.indexOf("/song/")?"wesingapp.com/personal":"wessingapp.com/play");var r={hottag:o+"."+Object(f.getCookie)("version"),device:e.device,url:-1===i.indexOf("node")?i:(i=i.split("/"))[i.length-1],refer:-1===a.indexOf("node")?a:(a=a.split("/"))[a.length-1]};c(r,"tcss",t)}function n(e){var o=e.resultcode===h.SUCCESS_CODE._default&&e.subcode===h.SUCCESS_CODE._default,t=e.samplerate||y;new RegExp(h.REPORT_COMMANDID).test(e.commandid)||(o&&Math.random()<t?(e.samplerate=t,c(e,"retcode")):!o&&c(e,"retcode"))}function d(e){void 0===e&&(e={}),c({route:e.route||Object(u.getParameter)("r")},"pv")}function s(e,o){return!1,e.key?void p(e,o):void c(e,"compass",o)}function l(o,t,a){var i=400,r=e.os.ios?1:e.os.android?0:2;if(e.platform.wechat){var n=Object(u.getParameter)("from");"timeline"===n?i=101:("singlemessage"===n||"groupmessage"===n)&&(i=100)}else e.platform.qq?i=200:e.platform.qzone?i=201:e.platform.weibo&&(i=300);s({type:o,action:t,subaction:a,int1:i,int2:r,useWebappReport:!0})}function c(o,t,a){if("compass"===t){"click"===o.js_report_type&&o.type&&o.posid&&window.__kgPathRecorder__&&window.__kgPathRecorder__.updatePath("".concat(o.type,"#").concat(o.posid),o,!0),("click"===o.js_report_type||"number"==typeof o.action)&&(o.trace_money=window.__currentTraceMoney__||"");var i=e.extend({actiontype:o.type,subactiontype:o.action||"",match_id:o.matchid||"",app_version:e.platform.version||"",reserves:o.subaction||"",uid:Object(f.getCookie)("uid"),uin:Object(f.getCookie)("uin"),fakeuid:Object(f.getCookie)("pgv_pvid"),account_source:"1"===Object(f.getCookie)("opentype")?"2":"1",qua:e.platform.qua||"",expoid:o.clickid||""},o);"undefined"!=typeof i.expoid&&i.expoid||(i.expoid=i.clickid);var r=g(i);return x.report({disableSetTimeout:a,data:{iType:o.type,vecData:[r]}})}C.report({disableSetTimeout:a||"pv"===t,data:{type:t||"error",rData:o}})}function p(o,t){var r=e.extend({uid:Object(f.getCookie)("uid"),openid:Object(f.getCookie)("openid"),opentype:Object(f.getCookie)("opentype"),act_id:m(),from_page:Object(u.getParameter)("from_page"),opertime:parseInt(Date.now()/1e3,10),platform:e.platform.qmkege?e.os.ios?1:11:a()?61:i()?21:41,app_version:e.platform.version},o);if(r.key&&window.__kgPathRecorder__){var n=/#click/i.test(r.key),d=!n&&/#write/i.test(r.key);if(n){var s=r.key.split("#"),l=s.indexOf("click");window.__kgPathRecorder__.updatePath("".concat(s[l-2],"#").concat(s[l-1]),o,!0)}(n||d)&&(r.trace_money=window.__currentTraceMoney__||"")}r=g(r),w.report({disableSetTimeout:t,data:{mData:r}})}function g(o){return e.each(o,function(e,t){""===t?delete o[e]:"string"!=typeof t&&(o[e]=t+"")}),o}function m(){return(Object(f.getCookie)("uid")||parseInt(1e8*Math.random(),10))+"_"+Date.now()+"_"+parseInt(1e8*Math.random(),10)}t.d(o,"hotClick",function(){return r}),t.d(o,"haboReport",function(){return n}),t.d(o,"pv",function(){return d}),t.d(o,"luopanReport",function(){return s}),t.d(o,"luopanPv",function(){return l}),t.d(o,"kgReport",function(){return c}),t.d(o,"newCompassReport",function(){return p});var u=t("lthn"),f=t("023w"),h=t("t33I"),k=t("VryL"),_=t("uUd/"),y=.01,q="undefined"!=typeof navigator&&navigator.sendBeacon&&navigator.sendBeacon.bind(navigator),C=new _["default"]({doReport:function(){var o=v&&q?q:e.post;if(!window.__ISTEST__&&!Object(u.getParameter)("debug")){var t=(e.platform.wesingPage?"//wesingapp.com/log":"//node.kg.qq.com/log")+"?compress=1&merge=1",a=Object(k.compressToEncodedURIComponent)(JSON.stringify(C.reportArr));v&&q?q(t+"&sendbeacon=1",a):e.ajax({url:t,type:"POST",contentType:"text/plain;charset=UTF-8",data:a}).always(function(o){-10104===o.code&&e.post("//node.kg.qq.com/log","type=error&message=reportError&log="+a+"["+(o.data&&o.data.report_data)+"]")})}else{var i=e.platform.wesingPage?"//wesingapp.com/log":"//node.kg.qq.com/log";o(i,"report_data="+encodeURIComponent(JSON.stringify(C.reportArr)))}},localStorageName:"KG_REPORT_TEMP"}),b=Object(f.getCookie)("pgv_pvid")||Object(f.getCookie)("uid");b||(b=Math.round(2147483647*Math.random())*new Date().getUTCMilliseconds()%1e10,Object(f.setCookie)("pgv_pvid",b,location.host.split(".").slice(-2).join("."),"/",new Date("Sun, 18 Jan 2038 00:00:00 GMT;")));var w=new _["default"]({doReport:function(){t("evKD")["default"].ajax({ns:"app_dcreport",cmd:"extra.data_report",type:"POST",noencode:!0,data:{vecReportItem:w.reportArr},mapExt:{file:"app_dcreportJce",cmdName:"DataReport",dcapi:{interfaceId:113900061},ip:"100.95.138.18",port:12406,l5api_exp1:{modid:820865,cmd:524288},l5api_test1:{modid:820865,cmd:524288},output:!0}})}}),x=new _["default"]({doReport:function(){t("evKD")["default"].ajax({ns:"app_dcreport",cmd:"extra.dcreport",type:"POST",noencode:!0,data:{strReq:x.reportArr},mapExt:{file:"app_dcreportJce",cmdName:"DcReportReq",dcapi:{interfaceId:113900061},ip:"100.95.138.18",port:12406,l5api_exp1:{modid:820865,cmd:524288},l5api_test1:{modid:820865,cmd:524288},output:!0}})}}),v=!1;(function(){function e(){q&&!v&&(v=!0,C.localStorageReport())}!1,C.localStorageReport(),window.addEventListener("beforeunload",e),window.addEventListener("unload",e),window.addEventListener("pagehide",e)})()}.call(this,t("et+W"))},Sstu:function(e,o,t){"use strict";t.r(o),function(e){function a(e){for(var o=1;o<arguments.length;o++){var t=null==arguments[o]?{}:Object(arguments[o]),a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(o){i(e,o,t[o])})}return e}function i(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function r(e,o){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],0<=o.indexOf(t)||(i[t]=e[t]);return i}function n(e,o){var t=e.protocol,a=e.hostname,i=e.hash,r=e.pathname,n=e.query;return Object(s.format)({protocol:t,hostname:a,pathname:r,hash:i,query:Object.assign({},n,o)})}function d(o,i){void 0===i&&(i={});var d=i,l=d.newWebview,c=d.redirect,p=r(d,["newWebview","redirect"]),g=p,m=o;for(var u in g&&g.data&&(g=g.data),g)g[u]||delete g.k;var f=Object(s.parse)(m),h=f.protocol,k=f.pathname,_=f.hostname,y=f.query,q="http:"===h||"https:"===h||""===h,C={};q&&e.platform.qmkege&&/kg\d{0,}\.qq\.com$/.test(_)&&("/play"===k||"/node/play"===k)&&(C.action="detail",C.data={share_id:y.s}),!C.action&&q&&void 0!==l&&l&&e.platform.qmkege&&(C.action="webview",C.data={url:Object.keys(g).length?n(f,g):m});var b=!q||C.action;if(!b)Object.keys(g).length&&(m=n(f,g));else if(C.action){var w="jsbridge:"===h;m=Object(s.format)({slashes:!0,protocol:q?"qmkege:":h,hostname:w?"karawebview":"kege.com",pathname:w?C.action:"",query:w?{p:JSON.stringify(C.data)}:a({action:C.action},C.data)})}if(!1,b&&!e.platform.qmkege)t.e(2).then(t.bind(null,"b8wp")).then(function(e){e["default"](m)});else if(b&&e.os.android){var x=document.createElement("iframe");x.style.width="1px",x.style.height="1px",x.style.display="none",x.src=m,document.body.appendChild(x)}else!b&&void 0!==c&&c?window.location.replace(m):window.location.href=m;return Promise.resolve(0)}t.d(o,"default",function(){return d});var s=t("lthn")}.call(this,t("et+W"))},VryL:function(e,o,t){"use strict";function a(e){return null==e?"":i(e,6,function(e){return d.charAt(e)})}function i(e,o,t){function a(e){b=e,w==o-1?(w=0,C.push(t(b)),b=0):w++}function r(e){for(g=0;g<e;g++)a(b<<1|1&i),i>>=1}function d(){_--,0==_&&(_=n(2,q),q++)}function s(e,o){return Object.prototype.hasOwnProperty.call(e,o)}function l(e){for(g=0;g<q;g++)a(e?b<<1|i:b<<1),e&&(i=0);i=k.charCodeAt(0)}function p(){s(f,k)?(256>k.charCodeAt(0)?(l(),r(8)):(i=1,l(!0),r(16)),d(),delete f[k]):(i=u[k],r(q)),d()}var g,i,m,u={},f={},h="",c="",k="",_=2,y=3,q=2,C=[],b=0,w=0;for(m=0;m<e.length;m+=1)h=e.charAt(m),s(u,h)||(u[h]=y++,f[h]=!0),c=k+h,s(u,c)?k=c:(p(),u[c]=y++,k=h+"");for(""!=k&&p(),i=2,r(q);;)if(b<<=1,w==o-1){C.push(t(b));break}else w++;return C.join("")}t.r(o),t.d(o,"compressToEncodedURIComponent",function(){return a}),t.d(o,"compress",function(){return i});var r=String.fromCharCode,n=Math.pow,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$"},aqKK:function(e,o,t){var a=t("JiTx");a(t,["//y.gtimg.cn/music/kg/build/","//node.kg.qq.com/proxy/imgcache.gtimg.cn/music/kg/build/"])},awFY:function(e,o,t){"use strict";function a(e,o){window._events[e]||(window._events[e]=[]),window._events[e].push(o)}function i(e,o){var t,a=window._events[e];a&&o?(t=a.indexOf(o),~t&&a.splice(t,1)):window._events[e]=[]}function r(e){if(!window._events[e])return!1;for(var o=Array.prototype.slice.call(arguments,1),t=window._events[e].slice(0),a=0;a<t.length;a++)t[a]&&t[a].apply(this,o)}function n(e,o){var t;a(e,t=function(){o.apply(this,arguments),i(e,t)})}t.r(o),t.d(o,"on",function(){return a}),t.d(o,"off",function(){return i}),t.d(o,"emit",function(){return r}),t.d(o,"one",function(){return n}),window._events={}},"dF/D":function(e,o,t){"use strict";function a(e){var o=new RegExp("(?:^|;+|\\s+)"+e+"=([^;]*)"),t=document.cookie.match(o);return t?t[1]:""}function i(){}t.r(o),t.d(o,"getCookie",function(){return a}),t.d(o,"setCookie",function(){return i})},e7Ga:function(e,o,t){"use strict";t.r(o),function(e,a){function i(e){var o=e?e.split(".")[0]:location.host.match(/^(?:.+\.)?(.+)\.qq\.com$/);return o?{kg:382,node:382,y:384}[o[1]]:""}function r(o){var t=void 0===o?{}:o,i=t.silence,r=t.choose,n=e.Deferred();return void 0!==r&&r&&e.platform.wechat?a("//y.gtimg.cn/mediastyle/mobile/kge_v3/login.css",function(o,e){var t=e,a=document.createElement("div");a.id="__login_choose__",a.style.cssText="position:fixed;top:0;bottom:0;left:0;right:0;background-color:#FFF;z-index:99999999;",a.innerHTML="\n        <section class=\"wrap\">\n          <div class=\"login_logo\"><h1>\u5168\u6C11K\u6B4C</h1></div>\n          <div class=\"login_control\">\n            <a href=\"javascript:void(0);\" id=\"__login_qq__\" class=\"login_control__btn\"><span class=\"icon_logo icon_qq\"></span>QQ\u767B\u5F55</a>\n            <a href=\"javascript:void(0);\" id=\"__login_wx__\" class=\"login_control__btn\"><span class=\"icon_logo icon_wechat\"></span>\u5FAE\u4FE1\u767B\u5F55</a>\n            <div class=\"mod_agree\">\n              <p class=\"mod_agree__txt\">QQ\u4E0E\u5FAE\u4FE1\u8D26\u6237\u8D44\u4EA7\u548C\u7279\u6743\u4E0D\u4E92\u901A</p>\n              <a href=\"javascript:void(0);\" id=\"__login_close__\" class=\"ui_c_primary\">\u6682\u4E0D\u767B\u5F55</a>\n            </div>\n          </div>\n          <div class=\"pop_simple\" id=\"__login_loading__\" style=\"display:none;\">\n            <div class=\"pop_simple__con\">\n              <div class=\"mod_loading\">\n                <i class=\"icon_loading\"></i>\u767B\u5F55\u4E2D...\n              </div>\n            </div>\n          </div>\n        </section>\n      ";var i=function(o){return o.preventDefault(),!1};document.body.addEventListener("touchmove",i);var r=function(){document.body.removeEventListener("touchmove",i),a.parentNode.removeChild(a),t.parentNode.removeChild(t),a=null,t=null};document.body.appendChild(a),document.getElementById("__login_close__").addEventListener("click",function(){n.reject(),r()}),document.getElementById("__login_wx__").addEventListener("click",function(){Object(u.getCookie)("openid")&&Object(u.getCookie)("_kg_wx_openid_")&&"1"===Object(u.getCookie)("opentype")?(Object(u.setCookie)("choose_opentype","1","qq.com","/",.08),document.getElementById("__login_loading__").style.display="",setTimeout(function(){n.resolve(),r()},300)):c({is_choose:!0})}),document.getElementById("__login_qq__").addEventListener("click",function(){l({is_choose:!0})})}):e.platform.wechat?c({silence:void 0!==i&&i}):e.platform.music?f["default"].ready(function(){f["default"].bridge&&f["default"].bridge.callHandler("JS_CMD_DO_LOGIN","",function(){location.reload()})}):l(),n}function n(){return Object(u.getCookie)("uid").trim()&&d.apply(void 0,arguments)}function d(){for(var e=arguments.length,o=Array(e),t=0;t<e;t++)o[t]=arguments[t];var a=s.apply(void 0,o),i=o&&o[0]||{};return a&&i.isValidSig?Object(k.validateCookieSig)(u.getCookie,u.setCookie):a}function s(o){var t=void 0===o?{}:o,a=t.silence,i=t.choose;return(""!==Object(u.getCookie)("choose_opentype")&&(Object(u.getCookie)("openid")&&Object(u.getCookie)("opentype")===Object(u.getCookie)("choose_opentype")?Object(u.setCookie)("choose_opentype",Object(u.getCookie)("choose_opentype"),"qq.com","/",.08):Object(u.setCookie)("choose_opentype","","qq.com","/",-1)),e.platform.qq&&Object(u.getCookie)("kg_uin")&&Object(u.getCookie)("kg_uin")!==Object(u.getCookie)("uin"))?(p(),!1):(e.platform.wechat&&/kg\d*\.qq\.com/.test(document.domain)&&g(),e.platform.wechat&&void 0!==a&&a?""!==Object(u.getCookie)("_kg_wx_openid_")||"1"===Object(u.getCookie)("opentype")&&""!==Object(u.getCookie)("openid")&&(Object(u.setCookie)("_kg_wx_openid_",Object(u.getCookie)("openid"),"qq.com","/"),!0):Object(u.getCookie)("openid")&&Object(u.getCookie)("openkey")&&(!(void 0!==i&&i)||!e.platform.wechat||""!==Object(u.getCookie)("choose_opentype")))}function l(o){var t=void 0===o?{}:o,a=t.is_choose,r=t.redirect_uri,n=t.jumpLink,d=t.domain,s=Object(_.getParameter)("loguid"),l={url:r||(n||location.href).split("#")[0],type:"qq",is_choose:void 0!==a&&a?1:0};s&&(l.loguid=s);var c=window.location.protocol+"//node.kg.qq.com/loginhelper?"+e.param(l);if(p(),e.platform.qq&&Object(u.getCookie)("p_skey"))location.href=c;else{window.location.replace("http://ui.ptlogin2.qq.com/cgi-bin/login?style=9&pt_wxtest=1&&appid=1006102&"+e.param({daid:i(d),s_url:c,hln_css:"http://kg.qq.com/gtimg/mediastyle/mobile/kge/img/logo_240_100.png"}))}}function c(o){var t=void 0===o?{}:o,a=t.appid,i=void 0===a?"wx4b70132cb82f7584":a,r=t.append_string,n=void 0===r?"":r,d=t.redirect_uri,s=t.jumpLink,l=t.silence,c=void 0!==l&&l,g=t.is_choose,m=d;if(!m){var f=Object(_.getParameter)("loguid"),h={url:(s||window.location.href).split("#")[0],type:"wechat",is_choose:void 0!==g&&g?1:0,silence:c?1:0};f&&(h.loguid=f),m=window.location.protocol+"//kg.qq.com/node/loginhelper?"+e.param(h)}c||p(),Object(k.clearLoginSigCookie)(u.setCookie),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?"+e.param({appid:i,redirect_uri:m,response_type:"code",scope:c?"snsapi_base":"snsapi_userinfo"})+n}function p(){g(),Object(u.setCookie)("uid","",null,"/",-1),Object(u.setCookie)("wxlogin","",null,"/",-1),Object(u.setCookie)("openid","",null,"/",-1),Object(u.setCookie)("openkey","",null,"/",-1),Object(u.setCookie)("opentype","",null,"/",-1)}function g(){Object(k.clearLoginSigCookie)(u.setCookie),Object(u.setCookie)("uid","","qq.com","/",-1),Object(u.setCookie)("wxlogin","","qq.com","/",-1),Object(u.setCookie)("openid","","qq.com","/",-1),Object(u.setCookie)("openkey","","qq.com","/",-1),Object(u.setCookie)("opentype","","qq.com","/",-1)}function m(){return Object(u.getCookie)("opentype")===h.TOURIST_OPEN_TYPE}t.d(o,"getDaid",function(){return i}),t.d(o,"login",function(){return r}),t.d(o,"isKgLogin",function(){return n}),t.d(o,"isLogin",function(){return d}),t.d(o,"qqLogin",function(){return l}),t.d(o,"wxLogin",function(){return c}),t.d(o,"clearLoginCookie",function(){return p}),t.d(o,"clearLoginCookieQQ",function(){return g}),t.d(o,"isTouristLogin",function(){return m});var u=t("023w"),f=t("e7z0"),h=t("t33I"),k=t("jy+V"),_=t("lthn")}.call(this,t("et+W"),t("iEbV"))},e7z0:function(e,o,t){"use strict";t.r(o),function(e,a){function i(e){window.WeixinJSBridge?(n.initBridge(),e()):document.addEventListener("WeixinJSBridgeReady",function o(){document.removeEventListener("WeixinJSBridgeReady",o),n.initBridge(),e()})}var r=t("S63A");var n={readyDtd:null,readyed:!1,bridge:null,getBridge:function(){var o=null;return e.platform.music?o=window.WebViewJavascriptBridge:e.platform.wechat?o=window.WeixinJSBridge:e.platform.qmkege?o=window.kgbridge:e.platform.qq?o=window.mqq:e.platform.qzone&&(o=window.QZAppExternal),!o&&n.readyed&&Object(r.hotClick)("bridge_missing.".concat(e.platform.name,".").concat(e.os.ios?"ios":"android")),o},getH:function(){return r.hotClick},initBridge:function(e){var o=e||n.getBridge();return o?(n.bridge=o,o.init&&o.init(),!1,o):null},ready:function(o){if(n.readyDtd)return n.readyDtd.always(function(){o&&o(),!1}),n.readyDtd;n.readyDtd=e.Deferred();var r=function(){n.readyed=!0,n.readyDtd.resolve(),o&&o(),!1};return n.initBridge()?r():e.platform.music?a("https://y.gtimg.cn/music/h5/client/jsbridge.js?max_age=2592000",function(){n.initBridge(),r()}):e.platform.wechat?i(r):e.platform.qmkege?t.e(1).then(t.bind(null,"qHzx")).then(function(e){n.initBridge(e),r()}):e.platform.qq?a("//open.mobile.qq.com/sdk/qqapi.js?max_age=311040000&_bid=152",function(){n.initBridge(),r()}):e.platform.qzone?a("//y.gtimg.cn/qzone/phone/m/v4/widget/jsbridge.js?max_age=311040000",function(){n.initBridge(),r()}):r(),n.readyDtd}},d=null;Object.defineProperty&&Object.defineProperty(n,"bridge",{get:function(){return d||n.initBridge()},set:function(e){d=e}}),o["default"]=n}.call(this,t("et+W"),t("2i9q")["default"])},"et+W":function(e,o,t){e.exports=t("wqEm")("et+W")},evKD:function(e,o,t){"use strict";t.r(o),function(e){function a(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}var i=t("k9l8"),r=t.n(i),n=t("hZSP"),d=t.n(n),s=t("AHYA"),l=t("2Akz"),c=t("IpNO"),p=t("meuh"),g=t("wEqV"),m=t("lthn"),u=t("2YLx"),f=t("awFY"),h=t("023w"),k=t("9BN6"),_=t("S63A"),y=t("xICd"),q=t("e7Ga"),C=t("e7z0"),b=t("kB6p"),w=t("Sstu"),x=t("RK1W"),v=t("sCZa");e.platform.wechat&&e.os.android&&console.log("weixin://preInjectJSBridge/start"),Object(k.cleanDuplicatedWebkey)(),document.cookie&&Object(h.hasRepeatedCookie)()&&_.kgReport({file:window.location.href,message:"cookies has repeated item.",log:document.cookie}),e.platform.wesingPage?!Object(h.getCookie)("wesing")&&Object(h.setCookie)("wesing",1):"1"===Object(h.getCookie)("wesing")&&Object(h.setCookie)("wesing",0,null,"/",new Date("1990/01/01 00:00:00"));var P=function(e){for(var o=1;o<arguments.length;o++){var t=null==arguments[o]?{}:Object(arguments[o]),i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(o){a(e,o,t[o])})}return e}({checkInstall:b["default"],userinfo:u["default"],ajax:y.ajax,getCookie:h.getCookie,setCookie:h.setCookie,getParameter:m.getParameter,setParameter:m.setParameter,login:q.login,isLogin:q.isLogin,isKgLogin:q.isKgLogin,wxLogin:q.wxLogin,qqLogin:q.qqLogin,isTouristLogin:q.isTouristLogin,event:f,clearLoginCookie:q.clearLoginCookie,recharge:v["default"],versionCompare:x.versionCompare,goUrl:w["default"]},_,c,p,g,{openApp:function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];t.e(2).then(function(){var e=t("b8wp")["default"];e.apply(void 0,o)}.bind(null,t)).catch(t.oe)},setShare:function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];t.e(3).then(function(){var e=t("zMxF");e.setShare.apply(e,o)}.bind(null,t)).catch(t.oe)}});P.ready=function(e){return C["default"].ready(e)},!e.platform.pc&&Object.defineProperty&&Object.defineProperty(P,"bridge",{get:function(){return C["default"].bridge||{invoke:function(){for(var e=arguments.length,o=Array(e),t=0;t<e;t++)o[t]=arguments[t];C["default"].ready(function(){var e;C["default"].bridge&&(e=C["default"].bridge).invoke.apply(e,o)})}}}}),o["default"]=P}.call(this,t("et+W"))},hZSP:function(){Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o,t=Object(this),a=t.length>>>0,r=arguments[1],n=0;n<a;n++)if(o=t[n],e.call(r,o,n,t))return o})},iEbV:function(e){var o={};e.exports=function(e,t){if(o[e])t();else{var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",e),a.onload=a.onerror=function(o){t&&t(o,a)};var i=document.getElementsByTagName("head")[0];i.insertBefore(a,i.lastChild)}}},juOO:function(e,o,t){"use strict";t.r(o),function(e){function a(e){for(var o=e.num,t=e.maxlen,a=void 0===t?5:t,r=e.type,n=void 0===r?"cn":r,d=e.decimallen,s=void 0===d?10:d,l=h[n],c={limit:0,floor:0,suffix:""},p=parseFloat(o),g=0;g<l.length;g++)if(o>=l[g].limit){c=l[g];break}c.floor&&(p/=c.floor);var i=p+"",m=i.indexOf(".");if(-1!==m){var u=f(0,Math.min(a-m-1,s));p=p.toFixed(u).replace(/((\.[1-9]+)|\.)0+$/,"$2")}else p=p.toFixed();return p+c.suffix}function i(e){return(e+"").replace(/(\d+?)(?=(\d\d\d)+$)/g,"$1,")}function r(e,o){var t=void 0===o?{}:o,a=t.parseEmoji,r=String.prototype.codePointAt;r||(r=function(e){if(null==this)throw TypeError();var o=this+"",t=o.length,a=e?+e:0;if(isNaN(a)&&(a=0),!(0>a||a>=t)){var i,r=o.charCodeAt(a);return 55296<=r&&56319>=r&&t>a+1&&(i=o.charCodeAt(a+1),56320<=i&&57343>=i)?1024*(r-55296)+i-56320+65536:r}});for(var n=[],d=0,i="",s=!1;d<e.length;d++){var l=r.call(e,d),c=e[d];(void 0===a||a)&&(!s&&"["===c&&k.test(e.substr(d,d+4))?s=!0:s&&"]"===c&&_.test(e.substr(d-4,d))&&(s=!1)),i+=c,!s&&65535>=l&&(n.push(i),i="")}return n}function n(e,o,t){void 0===o&&(o=6);for(var a,i=void 0===t?{}:t,n=i.charSensible,d=r(e),s=d.slice(),l=0,c=[];l<o&&s.length&&(a=void 0!==n&&n&&1===s[0].length&&128>s[0].charCodeAt(0)?.5:1,l+a<=o);)c.push(s.shift()),l+=a;return s.length&&c.push("..."),c.join("")}function d(o){var t=o;return(w(t)&&e.platform.wesingPage||b(t)&&!e.platform.wesingPage||C.test(t)&&C.test(window.location.host))&&(t=window.location.host),t}function s(o,t){var a=e.platform.wesingPage?"wesingapp.com":"node.kg.qq.com";return"node"===t[0]&&t.splice(0,1),a+(t.length?"/"+t.join("/"):"")}function l(o,t){var a=o,i=f(t.indexOf("fcgi-bin"),t.indexOf("cgi"))+1;return"y.qq.com"===window.location.host?(a="kg.y.qq.com",[].splice.apply(t,[0,i,"fcgi-bin"])):e.platform.wesingPage?(a="cgi.wesingapp.com",[].splice.apply(t,[0,i,"fcgi-bin"])):e.platform.rn?(a="cgi.kg.qq.com",[].splice.apply(t,[0,i,"fcgi-bin"])):(a="node.kg.qq.com",[].splice.apply(t,[0,i,"cgi","fcgi-bin"])),a+"/"+t.join("/")}function c(e,o,t){if(!e)return"";var a,i=e.replace(y.proto_head,""),r=i.split("/"),n=r[0].match(y.domain);return n&&n[0]&&(a=d(n[0]),r=r.slice(1)),"gtimg"===r[0]||y.gtimg.test(a)?(a="midas.gtimg.cn"===a?a:q,"gtimg"===r[0]&&r.splice(0,1),i=(a+"/"+r.join("/")).replace("gtimg/music/photo_new","music/photo_new")):("fcgi-bin"===r[0]||"cgi"===t||"cgi"===r[0])&&(!a||/kg\d{0,1}\.qq\.com$/.test(a)||b(a))?i=l(a,r,t):"node.kg.qq.com"===a||"wesingapp.com"===a||"node"===r[0]?i=s(a,r,t):i=a+(r.length?"/"+r.join("/"):""),window.location.protocol+"//"+i}function p(e,o){void 0===o&&(o={});var t={date:x(o.date,!0),y:x(o.y,!0),m:x(o.m,!0),d:x(o.d,!0),time:x(o.time,!0),h:x(o.h,!0),i:x(o.i,!0),s:x(o.s,!1),pad:!0},a=e instanceof Date?e:new Date(1e3*parseInt(e,10)),i=[],r=[],n="";return t.date&&(t.y&&i.push(a.getFullYear()),t.m&&i.push(t.pad?g(a.getMonth()+1):a.getMonth()+1),t.d&&i.push(t.pad?g(a.getDate()):a.getDate())),t.time&&(t.h&&r.push(t.pad?g(a.getHours()):a.getHours()),t.i&&r.push(t.pad?g(a.getMinutes()):a.getMinutes()),t.s&&r.push(t.pad?g(a.getSeconds()):a.getSeconds())),i.length&&(n+=i.join("-")),r.length&&(n+=(0<n.length?" ":"")+r.join(":")),n}function g(e,o,t,a){void 0===o&&(o="0"),void 0===t&&(t=2),void 0===a&&(a=!0);for(var i=e+"";i.length<t;)a?i=o+i:i+=o;return i}function m(e,o){void 0===o&&(o="zh_Hans");var t={zh_Hans:{yesterday:"\u6628\u5929",today:"\u4ECA\u5929"},zh_Hant:{yesterday:"\u6628\u5929",today:"\u4ECA\u5929"},en:{yesterday:"Yesterday",today:"Today"},id:{yesterday:"Yesterday",today:"Today"},ms:{yesterday:"Yesterday",today:"Today"},th:{yesterday:"Yesterday",today:"Today"},ph:{yesterday:"Kahapon",today:"Ngayon"},hi:{yesterday:"\u092C\u0940\u0924\u0947 \u0915\u0932 \u092E\u0947",today:"\u0906\u091C"},bn:{yesterday:"\u0997\u09A4\u0995\u09BE\u09B2",today:"\u0986\u099C"}}[o],a=1e3*e,i=new Date,r=new Date(i.getFullYear(),i.getMonth(),i.getDate()),n=new Date(r.valueOf()-86400000),d=new Date(a),s="",l=d.getHours(),c=d.getMinutes();return l=10>l?"0"+l:l,c=10>c?"0"+c:c,s=l+":"+c,s=a<n.valueOf()?(d.getFullYear()===new Date().getFullYear()?"":g(d.getFullYear(),2,"0")+"-")+g(d.getMonth()+1,2,"0")+"-"+g(d.getDate(),2,"0")+" "+s:a<r.valueOf()?t.yesterday+" "+s:t.today+" "+s,s}function u(e,o){var t=Math.floor;void 0===o&&(o={});var a=t(e/60),i=t(a/60),r=t(i/24),n={d:r,h:i%24,m:a%60,s:e%60};return o.format2str?[n.d?n.d+"\u5929":"",n.h?n.h+"\u5C0F\u65F6":"",n.m?n.m+"\u5206":"",n.s?n.s+"\u79D2":""].join(""):n}var f=Math.max;t.d(o,"countFormat",function(){return a}),t.d(o,"countFormatComma",function(){return i}),t.d(o,"splitText",function(){return r}),t.d(o,"countEmojiText",function(){return n}),t.d(o,"urlFormat",function(){return c}),t.d(o,"timeFormat",function(){return p}),t.d(o,"str_pad",function(){return g}),t.d(o,"makeComTime",function(){return m}),t.d(o,"formatLeftTime",function(){return u});var h={en:[{limit:1e6,floor:1e6,suffix:"m"},{limit:1e4,floor:1e3,suffix:"k"}],id:[{limit:1e6,floor:1e6,suffix:"jt"},{limit:1e4,floor:1e3,suffix:"k"}],ms:[{limit:1e6,floor:1e6,suffix:"j"},{limit:1e4,floor:1e3,suffix:"k"}],th:[{limit:1e6,floor:1e6,suffix:"\u0E25."},{limit:1e4,floor:1e3,suffix:"\u0E1E\u0E31\u0E19"}],ph:[{limit:1e6,floor:1e6,suffix:"m"},{limit:1e4,floor:1e3,suffix:"k"}],zh_Hans:[{limit:1e4,floor:1e4,suffix:"\u4E07"}],zh_Hant:[{limit:1e4,floor:1e4,suffix:"\u842C"}],hi:[{limit:1e6,floor:1e6,suffix:"m"},{limit:1e4,floor:1e3,suffix:"\u09B9\u09BE\u099C\u09BE\u09B0"}],bn:[{limit:1e6,floor:1e6,suffix:"\u09AE\u09BF\u09B2\u09BF\u09DF\u09A8"},{limit:1e4,floor:1e3,suffix:"k"}],cn:[{limit:1e4,floor:1e4,suffix:"\u4E07"}]},k=/^\[em\]/i,_=/^\[\/em\]/i,y={domain:/^([0-9a-z\-\_\.]*)(\.com|\.cn)$/i,proto_head:/^http(s?)\:\/\/|^\/\/|^\//,gtimg:/^.*\.gtimg\.cn|imgcache.qq.com$/,qqcom:/^.*\.qq\.com$/,slash:/^\/\/|^\//},q="kg.qq.com/gtimg",C=/^kg\d{0,1}\.qq\.com$/i,b=function(e){return"wesingapp.com"===(e||"").toLowerCase()},w=function(e){return /^kg\d{0,1}\.qq\.com$/i.test(e)},x=function(e,o){return"boolean"==typeof e?e:o}}.call(this,t("et+W"))},"jy+V":function(e,o,t){"use strict";function a(e){for(var o=[e("openid"),e("openkey"),e("uid"),e("opentype")].join(""),t=0,a=0,i=o.length;a<i;a++)t+=o.charCodeAt(a);return t+""}function i(e,o){var t=e("_kg_login_sig_"),i=a(e);return!(t&&t!==i)&&(o("_kg_login_sig_",i,"kg.qq.com","/",696),!0)}function r(e){e("_kg_login_sig_","","kg.qq.com","/",-1)}t.r(o),t.d(o,"generateCookieSig",function(){return a}),t.d(o,"validateCookieSig",function(){return i}),t.d(o,"clearLoginSigCookie",function(){return r})},k9l8:function(e,o,t){(function(e){"function"!=typeof Object.assign&&(Object.assign=e.extend),"function"!=typeof Object.keys&&(Object.keys=function(e){var o=[];for(var t in e)e.hasOwnProperty(t)&&o.push(t);return o})}).call(this,t("et+W"))},kB6p:function(e,o,t){"use strict";t.r(o),function(e,a){function i(o,t,i){var c=o,p=t;p||"function"!=typeof c||(p=c,c="qmkege"),"qmkege"===c&&e.platform.wesingPage&&(c="wesing");var g=e.os.ios?s[c].ios:s[c].android,m=function(e){l[c]||(l[c]=e),p&&p(e)};if(e.platform[c])m(1);else if(!i&&l[c])m(l[c]);else{if(e.os.ios&&9<=parseFloat(e.os.version)&&-1===s[c].ios_white.indexOf(e.platform.name))return m(3);n["default"].ready(function(){e.platform.qq?a("//open.mobile.qq.com/sdk/qqapi.js?max_age=311040000&_bid=152",function(){window.mqq?window.mqq.app.isAppInstalled(g,function(e){"no such method"===e?m(3):"object"==typeof e?m(e&&e.result?1:2):m(e?1:2)}):(m(3),Object(r.hotClick)("mqqfail.checkinstall"))}):e.platform.qzone?a("//kg.qq.com/gtimg/qzone/phone/m/v4/widget/mobile/jsbridge.js",function(){window.QZAppExternal?window.QZAppExternal.isAppInstall(g,function(e){e&&e.data&&(!0===e.data.ret||"true"===e.data.ret)?m(1):m(2)}):m(3)}):e.platform.music?window.M.client.invoke("app","isInstalled",{ios:[s[c].ios],android:[s[c].android]},function(e){m(0===e.code&&1===+e.data.installed[0]?1:2)}):e.platform.wechat?n["default"].bridge.invoke("getInstallState",{packageName:s[c].android,packageUrl:s[c].ios},function(o){m(-1===(o.err_msg||o.errMsg).indexOf("get_install_state:yes")?2:1)}):e.platform.weishi?d.checkKgAppInstall(m):m(3)})}}t.d(o,"default",function(){return i});var r=t("S63A"),n=t("e7z0"),d=t("RPPM"),s={qq:{ios:"mqqapi://",ios_white:["wechat","music"],android:"com.tencent.mobileqq"},wechat:{ios:"weixin://",ios_white:["qq","music"],android:"com.tencent.mm"},music:{ios:"qqmusic://",ios_white:["wechat","qq","qzone"],android:"com.tencent.qqmusic"},qmkege:{ios:"qmkege://",ios_white:["wechat","qq","music","qzone","weishi"],android:"com.tencent.karaoke"},wesing:{ios:"wesing://",ios_white:["music"],android:"com.tencent.wesing"},softmarket:{ios:"softmarket://",ios_white:[],android:"com.oppo.market"},hiapp:{ios:"hiapp://",ios_white:[],android:"com.huawei.appmarket"},vivoMarket:{ios:"vivoMarket://",ios_white:[],android:"com.bbk.appstore"},kuaishou:{ios:"kwai://",ios_white:[],android:"com.smile.gifmaker"},qqmanager:{ios:"mqqsecure://",ios_white:[],android:"android.lite.clean"},qqnewslite:{ios:"qqnewslite://",ios_white:[],android:"com.tencent.news.lite"}},l={}}.call(this,t("et+W"),t("2i9q")["default"])},lthn:function(e,o,t){"use strict";t.r(o),function(e){function a(e){var o=e;try{o=decodeURIComponent(o)}catch(t){o=unescape(o)}return o}function r(e,o,t){var a=t;if("object"==typeof e){for(var n in a=o,e)a=r(n,e[n],a);return a}var i=new RegExp("([?|&|#])("+e+"=)([^&#?]*)([&]?)");return a=a||window.location.href,a=i.test(a)?a.replace(i,function(t,a,i,r,n){return o?a+i+encodeURIComponent(o)+n:n?a:""}):o?(a+"&"+e+"="+encodeURIComponent(o)).replace(/(\?|&)/,"?"):a,a}function i(e,o){var t=new RegExp("(\\?|#|&)"+e+"=([^&#?]*)(&|#|\\?|$)"),i=(o||window.location.href).match(t);return a(i?i[2]:"")}function n(e){if("object"==typeof e)return e;var o={};if(e)for(var t,r=e.split("&"),n=0;n<r.length;n++)if(t=r[n].split("="),t&&"undefined"!=typeof t[1])try{o[a(t[0])]=a(t[1]||"")}catch(a){o[t[0]]=t[1]||""}return o}function d(e){c||(c=document.createElement("a")),c.href=e;var o={},t=e.match(p);return o.protocol=t&&t[1]?t[1]:"",o.hostname=t&&t[2]?t[2]:"",o.pathname=t&&t[3]?t[3]:"/",o.search=c.search,o.hash=c.hash,o.query={},o.search.replace(/^\?/,"").split(/&/).forEach(function(e){if(e){var t=e.split(/\=/);try{o.query[t[0]]=decodeURIComponent(t[1])}catch(o){}}}),o}function s(o){var t=void 0===o?{}:o,a=t.protocol,i=t.hostname,r=t.hash,n=t.pathname,d=t.query,s=a,l=i,c=r,p=n;s||(s="https:"),l||(l="kg.qq.com"),c?c&&!/^\#/.test(c)&&(c="#"+c):c="",p?!/^\//.test(p)&&(p="/"+p):p="/";var g=d?e.param(d):"";return"".concat(s,"//").concat(l).concat(p).concat(g?"?".concat(g):"").concat(c)}function l(e){return r("loginwhitelist",1,e)}t.d(o,"setParameter",function(){return r}),t.d(o,"getParameter",function(){return i}),t.d(o,"unserialize",function(){return n}),t.d(o,"parse",function(){return d}),t.d(o,"format",function(){return s}),t.d(o,"addTouristParameter",function(){return l});var c,p=/^([a-z]+\:)?\/\/([^\/\?#]+)?([^#\?]+)?/i}.call(this,t("et+W"))},"m0f/":function(e,o,t){"use strict";function a(e){return void 0===e&&(e=""),(e||"").toString().replace(m,function(e){return p[e]})}function i(e){return void 0===e&&(e=""),(e||"").toString().replace(u,function(e){return g[e]})}function r(e){return i(e)}function n(){return c?c:(c=window.document&&window.navigator&&-1!==document.cookie.indexOf("; ver=")&&-1!==navigator.userAgent.indexOf("Chrome/43.0.23.134")?"png":"gif",c)}function d(e){var o=4e5<=parseInt(e,10);return window.location.protocol+"//kg.qq.com/em/e".concat(e+(o?"@2x.":".")).concat(n(),"?max_age=31104000000")}function s(e,o){return void 0===e&&(e=""),void 0===o&&(o=24),e.replace(f,function(e,t){return"<img src=\"".concat(d(t),"\" style=\"width:").concat(o,"px;height:").concat(o,"px;\" />")})}function l(e){return void 0===e&&(e=""),e.replace(f,"")}t.r(o),t.d(o,"escHTML",function(){return a}),t.d(o,"escHTMLDecode",function(){return i}),t.d(o,"restHtml",function(){return r}),t.d(o,"getEmojiSrc",function(){return d}),t.d(o,"parseEmoji",function(){return s}),t.d(o,"removeEmoji",function(){return l});var c,p={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},g={"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":"\"","&#47;":"/","<br/>":"\n","&#047;":"/","&#039;":"'","&apos;":"'","&bsol;":"\\"},m=function(){var e=[];for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&e.push(o);return new RegExp("("+e.join("|")+")","g")}(),u=function(){var e=[];for(var o in g)Object.prototype.hasOwnProperty.call(g,o)&&e.push(o);return new RegExp("("+e.join("|")+")","g")}(),f=/\[em(?:2)?\]e(\d{1,8})(?:,\d{1,3},\d{1,3})?\[\/em(?:2)?\]/gi},meuh:function(e,o,t){"use strict";t.r(o),function(e){function a(){if(n)return n;if(n=e.Deferred(),!e.os.ios||!e.platform.qmkege||6.1>parseFloat(e.platform.version))return n.resolve({});var o;try{o=JSON.parse(localStorage.getItem(r))}catch(o){}return o&&n.resolve(o),i["default"].ready(function(){i["default"].bridge.invoke("concealIdString",function(e){o={},e&&"string"==typeof e.concealIdString&&e.concealIdString.split(",").forEach(function(e){o[e.trim()]=!0}),n.resolve(o);try{localStorage.setItem(r,JSON.stringify(o))}catch(o){}})}),n}t.d(o,"getModuleHiddenMap",function(){return a});var i=t("e7z0"),r="__KG_IOS_HIDDEN_MODULES_LIST__",n=null}.call(this,t("et+W"))},sCZa:function(e,o,t){"use strict";t.r(o),function(e){function a(o){return"//kg.qq.com/node/room/selectkcoin?"+e.param({with_header:o.with_header||"1",sandbox:Object(s.getParameter)("sandbox"),from:o.from,version:2,mode:"iframe",g_f:o.g_f||"iframe"})}function i(o){var t=e(document.body).scrollTop()+(e(window).height()-570)/2+"px";return"position:absolute;left:50%;margin-left:-345px;top:"+t+";width:690px;height:570px;border:none;z-index:1000;"+(o.initWithHide?"display:none;":"")}function r(){return"<div class=\"popup_mask j_recharge_mask\" style=\"z-index:999;\"></div>"}function n(o){var t=window._recharge=o.listener;t.onResize=function(o){e(".j_kb_recharge_iframe").height((o||{}).height)},t.onClose=function(o){!1!==(o||{}).pay_succeed&&e(".j_kb_recharge_iframe,.j_recharge_mask").remove()},e(".j_kb_recharge_iframe").remove(),e(document.body).append(e(r()+"<iframe class=\"j_kb_recharge_iframe\" style=\""+i(o)+"\" src=\""+a(o)+"\"></iframe>"))}function d(e){n(e)}t.d(o,"default",function(){return d});var s=t("lthn")}.call(this,t("et+W"))},t33I:function(e,o,t){"use strict";t.r(o),t.d(o,"FB_APP_ID",function(){return a}),t.d(o,"WECHAT_APPID",function(){return i}),t.d(o,"WECHAT_QZA_APPID",function(){return r}),t.d(o,"QQ_APPID",function(){return n}),t.d(o,"WX_MP_QUA",function(){return d}),t.d(o,"QQ_MP_QUA",function(){return s}),t.d(o,"KGAPP_IN_WXAPPID",function(){return l}),t.d(o,"SUCCESS_CODE",function(){return c}),t.d(o,"RETRY_CODE",function(){return p}),t.d(o,"RETRY_TIMES",function(){return g}),t.d(o,"NEED_LOGIN_CODE",function(){return m}),t.d(o,"ERROR_CODE",function(){return u}),t.d(o,"REPORT_TYPE",function(){return f}),t.d(o,"TOURIST_OPEN_TYPE",function(){return h}),t.d(o,"PLAY_URL_PREFIX",function(){return k}),t.d(o,"REPORT_COMMANDID",function(){return _});var a="273829592974656",i="wx9d9f1917f2fd2171",r="1000438",n="101097681",d="V1_KMP_KG_5.0.0_001_APP_A",s="V1_QMP_KG_5.0.0_001_APP_A",l="wx2ed190385c3bafeb",c={_default:0},p=[1e3,1200],g=2,m=[1e3,-17116,-10022],u={"bridge-error":989,"bridge-failed":990,"http-parsererror":991,uninitialized:992,loading:993,"xhr-1.0-error":994,parsererror:995,abort:996,onabort:996,timeout:997,error:998,onerror:998,unknown:999},f={success:1,ajax:2,logic:3},h="100",k="https://node.kg.qq.com/cgi/fcgi-bin/fcg_get_play_url?shareid=",_="extra.data_report"},"uUd/":function(e,o,t){"use strict";t.r(o),t.d(o,"default",function(){return i});var a=t("MIep"),i=function(){function e(e){this.reportArr=[],this.reportTimer=!1,this.doReport=e.doReport,this.localStorageName=e.localStorageName}var o=e.prototype;return o.report=function(e){var o=this;this.reportArr.push(e.data),this.reportTimer&&clearTimeout(this.reportTimer),e.disableSetTimeout||20<this.reportArr.length?(this.doReport(this.reportArr),this.reportArr=[]):this.reportTimer=setTimeout(function(){o.doReport(o.reportArr),o.reportArr=[]},1e3)},o.getCache=function(e){var o=Object(a.get)(e);return o&&JSON.parse(o)||[]},o.setCache=function(e,o){o?Object(a.set)(e,JSON.stringify(o)):Object(a.remove)(e)},o.saveData=function(e){var o=[];o=this.getCache(this.localStorageName),o.push(e),this.setCache(this.localStorageName,o),15<o.length&&this.localStorageReport()},o.localStorageReport=function(){var e=[];a.isLocalStorageEnabled&&(e=this.getCache(this.localStorageName),e.length&&(this.reportArr=e,this.setCache(this.localStorageName),this.doReport()))},e}()},wEqV:function(e,o,t){"use strict";function a(e){return void 0===e&&(e={}),s.codeAutoLogin(e)}function i(){return s.shouldAutoLogin()}function r(e){return void 0===e&&(e={}),s.login(e)}t.r(o),t.d(o,"codeAutoLogin",function(){return a}),t.d(o,"shouldAutoLogin",function(){return i}),t.d(o,"loginPop",function(){return r});var n=t("e7z0"),d=t("Cpn9"),s=new d["default"]({loginPop:function(e){var o=void 0===e?{}:e,t=o.code,a=o.redirecturl,i=o.closeCallback,r=o.loginCallback,d=o.loginFeature;n["default"].ready(function(){n["default"].bridge.invoke("loginPop",{code:t,redirecturl:a},function(e){e&&"object"==typeof e&&(i&&"close"===e.type?i():r&&"login"===e.type&&r())})})},logout:function(){n["default"].ready(function(){n["default"].bridge.invoke("logout",{redirecturl:window.location.href})})}})},wqEm:function(e){e.exports=zepto},xICd:function(e,o,t){"use strict";t.r(o),function(e){function i(e){for(var o=1;o<arguments.length;o++){var t=null==arguments[o]?{}:Object(arguments[o]),a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(o){r(e,o,t[o])})}return e}function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function n(e){var o=parseInt(e,10);return!isNaN(o)}function d(e,o){void 0===o&&(o="");var t=e.replace(/\?.*$/,"");return t=t.split("/"),o+t[t.length-1]}function s(o){void 0===o&&(o={}),o.data||(o.data={}),o.ajaxStart=+new Date,o.url||(o.url=window.location.protocol+"//kg.qq.com/node/webapp/proxy"),o.useOriginUrl||(o.url=Object(f.urlFormat)(o.url)),v.href=o.url,o.useBridge&&("node.kg.qq.com"===v.host||"cgi.kg.qq.com"===v.host||"kg.qq.com"===v.host&&/^\/cgi\//.test(v.pathname))&&e.platform.qmkege&&!e.platform.wesing&&4.2<=parseFloat(e.platform.version)&&!o.noBridge&&-1===window.location.search.indexOf("httpFetch=1")&&(this.useBridge=!0),this.isCrossSite=v.host!==window.location.host,this.opt=o,this.dtd=e.Deferred(),this.initParams()}function l(e){var o=new s(e);return o.send()}t.d(o,"ajax",function(){return l});var c=t("e7z0"),p=t("2YLx"),g=t("023w"),m=t("5zSK"),u=t("S63A"),f=t("juOO"),h=t("t33I"),k=t("VryL"),_=t("9BN6"),y=t("RK1W"),q=t("lthn"),C=t("wEqV"),b=t("e7Ga"),w=/^([a-z0-9\-\_]+)\(\{/i,x=0,v=document.createElement("a");s.prototype.initParams=function(){var o=this,t=this.opt,a=t.url,r=(t.type||"GET").toUpperCase(),d=e.extend({},t.data),s=t.ns&&t.cmd,l=t.format&&"json"===t.format.toLowerCase();this.isWebapp=s,this.useCombo=t.useCombo,p["default"].UIN&&!d.uin&&(d.uin=p["default"].UIN),t.noencode&&console.warn("Deprecated: \u8BF7\u4F7F\u7528 format: \"json\" \u4EE3\u66FF noencode \u53C2\u6570.");var c="json";if((t.dataType&&"jsonp"===t.dataType||e.browser.ie&&9>parseFloat(e.browser.version))&&(c="jsonp"),s){for(var u in d)d["t_"+u]=d[u],delete d[u];var f=Object(q.getParameter)("mock");f&&-1!==f.indexOf(t.cmd)&&(d.useMock=!0),e.extend(d,i({ns:t.ns,cmd:t.cmd,ns_inbuf:t.ns_inbuf||"",nocache:Date.now()},t.trans)),t.mapExt&&(d.mapExt=t.noencode||l?t.mapExt:btoa(encodeURIComponent(JSON.stringify(t.mapExt)))),t.l5modid&&(d.l5modid=t.l5modid),t.l5cmd&&(d.l5cmd=t.l5cmd),t.dcapiFromId&&(d.dcapiFromId=t.dcapiFromId),t.dcapiToId&&(d.dcapiToId=t.dcapiToId),t.dcapiInterfaceId&&(d.dcapiInterfaceId=t.dcapiInterfaceId),t.config&&"object"==typeof t.config&&(d.config=JSON.stringify(t.config)),t.forceEnv&&(d.forceEnv=t.forceEnv)}else e.extend(d,{outCharset:"utf-8",from:1,nocache:Date.now(),format:c}),e.platform.wechat&&"1"===Object(g.getCookie)("opentype")&&(d.uIsFromWX=d.uIsFromWX||0===d.uIsFromWX?d.uIsFromWX:1);if(!this.useBridge){var k=(location.host.match(/^(?:.+\.)?([0-9a-z\-\.]+\.qq\.com)$/)||[])[1]===(a.match(/^https?:\/\/(?:.+\.)?([0-9a-z\-\.]+\.qq\.com)\//)||[])[1]?Object(m["default"])():Object(m["default"])("skey"),v=Object(m["default"])("openkey");"POST"===r&&(a="".concat(a,"&g_tk=").concat(k,"&g_tk_openkey=").concat(v).replace(/\?|&/,"?")),s||(d.g_tk=k),d.g_tk_openkey=v}!window.__ISTEST__||s||t.useOriginUrl||/^(https?:)?\/\/node.kg.qq.com\//i.test(a)||(a="".concat(window.location.protocol,"//").concat(e.platform.wesingPage?"wesingapp.com":"node.kg.qq.com","/proxy/").concat(a.replace(/https?\:\/\//,"")),t.l5api&&(d.l5modid=t.l5api.modid,d.l5cmd=t.l5api.cmd));var P={type:r,url:a,data:d,dataType:c,timeout:t.timeout||6e4,charset:t.charset||"utf-8",beforeSend:t.beforeSend,complete:t.complete,processData:t.processData};this.useBridge||(this.isCrossSite&&e.extend(P,{xhrFields:e.extend({withCredentials:t.xhrFields&&t.xhrFields.withCredentials},t.xhrFields)}),"jsonp"==c&&e.extend(P,{jsonp:t.jsonp||"jsonpCallback",jsonpCallback:t.jsonpCallback||"callback"+x++}));var E=9;return P.beforeSend=function(e){var o;e.onreadystatechange&&(o=e.onreadystatechange),e.onreadystatechange=function(){4!==e.readyState&&(E=e.readyState),o&&o.apply(e,[].slice.call(arguments))}},P.success=function(t,a,i){var r={code:parseInt(n(t.code)?t.code:n(t.retcode)?t.retcode:h.SUCCESS_CODE._default,10),subcode:parseInt(n(t.subcode)?t.subcode:h.SUCCESS_CODE._default,10),data:"undefined"==typeof t.data?t:t.data,message:t.message||t.msg||""};Object(y.checkNeedRefreshWebKey)(r.code||r.subcode)&&!Object(b.isTouristLogin)()?(console.log(e.platform.qmkege||e.platform.wesing,!Object(b.isTouristLogin)(),5.1<=parseFloat(e.platform.version),Object(g.getCookie)("openkey"),Object(g.getCookie)("uid"),i.responseURL,r.code,r.subcode),o.retry=o.retry||0,o.retry++>=h.RETRY_TIMES?o.error(e.extend(r,{report_type:h.REPORT_TYPE.logic,responseURL:i.responseURL,responseText:i.responseText})):Object(_["default"])().done(function(){o.initParams(),o.send()})):r.code===h.SUCCESS_CODE._default?o.success(r):(r.report_type=h.REPORT_TYPE.logic,r.responseURL=i.responseURL,r.responseText=i.responseText,Object(C.codeAutoLogin)({code:r.code}),o.error(r))},P.error=function(e,t,a){var i={code:-1===[0,200].indexOf(e.status)?e.status:t&&h.ERROR_CODE[t]?h.ERROR_CODE[t]:h.ERROR_CODE.unknown,final_state:E,message:a||t||e.status||"",report_type:h.REPORT_TYPE.ajax,data:{},errorType:t,error:a,responseURL:e.responseURL,responseText:e.responseText};if("json"==c&&e.responseText){var r=e.responseText.match(w);if(r&&r[1]){var n="return (function(){\n          var data = null;\n          var ".concat(r[1]," = function(_data){ data = _data; };\n          ").concat(e.responseText,";\n          return data;\n        })();");try{return i=new Function(n)(),P.success(i,e.status||0,e)}catch(o){i.code=h.ERROR_CODE.parsererror,i.error=o.message,i.message="parsererror"}}}i.code=i.code+""+(o.useBridge?"":E),o.error(i)},(t.noencode||l)&&(P.contentType="text/plain",P.data.noencode=!0,P.data=JSON.stringify(P.data),P.type="POST"),this.params=P,P},s.prototype.success=function(e){if(Object(u.haboReport)({commandid:d(this.opt.cmd||this.opt.url,this.useBridge?"bridge-":""),detail:h.REPORT_TYPE.success,resultcode:e.code,subcode:e.subcode||0,tmcost:+new Date-this.opt.ajaxStart}),this.expArr){for(var o=0;o<e.data.length;o++){var t=this.expArr[o],a=e.data[o];t.dtd.resolve(a),t.opt.success&&t.opt.success(a)}return}this.dtd.resolve(e),this.opt.success&&this.opt.success(e)},s.prototype.error=function(o){if(Object(u.haboReport)({commandid:d(this.opt.cmd||this.opt.url,this.useBridge?"bridge-":""),detail:o.report_type,resultcode:o.code,subcode:o.subcode||0,tmcost:+new Date-this.opt.ajaxStart}),o.report_type===h.REPORT_TYPE.ajax&&"abort"!==o.errorType&&e.ajax({url:"//node.kg.qq.com/log",type:"POST",data:{type:"error",file:this.useBridge?"fetchBridge":"normalAjax",message:o.message||"unknown",log:JSON.stringify(o)}}),this.expArr){for(var t=0;t<o.data.length;t++){var a=this.expArr[t],i=o.data[t];a.dtd.reject(i),a.opt.error&&a.opt.error(i)}return}this.dtd.reject(o),this.opt.error&&this.opt.error(o)};var a,P=[],E=[];s.prototype.send=function(){var o=this;if(this.retry=this.retry||0,(e.platform.qmkege||e.platform.wesing)&&!Object(b.isTouristLogin)()&&5.1<=parseFloat(e.platform.version)&&!Object(g.getCookie)("openkey")&&Object(g.getCookie)("uid")&&"0"!==Object(g.getCookie)("uid")&&this.retry++<=h.RETRY_TIMES)return console.log(e.platform.qmkege||e.platform.wesing,!Object(b.isTouristLogin)(),5.1<=parseFloat(e.platform.version),Object(g.getCookie)("openkey"),Object(g.getCookie)("uid")),Object(_["default"])().done(function(){o.send()}),Object(u.hotClick)("kg.h5ajax.noopenkey"),this.dtd;if(this.useBridge)this.params.beforeSend.call(this,{}),c["default"].ready(function(){c["default"].bridge.fetch({method:o.params.type,url:o.params.url,body:o.params.data,headers:o.opt.headers,timeout:o.params.timeout}).then(function(e){var t=e.res,a=e.status,i=e.xhr;o.params.success.call(o,t,a,i),o.params.complete&&o.params.complete.call(o,i,a)},function(e){var t=e.xhr,a=e.type,i=e.error;o.params.error.call(o,t,a,i),o.params.complete&&o.params.complete.call(o,t,status)})["catch"](function(e){return o.params.error.call(o,{},e.type,e.message)})});else if(this.useCombo){var t=this.params.data;P.push(t),E.push(this),a&&clearTimeout(a),a=setTimeout(function(){o.expArr=E,o.params.data={nocache:t.nocache,ns_inbuf:t.ns_inbuf,t_uin:t.t_uin,g_tk_openkey:t.g_tk_openkey,combo:Object(k.compressToEncodedURIComponent)(JSON.stringify(P))},Object(q.getParameter)("debug")&&(o.params.data._combo=JSON.stringify(P)),P=[],E=[],o.params.type="POST",o.opt.cmd="webapp-combo",e.ajax(o.params)},100)}else e.ajax(this.params);return this.dtd}}.call(this,t("et+W"))}});
//# sourceMappingURL=../../../sourcemap/common/common.map