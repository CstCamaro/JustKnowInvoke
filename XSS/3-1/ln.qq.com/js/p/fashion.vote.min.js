/**
 * 
 * @authors WFE_jackiejiang (jackiejiang@tencent.com)
 * @modify TXdaliao_deanhuang (deanhuang@txdaliao.com) 
 * @date    2015-03-2 14:48:54
 */

$(function(){function addStyle(configCss){if((/msie (\d+)/i.test(navigator.userAgent)&&!window.opera)?parseInt(RegExp.jQuery1):0){var t=document.createStyleSheet();t.cssText=configCss}else{var r=document.createElement("style");r.setAttribute("type","text/css");document.getElementsByTagName('head')[0].appendChild(r);if(r.styleSheet){r.styleSheet.cssText=configCss}else{r.appendChild(document.createTextNode(configCss))}}}if($('#ui-voteBox').length>0&&ztConfig.votePrjId!=0){var voteCss;if(ztConfig.voteType){voteCss='#ui-voteBox {width:680px;  margin:0 auto;margin-bottom:35px; }'+'#ui-voteBox .hdCon {height: 65px;line-height: 54px;padding-top: 6px;text-align: center;font-family: \"\\5FAE\\8F6F\\96C5\\9ED1\";}'+'#ui-voteBox .hdCon *{ font-size: 18px;color: #333333;}'+'#ui-voteBoxui-voteBox .bd{ padding-left:22px;}'+'#ui-voteBox .voteList div.digg{line-height:200px; text-align:center; color:#666; width: 165px;height: 56px;text-indent: -999em;float:left; background:url(//mat1.gtimg.com/ent/guiquan/gqnew/bg_tp.png) 0 0 no-repeat;overflow: hidden;}'+'#ui-voteBox .voteList div.count{text-align: center;color: #dd3326;font-weight: bold;height: 40px;line-height: 40px;font-size: 14px; display:block;}'+'#ui-voteBox .voteList ul{width:100%;overflow:hidden}'+'#ui-voteBox .voteList li{float: left;width: 165px;margin:0 15px 0 20px; display:inline;cursor:pointer;}'+'#ui-voteBox .voteList li.vote_1 div.digg{background-position: -203px 0}'+'#ui-voteBox .voteList li.vote_2 div.digg{background: url(//mat1.gtimg.com/ent/guiquan/gqnew/bg_tp.png) -405px 0 no-repeat;}'+'#ui-voteBox .voteList li.vote_0 div.digg:hover{background-position: 0 -56px;}'+'#ui-voteBox .voteList li.vote_1 div.digg:hover{background-position: -203px -56px;}'+'#ui-voteBox .voteList li.vote_2 div.digg:hover{background-position: -405px -56px;}'}else{var optionColor1=ztConfig.optionColor1||'#e2a55c';var optionColor2=ztConfig.optionColor2||'#8baad0';voteCss='.ztpj{height:120px;}.voteBox{position: relative;z-index: 10;zoom: 1;}'+'.voteBox h3.voteTit{font-family:\"\\5FAE\\8F6F\\96C5\\9ED1\";font-weight:100;height:30px;line-height:30px;text-align:center;}'+'.voteBox .voteList{overflow: hidden;zoom:1;text-align: center;}'+'.voteBox .voteList li{position:relative;margin: 0;overflow: visible;display:block;*zoom:1;*display:block;width: 49px;height: 49px;padding:0 3px;overflow: visible;}'+'.voteBox .voteList li.yes{float: left;/*background: '+ztConfig.optionColor1+';*/}'+'.voteBox .voteList li.no{float: right;/*background: '+optionColor2+';*/}'+'.voteBox .voteList li .count{position: absolute;color: #939393;font-size: 12px;font-family:arial;text-align:center;display:block;border-bottom: 1px dotted #fff;top:36px;}'+'.voteBox .voteList li .digg a,.voteBox .voteList li .digg{display:block;width:49px;height:49px;color: #fff;text-decoration: none;border:none;text-align:center;background: url(//mat1.gtimg.com/ln/images/c/2015ss/ico.png) no-repeat;text-indent: -9999px;;line-height:26px;color:#fff;font-family:\"\\5FAE\\8F6F\\96C5\\9ED1\";font-size:14px;cursor:pointer;}'+'.voteBox .voteList li .digg a{background: none;}'+'.voteBox .voteDraw{zoom:1; line-height:15px; font-size:14px; color:#606060; width:190px;height:16px;margin:0;position: absolute;z-index: 1;top: 100px;left: 60px;font-family:\"\\5FAE\\8F6F\\96C5\\9ED1\";}'+'.voteBox .voteDraw span{position: absolute;z-index: 1;line-height:18px;font-size:12px;}'+'.voteBox .voteDraw .voteNum_l{left: 0;top: -18px;}'+'.voteBox .voteDraw .voteNum_r{right: 0;top: -18px;}'+'.voteBox .voteDraw .voteLine{width:100%; background:'+optionColor2+'; height:16px; float:left;display:inline;margin-right:15px;}'+'.voteBox .voteDraw .voteLine div{height:16px; background:'+optionColor1+';}'+'.voteBox .voteList li.yes .digg{background-position: 0 -23px}'+'.voteBox .voteList li.yes .count{left: 60px;}'+'.voteBox .voteList li.no .count{right: 60px;text-align: right}'+'.voteBox .voteList li.no .digg{background-position: -49px -23px}'}addStyle(voteCss);var voteHtml='<div class="hdCon"><h3 class="voteTit" id="ui-voteTit"></h3><p id="ui-votesubTit"></p></div>'+'<ul class="voteList" id="ui-voteList"></ul>'+'<div class="voteDraw" id="ui-voteDraw">'+'<span class="voteNum_l"></span>'+'<div class="voteLine">'+'<div></div>'+'</div>'+'<span class="voteNum_r"></span>'+'</div>';$('#ui-voteBox').addClass('voteBox').html(voteHtml);$.getScript('//mat1.gtimg.com/www/panshi/js/digg2.js',function(){$.getJSON('http://panshi.qq.com/vote/'+ztConfig.votePrjId+'?source=1&callback=?',function(data){var data=data.data;var optionidArr=[];var subjectid;var title;var optId={};$.each(data.vote,function(i,n){$("#ui-voteTit").text(n.title);$("#ui-votesubTit").text(n.subtitle);});$.each(data.option,function(i,n){$.each(n,function(ii,nn){var className=ii%2==0?'yes':'no';if(ztConfig.voteType){$("#ui-voteList").append('<li class="vote_'+ii+'"><div class="count" id="apps_svy_opt_count_'+nn.voteid+'_'+ii+'">'+nn.score+'</div><div class="digg" onclick="AppPlatform.Survey.Digg.digg(this, '+nn.voteid+', '+nn.subjectid+', '+nn.optionid+');" id="apps_svy_opt_title_'+nn.voteid+'_'+ii+'" donetext="'+nn.title+'">'+nn.title+'</div></li>')}else{$("#ui-voteList").append('<li class="'+className+'"><div class="count" id="apps_svy_opt_count_'+nn.voteid+'_'+ii+'">'+nn.score+'</div><div class="digg" id="apps_svy_opt_title_'+nn.voteid+'_'+ii+'" donetext="'+nn.title+'">'+nn.title+'</div></li>')}optionidArr.push(nn.optionid);subjectid=nn.subjectid})});for(var i=0;i<optionidArr.length;i++){$(".voteNum_l").html(data.option[subjectid][0].title);$(".voteNum_r").html(data.option[subjectid][1].title);$('.voteLine div').css('width',Math.round(data.result[subjectid][optionidArr[0]].percent)+'%');optId[optionidArr[i]]=i}if(ztConfig.voteType){$('#ui-voteDraw').remove()}AppPlatform.Survey.Digg.init({PrjId:ztConfig.votePrjId,SubjId:subjectid,DiggMode:ztConfig.DiggMode,ShowResult:1,OptIdObject:optId})});})}if(ztConfig.votePrjId==0){$('.xwlc').hide()}}) 

/*  |xGv00|a1ee58a905199cbdc4e3685d70841fa3 */