!function(){define("commonUtil",[],function(){function t(t){if(t){if(/^\d{2}:\d{2}$/.test(t))return t;var e="02:00";if(t.length<5){var a=Math.floor(parseInt(t)/60);a<10&&(a="0"+a);var i=parseInt(t)%60;return i<10&&(i="0"+i),e=a+":"+i}var n=t.split(":");return e=n[1]+":"+n[2]}return"02:00"}function e(t){if(t){if(t>1e4){var e=parseInt(t/1e4)+"\u4e07";return e}return t}return"10\u4e07"}return{durationFormat:t,viewTimesformat:e}}),!function(){function t(t,e){return(/string|function/.test(typeof e)?d:o)(t,e)}function e(t,a){return"string"!=typeof t&&(a=typeof t,"number"===a?t+="":t="function"===a?e(t.call(t)):""),t}function a(t){return f[t]}function i(t){return e(t).replace(/&(?![\w#]+;)|[<>"']/g,a)}function n(t,e){if(p(t))for(var a=0,i=t.length;a<i;a++)e.call(t,t[a],a,t);else for(a in t)e.call(t,t[a],a)}function s(t,e){var a=/(\/)[^\/]+\1\.\.\1/,i=("./"+t).replace(/[^\/]+$/,""),n=i+e;for(n=n.replace(/\/\.\//g,"/");n.match(a);)n=n.replace(a,"/");return n}function o(e,a){var i=t.get(e)||l({filename:e,name:"Render Error",message:"Template not found"});return a?i(a):i}function d(t,e){if("string"==typeof e){var a=e;e=function(){return new c(a)}}var i=r[t]=function(a){try{return new e(a,t)+""}catch(i){return l(i)()}};return i.prototype=e.prototype=m,i.toString=function(){return e+""},i}function l(t){var e="{Template Error}",a=t.stack||"";if(a)a=a.split("\n").slice(0,2).join("\n");else for(var i in t)a+="<"+i+">\n"+t[i]+"\n\n";return function(){return"object"==typeof console&&console.error(e+"\n\n"+a),e}}var r=t.cache={},c=this.String,f={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},p=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},m=t.utils={$helpers:{},$include:function(t,e,a){return t=s(a,t),o(t,e)},$string:e,$escape:i,$each:n},u=t.helpers=m.$helpers;t.get=function(t){return r[t.replace(/^\.\//,"")]},t.helper=function(t,e){u[t]=e},"function"==typeof define?define("templateModule",[],function(){return t}):"undefined"!=typeof exports?module.exports=t:this.template=t,t("navList",function(t,e){"use strict";var a=this,i=(a.$helpers,a.$each),n=t.lists,s=(t.list,t.$index,a.$escape),o="";return i(n,function(t,e){o+=' <li class="item"> <a target="_blank" href="',o+=s(t.link),o+='">',o+=s(t.text),o+="</a> </li> "}),new c(o)}),t("specialList",function(t,e){"use strict";var a=this,i=(a.$helpers,a.$each),n=t.specials,s=(t.val,t.idx,a.$escape),o=(t.video,t.$index,"");return i(n,function(t,e){o+=" ",e<=30&&(o+=' <li class="special"> <div class="ct-title"> <span class="yearmonth">',o+=s(t.fields.create_time.substring(0,8)),o+='</span> <span class="day">',o+=s(t.fields.create_time.substring(8,10)),o+='</span> <span class="zhuanji-title"> ',o+=s(t.fields.title),o+='</span> <a class="more" data-boss="VZD_video_more" target="_blank" href="',o+=s(t.fields.url),o+='"> <span>',o+=s(t.detail.total),o+='</span>\u4e2a\u89c6\u9891 | \u67e5\u770b\u5168\u90e8 <i class="icon"></i> </a> </div> <ul data-cid="',o+=s(t.id),o+='" class="video-list" data-boss="VZD_video_list"> ',i(t.detail.results[0].fields.videos,function(t,a){o+=' <li class="video" data-vid="',o+=s(t.c_vid),o+='" data-idx-special="',o+=s(e),o+='" data-idx-video="',o+=s(a),o+='" data-vip="',o+=s(t.drm),o+='"> <a href="javascript:;" data-boss="VZD_bfq_list"> <img class="pic" src="',o+=s(t.c_pic_160_90),o+='"/> <p class="mengban"> <span class="mengban-time">',o+=s(t.c_tl),o+='</span> <span class="mengban-view"><i class="icon"></i>',o+=s(t.allnumc),o+="</span> </p> <p>",o+=s(t.c_title),o+="</p> ",0!=t.drm&&(o+=' <span class="mark-vip">\u4f1a\u5458</span> '),o+=" </a> </li> "}),o+=" </ul> </li> "),o+=" "}),o+=" ",new c(o)}),t("timeList",function(t,e){"use strict";var a=this,i=(a.$helpers,a.$escape),n=t.curYear,s=a.$each,o=t.years,d=(t.year,t.$index,t.months),l=(t.month,t.curMonth),r="";return r+='<a class="btn-year" id="latest" href="javascript:;" data-boss="VZD_time_new">\u6700\u65b0</a> <a id="select-year" class="btn-year on" href="javascript:;" data-year="',r+=i(n),r+='"> ',r+=i(n),r+='<i class="icon"></i> </a> <ul class="year-list"> ',s(o,function(t,e){r+=' <li class="year"> <a class="btn-year" data-year="',r+=i(t),r+='" href="javascript:;" data-boss="VZD_time_year">',r+=i(t),r+='<i class="icon"></i></a> </li> '}),r+=' </ul> <ul class="month-list"> ',s(d,function(t,e){r+=' <li class="month ',t==l&&(r+="on"),r+='" data-month="',r+=i(t),r+='" data-boss="VZD_time_month">',r+=i(t),r+="\u6708</li> "}),r+=" </ul> ",new c(r)}),t("videoList",function(t,e){"use strict";var a=this,i=(a.$helpers,a.$each),n=t.videos,s=(t.video,t.$index,a.$escape),o="";return i(n,function(t,e){o+=' <li class="video" data-vid="',o+=s(t.c_vid),o+='" data-idx-video="',o+=s(e),o+='" data-vip="',o+=s(t.drm),o+='" data-boss="VZD_bfq_list"> <a href="javascript:;" data-boss="VZD_bfq_list"> <img class="pic" src="',o+=s(t.c_pic_160_90),o+='"/> <p class="mengban"> <span class="mengban-time">',o+=s(t.c_tl),o+='</span> <span class="mengban-view"><i class="icon"></i>',o+=s(t.allnumc),o+="</span> </p> <p>",o+=s(t.c_title),o+="</p> ",0!=t.drm&&(o+=' <span class="mark-vip">\u4f1a\u5458</span> '),o+=" </a> </li> "}),o+=" ",new c(o)})}(),define("configData",["templateModule"],function(template){function init(handle){function isEmptyObject(t){for(var e in t)return!1;return!0}function Httpdel(t){var e=location.protocol;return"https:"==e?""==t?"":"https:"==t?t:t.replace("http:",""):t}$.ajax({url:"./configData.htm",dataType:"html",success:function(res){var data=JSON.parse(eval(res.split("<!")[0]));if($("#ct-top").css("backgroundImage","url("+data.bgImg+")"),$("#logo").attr("src",data.logoImg),!isEmptyObject(data.nav)){var totalNav=data.nav.total_nav,secondaryNav=data.nav.secondary_nav,navlist=data.nav.navlist;totalNav&&($(".nav_simplify .link-nba").text(totalNav.text),$(".nav_simplify .link-nba").attr("href",totalNav.link)),secondaryNav&&($(".nav_simplify .link-nba-video").text(secondaryNav.text),$(".nav_simplify .link-nba-video").attr("href",secondaryNav.link)),navlist.length>0&&($lists=$(".nav_simplify .navigate_list"),$lists.html(template("navList",{lists:navlist})))}if(isEmptyObject(data.ad_top)||($("#ad-top").css("top",data.ad_top.top),$("#ad-top").css("marginLeft",data.ad_top.left),$("#ad-top").css("width",data.ad_top.width),$("#ad-top").css("height",data.ad_top.height),data.ad_top.link&&$("#ad-top").attr("href",data.ad_top.link),void 0==data.ad_top.img||""==data.ad_top.img?$("#ad-top .adTop_img").hide():($("#ad-top img").attr("src",data.ad_top.img),$("#ad-top .adTop_img").show())),data.ads&&data.ads.length>0){for(var ads=[],i=0;i<data.ads.length;i++){var ad=data.ads[i];$ad=$('<a class="top-ad-pos" data-boss="video_beij_small"></a>'),$ad.css("top",ad.top),$ad.css("bottom",ad.bottom),$ad.css("marginLeft",ad.left),$ad.css("width",ad.width),$ad.css("height",ad.height),$ad.attr("href",ad.link),ads.push($ad)}$("#ct-top").append(ads)}if(!isEmptyObject(data.ad_bottom)){if($embed=$("<embed>"),data.ad_bottom.link&&$(".ad-bottom").attr("href",data.ad_bottom.link),data.ad_bottom.img){var bottomimg=Httpdel(data.ad_bottom.img);$embed.attr("src",bottomimg)}if(data.ad_bottom.flash){var bottomflash=Httpdel(data.ad_bottom.flash);$('<embed src="'+bottomflash+'" pluginspage="//redbullbasketball2016.act.qq.com/index.html" quality="high" width="100%" height="90"  type="application/x-shockwave-flash" wmode="transparent"></embed>').appendTo(".ad-bottom")}else $(".ad-bottom").append($embed)}if(!isEmptyObject(data.ad_bottom2)){if($embed=$("<embed>"),data.ad_bottom2.link&&$(".ad-bottom2").attr("href",data.ad_bottom2.link),data.ad_bottom2.img){var bottomimg=Httpdel(data.ad_bottom2.img);$embed.attr("src",bottomimg)}if(data.ad_bottom2.flash){var bottomflash=Httpdel(data.ad_bottom2.flash);$('<embed src="'+bottomflash+'" pluginspage="//redbullbasketball2016.act.qq.com/index.html" quality="high" width="100%" height="90"  type="application/x-shockwave-flash" wmode="transparent"></embed>').appendTo(".ad-bottom2")}else $(".ad-bottom2").append($embed)}handle(data.c_column_id)}})}return{init:init}}),define("dataCtrl",["promise","commonUtil","configData"],function(t,e,a){var i=function(t,e,a,i){$.ajax({type:"get",async:!0,url:t,dataType:"jsonp",success:function(t){e(t)},error:function(t,e,i){a()}})},n=function(a,n){var s="//data.video.qq.com/fcgi-bin/data?tid=352&appid=10001009&appkey=c5a3e1529a7ba805&otype=json&idlist="+n.id,o="//data.video.qq.com/fcgi-bin/data?tid=793&appid=20001319&appkey=6f92f353c681e5b3&otype=json&idlist="+n.fields.video_ids.toString();return new t(function(t,d){i(s,function(s){s.total=s.results[0].fields.videos.length,0==a?s.results[0].fields.videos=s.results[0].fields.videos.slice(0,15):s.results[0].fields.videos=s.results[0].fields.videos.slice(0,10),$.each(s.results[0].fields.videos,function(t,a){a.c_tl=e.durationFormat(a.c_tl),a.allnumc=e.viewTimesformat(a.allnumc)}),n.detail=s,i(o,function(e){var a={};$.each(e.results,function(t,e){a[e.id]=e.fields.drm}),$.each(n.detail.results[0].fields.videos,function(t,e){e.drm=a[e.c_vid]}),t(n)})},function(t){console.log(t)})})},s=function(e,a){var s=e,o="//list.video.qq.com/fcgi-bin/list_common_cgi?otype=json&platform=1&version=10000&intfname=web_sports_common_cid_list&tid=568&uappid=20001400&uappkey=d2ca5a605eb74caf&type=4&&sourcetype=1&c_column_id="+s+"&pagesize=10&offset=0&sort=3&novalue=1";i(o,function(e){var i=[];e.total?($.each(e.jsonvalue.results,function(t,e){e.fields.video_ids=e.fields.video_ids.slice(0,30),i.push(n(t,e))}),t.all(i).then(function(t){a(t)})):a(null)},function(t){console.log(t)})},o=function(t,e){var a="//sns.video.qq.com/fcgi-bin/video_comment_id?vid="+t+"&op=1&otype=json";i(a,function(t){e(t)},function(t){})};return{getVideoList:s,getCommentIdByVid:o}}),define("comment",["comment","login"],function(t,e){try{document.domain="qq.com"}catch(a){}window.registerCoralEvent={source:1,site:"video",commentNums:10,expression:!1,listHiden:!1,reportBtn:!0,commentLink:!1,userPop:!0,hotReply:!0,userCenter:!0,sort:!1,poke:!1,removeTitle:!1,loginEvent:function(){e.login()},publicLogined:function(t){document.getElementById("commentIframe").contentWindow.publicLogined(t)},publicLogout:function(){document.getElementById("commentIframe").contentWindow.publicLogout()}},$("#commentIframe").load(function(t){e.getUserInfo(function(t){t.logintype=t.mainLogin,t.head=t.avatar,registerCoralEvent.publicLogined(t)})});var i=function(t){window.cmt_id=t,$("#commentIframe").attr("src",$("#commentIframe").attr("src"))};return{refresh:i}}),define("specialPlayer",["player","templateModule","dataCtrl","comment"],function(t,e,a,i){var n,s,o,d=$("#ls-video"),l=$("#ls-special"),r=[],c=0,f=function(t){n=t,d.html(e("videoList",t.results[0].fields)),d.find(".video").eq(0).addClass("select"),o=d.find(".video").length},p=function(n,f,p,m){c=n,r=p.slice(0,30);var u=(r.length,0),v=l.find("ul .video.hover").attr("data-vid"),h=function(){d.on("click",".video",function(t){c=$(this).index(),v=$(this).attr("data-vid"),d.find(".video").removeClass("select").eq(c).addClass("select"),g(c,v)})},g=function(e,n){if(n){if(s)s.play(n);else{var r=t.createPlayer({containerId:"ct-player",vid:n,width:"100%",height:"100%",muted:!0,autoplay:!0});r.on("playStateChange",function(t){0==t.state&&(s=r,e=d.find(".video.select").index(),n=d.find(".video.select").attr("data-vid"),m=l.find(".special.current").index(),o=d.find(".video").length,b(e,m,o,s))})}d.find(".video").removeClass("select").eq(e).addClass("select"),a.getCommentIdByVid(n,function(t){i.refresh(t.comment_id)})}},b=function(t,e,a){if(t==a-1){if(_(r[++e]),e==r.length-1){var i=r[u].detail.results[0].fields.videos.length;if(t==i-1)return void s.pause()}}else d.find(".video").hasClass("select")&&(v=d.find(".video.select").next().attr("data-vid"),g(++c,v))},_=function(t){d.html(""),d.html(e("videoList",t.detail.results[0].fields)),d.find(".video").eq(0).addClass("select"),l.find(".special.current").removeClass("current").next().addClass("current"),l.find("ul .video").removeClass("hover"),l.find(".special.current").find("ul .video").eq(0).addClass("hover"),v=l.find("ul .video.hover").attr("data-vid"),c=0,g(c,v)};h(),g(c,v)};return{refresh:f,play:p}}),define("specialList",["templateModule","specialPlayer"],function(t,e){function a(t,a,n){a&&(e.refresh(i[a].detail),e.play(t,i[a].detail,i,n))}var i,n,s,o=$("#ls-special"),d=$("#tip-noresult"),l=($("#ls-video"),function(e,a,l,r){if(i=e,e){if(d.hide(),o.html(t("specialList",{specials:e})),n=-1,s=-1,a)if(l)if(r){var c=o.find('ul[data-cid="'+l+'"]').find('li[data-vid="'+r+'"]');0==c.length?o.find(".video").first().trigger("click"):c.trigger("click")}else o.find('ul[data-cid="'+l+'"]').find(".video").first().trigger("click");else o.find(".video").first().trigger("click")}else o.empty(),d.show()});return o.on("click",".video",function(){var t=$(this).attr("data-idx-special");$(this).addClass("hover").siblings().removeClass("hover"),o.find(".special").removeClass("current"),$(this).parents(".special").addClass("current");var e=$(this).index(),i=$(this).parents(".special").index();a(e,t,i)}),{refresh:l}}),require(["login","dataCtrl","specialList","configData"],function(t,e,a,i){function n(t){var e=location.href;t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var a="[\\?&]"+t+"=([^&#]*)",i=new RegExp(a),n=i.exec(e);return null==n?null:n[1]}t.init({root:"ct-login",onLogin:function(t){console.log(t)},onLogout:function(){}});var s=!0,o=n("vid"),d=n("cid");i.init(function(t){e.getVideoList(t,function(t){a.refresh(t,s,d,o),s=!1})});var l=new Date;$("#txt-day").html(l.getDate()>9?l.getDate():"0"+l.getDate()),$("#txt-year").html(l.getFullYear()),$("#txt-month").html(l.getMonth()+1>9?l.getMonth()+1:"0"+(l.getMonth()+1))}),define("main",function(){}),require.config({baseUrl:"./scripts/",paths:{promise:"//mat1.gtimg.com/statsnba/libs/bluebird.min",login:"//mat1.gtimg.com/pingjs/ext2020/sports/libs/dist/login",player:"//mat1.gtimg.com/pingjs/ext2020/sports/libs/dist/player",commonUtil:"./common/commonUtil"},shim:{}}),require(["main"]),define("config",function(){})}();
//# sourceMappingURL=index-11294f12fb.js.map
/*  |xGv00|734959614584d00d193b2bc45379627f */