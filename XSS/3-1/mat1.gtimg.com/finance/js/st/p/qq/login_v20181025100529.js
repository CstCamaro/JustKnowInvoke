__.BasicModule.register("widget.login","2.0.0",["dom","cookie","widget"],function(){__.exportPath("__.widget.login");var w=false,C={qlogin_auto_login:1,low_login:1,appid:5000801,s_url:"//finance.qq.com/products/portfolio/proxy.htm",f_url:"loginerroralert",target:"self"},j=["?=1&=1&=&=",encodeURIComponent(""),"&=&="].join(""),B,z,A,y,e=true,v;j=function(g){var a=["//ui.ptlogin2.qq.com/cgi-bin/login?"],f;for(f in g){a.push("&",encodeURIComponent(f),"=",encodeURIComponent(g[f]))}return"//finance.qq.com/products/portfolio/qqconnect_login.htm"};var d=function(){w=false;if(B){B.style.display="none"}if(A){A.style.display="none"}if(y){clearTimeout(y);y=0}},u=function(i,a){if(A&&B){var h=document.documentElement.scrollWidth,g=document.documentElement.clientHeight,f=document.documentElement.scrollHeight;if(A){A.style.height=(f>g?f:g)+"px";A.style.left="0px"}B.style.top=(document.body.scrollTop||document.documentElement.scrollTop||0)+(g-B.clientHeight)/2+"px";B.style.left=(h-B.clientWidth)/2+"px";if(i&&a){if(i<300){i=371;a=276}B.style.width=i+"px";B.style.height=a+"px";B.style.visibility="hidden";B.style.visibility="visible"}}if(!y&&e){y=setInterval(u,50)}},c=window.ptlogin2_onResize,b=window.ptlogin2_onClose,D=true;window.ptlogin2_onResize=function(i,a){c&&c(i,a);u(i,a);if(D){D=false;try{var h=z.contentDocument||z.Document;if(_cfg.low_login_enable==2){var g=h.getElementById("low_login_enable");if(g){g.checked=true}}if(_cfg.low_login_enable&&_cfg.low_login_hour){if(g=_D.f('select[name="low_login_hour"]',h)){g.value=_cfg.low_login_hour}}}catch(f){}}};window.ptlogin2_onClose=function(){b&&b();d();x&&x()};var x;window.ptlogin2_onSuccess=function(){d();var a=(__.cookie.get("uin")||__.cookie.get("luin")||"").replace(/^o0*/,"");x&&x(a)};__.widget.login={open:function(i,a){a&&a.autoCenter===false&&(e=false);v=a&&a.minWidth;x=i;var h=a||{};if(!w){var g=__.extend(h.params||{},C,false);zIndex=h.zIndex||1000;w=true;if(!B){document.domain="qq.com";B=__.dom.addEl({tag:"div",css:"display:none;position:absolute;visibility:visible;width:690px; height:390px;padding:0;margin:0px;z-index:"+(zIndex+1)+";",align:"center"},__.doc.body);z=__.dom.addEl({tag:"iframe",frameBorder:"0",scrolling:"auto",width:"100%",height:"100%"},B);z.frameBorder=0;A=__.dom.addEl({tag:"div",css:"position:absolute;width:100%;height:100%;background:#000;display:none;top:0px;left:0px;right:0px;bottom:0px;z-index:"+zIndex+";filter:alpha(opacity=30);-moz-opacity:0.3;opacity: 0.3;"+(v?"min-width:"+v+"px;":"")},__.doc.body)}try{z.src=j(g);A.style.display="block";B.style.display="block";u()}catch(f){}}}}});
/*  |xGv00|b42d51f38295a7fcce8eb5b8a8f36614 */