(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{"1PCU":function(t,e,i){"use strict";i.r(e);var n=i("6NbS"),s=i("rXOt");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("bJ7t");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"1bf32b36",null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingOddsCheck.vue",e["default"]=c.exports},"1eaY":function(t,e,i){"use strict";i.r(e);var n=i("OBei"),s=i("hZrP");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingInput.vue",e["default"]=c.exports},"1ix6":function(t,e,i){"use strict";i.r(e);var n=i("fRO/"),s=i("9fI7");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("3Ewr");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"bad12bca",null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingResult.vue",e["default"]=c.exports},"3Ewr":function(t,e,i){"use strict";var n=i("xbxw"),s=i.n(n);s.a},"5i8p":function(t,e,i){},"6NbS":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"betting-odds-check"},[i("p",{staticClass:"odds-update-notice"},[t._v("\n        赔率已更新为"),i("span",{staticClass:"strong"},[t._v(t._s(t.newOdds))]),t._v("，是否继续投注？\n    ")]),t._v(" "),i("BettingBtn",{attrs:{currencyCost:t.currencyCost,odds:t.newOdds,disabled:t.disabledSubmit,disabledReason:t.disabledReason},on:{submitBetting:t.submitBetting}})],1)},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},"88li":function(t,e,i){"use strict";i.r(e);var n=i("yBuT"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},"8H4b":function(t,e,i){"use strict";i.r(e);var n=i("akaD"),s=i("88li");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("ocfk");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingBox.vue",e["default"]=c.exports},"9fI7":function(t,e,i){"use strict";i.r(e);var n=i("AXKc"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},AXKc:function(t,e,i){"use strict";var n=i("LYCE");n(e,"__esModule",{value:!0}),e.default=void 0;var s=i("Ffdx"),a={name:"BettingResult",props:{currencyScene:{type:String},result:{type:Object,default:function(){return{msg:""}}},submitBet:{type:Object,default:function(){return{code:0}}}},data:function(){return{}},computed:{isSuccess:function(){return this.currencyScene===s.allScene.SCENE_JOIN_SUCCESS&&0===this.result.code},isKbNotEnough:function(){return this.submitBet.code===s.errorTypes.ERROR_KB_NOT_ENOUGH}}};e.default=a},BKVO:function(t,e,i){},CkY9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"betting-loading"},[i("span",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:".5rem",height:".5rem",fill:t.color}},[i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(0 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(45 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.125s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(90 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.25s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(135 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.375s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(180 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.5s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(225 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.625s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(270 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.75s"}})]),t._v(" "),i("path",{attrs:{opacity:".1",d:"M14 0 H18 V8 H14 z",transform:"rotate(315 16 16)"}},[i("animate",{attrs:{attributeName:"opacity",from:"1",to:".1",dur:"1s",repeatCount:"indefinite",begin:"0.875s"}})])]),t._v(" "),i("span",{staticClass:"text"},[t._v(t._s(t.text))])])])},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},E2wK:function(t,e,i){"use strict";var n=i("G9WS"),s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("LYCE")),r=n(i("HnXd")),c=n(i("qjzJ")),o=n(i("RXMP")),u=n(i("fHi0")),d=n(i("5PDf")),l=n(i("OWCx")),h=n(i("+oHS")),f=n(i("Kwsy")),m=n(i("o+MX")),p=n(i("04Ix")),g=i("L2JU"),v=i("klDx"),b=n(i("2HEe")),_=n(i("N+lH")),C=n(i("ahH6"));function N(t,e){var i=(0,h.default)(t);if(l.default){var n=(0,l.default)(t);e&&(n=(0,d.default)(n).call(n,(function(e){return(0,u.default)(t,e).enumerable}))),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)(0,o.default)(i=N(n,!0)).call(i,(function(e){(0,p.default)(t,e,n[e])}));else if(c.default)(0,r.default)(t,(0,c.default)(n));else{var s;(0,o.default)(s=N(n)).call(s,(function(e){(0,a.default)(t,e,(0,u.default)(n,e))}))}}return t}var E=function(t,e){var i=e.code,n=void 0===i?0:i,s=e.msg,a=void 0===s?"":s,r=e.isFetching,c=void 0!==r&&r;t.code=n,t.msg=a,t.isFetching=c},y=1e4,I=280,B=6e4,O={name:"GuessList",props:{mid:{type:String},theme:{type:String},isHiddenWhenListEmpty:{type:Boolean,default:!1}},data:function(){return{bettingParam:null,position:null,curChoice:{mid:"",gid:"",choiceId:""},guessList:[],updateFreq:10,timer:0,inited:!1,isFetching:!1,code:0,msg:"",myQuizUrl:"http://sports.qq.com/kbsweb/mycenter.htm#myQuiz",isActive:!1,callbackId:0}},computed:S({pollingTime:function(){if(this.isLivePre)return B;var t=1e3*this.updateFreq;return t>y?t:y},isShowThis:function(){return!1===this.isHiddenWhenListEmpty||this.isHiddenWhenListEmpty&&this.isShowGuessList},isShowGuessList:function(){var t=this.inited&&0===this.code&&this.guessList.length>0;return this.$emit("judgeGuessList",!t),t||this.clearGuessOption(),t},isShowLoading:function(){return!1===this.inited&&this.isFetching},isShowEmpty:function(){return this.inited&&0===this.guessList.length},isShowError:function(){return 0!==this.code},isInBettingProcess:function(){return this.curChoice.mid&&this.curChoice.gid&&this.curChoice.choiceId},isLiving:function(){return!!this.matchDetail.matchInfo&&this.matchDetail.matchInfo.livePeriod===v._g.livePeriod.IN},isLiveEnd:function(){return!!this.matchDetail.matchInfo&&this.matchDetail.matchInfo.livePeriod===v._g.livePeriod.END},isLivePre:function(){return!!this.matchDetail.matchInfo&&this.matchDetail.matchInfo.livePeriod===v._g.livePeriod.PRE},isPolling:function(){return this.isLivePre||this.isLiving&&this.isActive}},(0,g.mapState)(["matchDetail","curTab"])),methods:{loadGuessList:function(t){var e,i=this;this.callbackId++>2&&(this.callbackId=0),E(this,{isFetching:!0}),(0,b.default)((0,m.default)(e="".concat(window.GAME_SERVER,"/guess/tcGuessListByMid?mid=")).call(e,t),{timeout:5e3,jsonpCallbackFunction:"tcGuessListByMidCallback".concat(this.callbackId)}).then((function(t){return t.json()})).then((function(t){var e=t.data,n=t.code,s=t.msg;0===n&&e&&(i.updateFreq=e.updateFreq,e.guessList&&(i.guessList=e.guessList),i.inited=!0),E(i,{code:n,msg:s})})).catch((function(t){E(i,{code:-1,msg:"网络错误"})}))},startGuessListPolling:function(){var t=this;this.timer=(0,f.default)((function(){t.isPolling&&t.loadGuessList(t.mid),t.startGuessListPolling()}),this.pollingTime)},stopGuessListPolling:function(){clearTimeout(this.timer),this.timer=0},onSelectGuessOption:function(t){var e=t.bettingParam,i=t.position;this.bettingParam=e,this.position=i,this.curChoice.mid=e.mid,this.curChoice.gid=e.gid,this.curChoice.choiceId=e.choiceId},clearGuessOption:function(){this.bettingParam=null,this.position=null,this.curChoice.mid="",this.curChoice.gid="",this.curChoice.choiceId=""},onBetFinish:function(){this.clearGuessOption(),this.loadGuessList(this.mid)},checkScroll:function(){var t=this.position,e=t.y2,i=t.h2,n=this.$el.parentNode,s=n.scrollTop,a=n.offsetHeight+s-(e+i+I);a<0&&(n.scrollTop=s-a)}},watch:{isInBettingProcess:function(t){var e=this;t?(this.stopGuessListPolling(),this.$nextTick((function(){e.checkScroll()}))):this.startGuessListPolling()},curTab:{handler:function(t){this.isActive="guess"===t,this.stopGuessListPolling(),this.isActive&&(this.loadGuessList(this.mid),this.startGuessListPolling())}}},mounted:function(){this.mid&&this.isLivePre&&(this.loadGuessList(this.mid),this.stopGuessListPolling(),this.startGuessListPolling())},beforeDestroy:function(){this.stopGuessListPolling()},components:{GuessItem:_.default,BettingBox:C.default}};e.default=O},EPdS:function(t,e,i){"use strict";i.r(e);var n=i("CkY9"),s=i("G5Fv");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("S2+H");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"75b1e6a4",null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingLoading.vue",e["default"]=c.exports},Ffdx:function(t,e,i){"use strict";var n=i("LYCE");n(e,"__esModule",{value:!0}),e.errorTypes=e.allScene=void 0;var s="SCENE_JOIN_PRE_LOADING",a="SCENE_JOIN_PRE",r="SCENE_JOIN_PRE_FAILURE",c="SCENE_JOIN_LOADING",o="SCENE_JOIN_SUCCESS",u="SCENE_JOIN_FAILURE",d="SCENE_ODD_UPDATE",l="SCENE_ODD_FAILURE",h={SCENE_JOIN_PRE_LOADING:s,SCENE_JOIN_PRE:a,SCENE_JOIN_PRE_FAILURE:r,SCENE_JOIN_LOADING:c,SCENE_JOIN_SUCCESS:o,SCENE_JOIN_FAILURE:u,SCENE_ODD_UPDATE:d,SCENE_ODD_FAILURE:l};e.allScene=h;var f="ERROR_NETWORK",m=2,p=7,g="ERROR_OTHER",v={ERROR_NETWORK:f,ERROR_NEED_LOGIN:m,ERROR_KB_NOT_ENOUGH:p,ERROR_OTHER:g};e.errorTypes=v},G5Fv:function(t,e,i){"use strict";i.r(e);var n=i("zjD/"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},Hygs:function(t,e,i){"use strict";i.r(e);var n=i("oOAO"),s=i("f1Nc");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("swt2");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"b4c7f6ae",null);c.options.__file="src/kbsweb/game/components/Guess/GuessList/GuessList.vue",e["default"]=c.exports},JAcT:function(t,e,i){"use strict";var n=i("G9WS");i("DQNa"),i("toAj"),i("07d7"),i("rB9j"),i("JfAA"),i("UxlC");var s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("UtpJ")),r=n(i("opOk")),c={name:"BettingInput",props:{bettingBox:{type:Object},bettingParam:{type:Object}},data:function(){return{currencySelect:0,currencyInput:"",isUsingInput:!1,disabledSubmit:!1,disabledReason:"",betRuleJumpData:{type:1,param:{title:"玩法说明",url:"http://sports.qq.com/kbsweb/kbsshare/betrule.htm"}}}},computed:{currencyCost:function(){return this.isUsingInput?+this.currencyInput:+this.currencySelect},winMoney:function(){var t=+this.currencyCost,e=+this.bettingBox.odds,i=Math.floor(t*e);return i>1e6&&(i=(i/1e4).toFixed(0)+"万"),i}},methods:{changeCostOption:function(t,e){this.isUsingInput=!1,this.disabledSubmit=!1,this.currencySelect=+t,this.currencyInput=""},useInput:function(){this.isUsingInput=!0,this.updateUserInput(this.currencyCost)},updateUserInput:function(t){var e;if(this.isUsingInput){var i=+(0,a.default)(e=t.toString().replace(/\D/g,"")).call(e,0,8);Math.floor(i)%100!==0||Math.floor(i)<=0?(this.disabledSubmit=!0,this.disabledReason="请手动输入100的整数倍"):this.bettingBox.limitNum>0&&i>this.bettingBox.limitNum?(this.disabledSubmit=!0,this.disabledReason="单笔最大限额".concat(this.bettingBox.limitNum,"K币")):this.disabledSubmit=!1,0!==i?(i!==t&&(this.$refs["betting-input"].value=i),this.$emit("input",+i),this.currencyInput=+i):this.$refs["betting-input"].value=""}},reset:function(t){this.currencySelect=+this.bettingBox.defaultCurrencyMember,this.currencyInput="",this.isUsingInput=!1,this.disabledSubmit=!1,this.disabledReason=""},submitText:function(){return this.disabled?this.disabledReason:"投注".concat(this.currencyCost,"K币")},submitBetting:function(t){this.$emit("submitBetting",t)}},watch:{bettingBox:function(t,e){this.currencySelect=+t.defaultCurrencyMember}},created:function(){},destroyed:function(){},components:{BettingBtn:r.default}};e.default=c},KLFF:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"elGuessItem",staticClass:"guess-item",class:t.guessClassName},[i("p",{staticClass:"title"},[t._v(t._s(t.data.title))]),t._v(" "),i("p",{staticClass:"participator-count"},[t._v(t._s(t.data.participatorCnt)+"人参与")]),t._v(" "),t.isShowOptImgs?i("div",{staticClass:"imgs"},[i("img",{staticClass:"left",attrs:{src:t.optImgs[0]}}),t._v(" "),i("span",{staticClass:"vs"},[t._v("VS")]),t._v(" "),i("img",{staticClass:"right",attrs:{src:t.optImgs[1]}})]):t._e(),t._v(" "),i("ul",{staticClass:"opt-list"},t._l(t.data.choiceOpts,(function(e,n){return i("li",{key:n,staticClass:"opt",class:t.guessOptWidthClassName},[i("a",{staticClass:"btn js-guess-valid-click-area boss",class:t.getGuessOptBtnClassName(e),attrs:{href:"javascript:;","data-module":"videoPanel","data-target":"grade"},on:{click:function(i){return t.clickOptHandler(i,e)}}},[i("span",{staticClass:"text boss"},[t._v(t._s(e.text))]),t._v(" "),i("span",{staticClass:"odds boss"},[t._v("赔率 "+t._s(e.odds))])]),t._v(" "),t.isShowChosenPercent?i("p",{staticClass:"chosen-percent"},[t._v(t._s(e.cntP)+"人选择")]):t._e()])})),0)])},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},"Kq+r":function(t,e,i){},"N+lH":function(t,e,i){"use strict";i.r(e);var n=i("KLFF"),s=i("vCT9");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);i("fM4c");var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,"c8d2e6c4",null);c.options.__file="src/kbsweb/game/components/Guess/GuessList/GuessItem.vue",e["default"]=c.exports},OBei:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bet-scene layer-joinpre"},[i("div",{staticClass:"bet-target"},[t._v("投注："),i("i",{staticClass:"js-selected"},[t._v(t._s(t.bettingParam.text))])]),t._v(" "),i("div",{staticClass:"bet-options"},t._l(t.bettingBox.currencyMembers,(function(e,n){return i("span",{key:"index",staticClass:"js-bet-opt boss",class:{cur:!t.isUsingInput&&t.currencyCost===+e},attrs:{"data-module":"videoPanel","data-target":"grade"},on:{click:function(i){return t.changeCostOption(e)}}},[t._v("\n            "+t._s(e)+"K币\n        ")])})),0),t._v(" "),i("div",{staticClass:"bet-custom"},[i("input",{ref:"betting-input",class:{selected:t.isUsingInput},attrs:{type:"text",maxlength:"8",placeholder:"请手动输入100的整数倍"},domProps:{value:t.currencyInput},on:{click:t.useInput,input:function(e){return t.updateUserInput(e.target.value)}}})]),t._v(" "),i("div",{staticClass:"bet-odds"},[i("span",{staticClass:"left"},[t._v("实时赔率："),i("i",{staticClass:"js-odds"},[t._v(t._s(t.bettingBox.odds))])]),t._v(" "),i("span",{staticClass:"right"},[t._v("猜对获得："),i("i",{staticClass:"js-will-win"},[t._v(t._s(t.winMoney)+"K币")])]),t._v(" "),i("span",{staticClass:"left"},[t._v("钱包余额："+t._s(t.bettingBox.kbCnt)+"币")])]),t._v(" "),i("BettingBtn",{attrs:{currencyCost:t.currencyCost,odds:+t.bettingBox.odds,disabled:t.disabledSubmit,disabledReason:t.disabledReason},on:{submitBetting:t.submitBetting}})],1)},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},"S2+H":function(t,e,i){"use strict";var n=i("c58n"),s=i.n(n);s.a},ZGsl:function(t,e,i){"use strict";var n=i("G9WS");i("qePV");var s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("opOk")),r={name:"BettingOddsCheck",props:{newOdds:{type:Number},currencyCost:{type:Number}},data:function(){return{disabledSubmit:!1,disabledReason:""}},methods:{submitBetting:function(t){this.$emit("submitBetting",t)}},components:{BettingBtn:a.default}};e.default=r},ahH6:function(t,e,i){"use strict";var n=i("G9WS"),s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("8H4b")),r=a.default;e.default=r},akaD:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowThis?i("div",{staticClass:"guess-layer js-guess-valid-click-area",class:t.themeClass,style:t.wrapPositionStyle},[i("p",{staticClass:"layer-arrow up",style:t.arrowPositionStyle}),t._v(" "),i("a",{staticClass:"layer-close icon-close boss",attrs:{"data-module":"videoPanel","data-target":"guessLayer"},on:{click:t.onBetFinish}}),t._v(" "),i("div",{staticClass:"inner"},[i("BettingLoading",{directives:[{name:"show",rawName:"v-show",value:t.isShowLoadingView,expression:"isShowLoadingView"}],attrs:{theme:t.theme}}),t._v(" "),i("BettingInput",{directives:[{name:"show",rawName:"v-show",value:t.isShowJoinPreView,expression:"isShowJoinPreView"}],attrs:{bettingBox:t.bettingBox,bettingParam:t.bettingParam},on:{submitBetting:t.checkOddsHasChange}}),t._v(" "),i("BettingOddsCheck",{directives:[{name:"show",rawName:"v-show",value:t.isShowOddsCheckView,expression:"isShowOddsCheckView"}],attrs:{newOdds:+t.oddsCheck.odds,currencyCost:t.oddsCheck.currencyCost},on:{submitBetting:t.checkOddsHasChange}}),t._v(" "),i("BettingResult",{directives:[{name:"show",rawName:"v-show",value:t.isShowResultView,expression:"isShowResultView"}],attrs:{currencyScene:t.currencyScene,result:t.result,submitBet:t.submitBet}})],1)]):t._e()},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},bJ7t:function(t,e,i){"use strict";var n=i("BKVO"),s=i.n(n);s.a},c58n:function(t,e,i){},eXHE:function(t,e,i){},f1Nc:function(t,e,i){"use strict";i.r(e);var n=i("E2wK"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},fM4c:function(t,e,i){"use strict";var n=i("5i8p"),s=i.n(n);s.a},"fRO/":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"betting-result"},[t.isSuccess?n("img",{staticClass:"icon-success",attrs:{src:i("nCGE"),alt:""}}):t._e(),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(t.result.msg))]),t._v(" "),t.isKbNotEnough?n("a",{staticClass:"bet-btn js-bet-btn",attrs:{href:"http://sports.qq.com/kbsweb/mycenter.htm#myWallet",target:"_blank"}},[t._v("充值K币")]):t._e()])},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},hZrP:function(t,e,i){"use strict";i.r(e);var n=i("JAcT"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},mHCv:function(t,e,i){"use strict";var n=i("G9WS"),s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("Hygs")),r=a.default;e.default=r},myBI:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"bet-btn js-bet-btn boss",class:{disabled:t.disabled},attrs:{"data-module":"videoPanel","data-target":"guessBtn"},on:{click:t.submit}},[t._v("\n    "+t._s(t.submitText)+"\n")])},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},nCGE:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAbCAMAAAAu7K2VAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAEUUExURUdwTDXBNTXANTbANjbBNjbCNje/NzXBNVWqVTW/NTW/NTW/NTbBNjXANTPMMzXBNS65LjXBNTbBNjbBNjXBNTXANTXANTS/NDXBNTXANTfANze/NzfBNzbBNjXBNT+/PzbANjXANTXBNTTCNDbANjTANDXBNTi8ODDCMDXBNTTBNDXDNTe/NzbANjbANjbBNjW/NTbANjXANTbBNjbANjXBNTbANjbBNjzDPDbANjXANTbBNjPMMzfCNzbBNjXBNTXBNTbBNjbANjXANTXBNTXANTXANTXBNTbBNjXANTXANTTBNDjBODnFOTm9OTXBNTbDNji/ODXANTXBNTXCNTbBNi+/LzW/NTbANjbANjXANTbBNt7S45UAAABbdFJOUwC1yP70cTx8AzBpZXDuCvwL6LeV5KyKRNLlTmFTqZAM/Y/jP8Qx9xsV2lcrIJ+g3EjYi3nF38DGEaNy6wUuiNuFQptaaPby1vhR7ToyFh+hLyQ5nUOtEBiXvJzrk3Y8AAAA/0lEQVQoz4XT11YCMRAG4EjvCyjSQRBQBFE6SkeKDVABRef930N2QmApyc5N8ud8Z9M2hIjq6ZSoVHYIERVSBYCOQyRiINdSIEIo7AG++Ewh8fKFSYOiJZjmD8WJQNzQhfzwRfMZSZcvGj4URpY/Spf7JIfCvckJGAR3hRVFfMyyUY7nSpGUkLyxbAO6u+uNcIx2F0IeddSc3bORBeaw4rPvaWrAQrMFg7+mnDo6XZuZaZUMWrkrfe3tsbg2vxPiLGNPf3BUcxc1ry8P2HqOHGdGA4pqfx+9+95WXJg599LXMqLn3p0hT8Wt4B+5qsjizil8FQUAnVnl5VjrtoOxf3f6TnGpLYEJAAAAAElFTkSuQmCC"},nMsL:function(t,e,i){"use strict";i("qePV");var n=i("LYCE");n(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"BettingBtn",props:{currencyCost:{type:Number},odds:{type:Number},disabled:{type:Boolean},disabledReason:{type:String}},data:function(){return{}},computed:{submitText:function(){return this.disabled?this.disabledReason:"投注".concat(this.currencyCost,"K币")}},methods:{submit:function(){this.disabled||this.$emit("submitBetting",{currencyCost:this.currencyCost,odds:this.odds})}}};e.default=s},oOAO:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShowThis?i("div",{staticClass:"guess-list",class:t.theme},[i("div",{staticClass:"guess-list-header"},[t._v("\n        竞猜\n        "),i("a",{staticClass:"guess-record-click boss",attrs:{href:t.myQuizUrl,target:"_blank","data-module":"videoPanel","data-target":"guessRecord"}},[t._v("\n            我的竞猜\n            "),i("span",{staticClass:"arrow icon-arrow-right-light boss"})])]),t._v(" "),i("div",{staticClass:"guess-record"},[i("a",{staticClass:"guess-record-click boss",attrs:{href:t.myQuizUrl,target:"_blank","data-module":"videoPanel","data-target":"guessRecord"}},[t._v("\n            竞猜记录\n            "),i("span",{staticClass:"arrow icon-arrow-right-light boss"})])]),t._v(" "),t.isShowGuessList?i("ul",t._l(t.guessList,(function(e){return i("li",{staticClass:"guess-item-wrap"},[i("GuessItem",{attrs:{theme:t.theme,data:e,curChoice:t.curChoice},on:{select:t.onSelectGuessOption}})],1)})),0):t._e(),t._v(" "),t.isShowLoading?i("div",{staticClass:"tips loading"},[t._v("\n        加载中...\n    ")]):t._e(),t._v(" "),t.isShowEmpty?i("div",{staticClass:"tips empty"},[t._v("\n        暂无竞猜\n    ")]):t._e(),t._v(" "),t.isShowError?i("div",{staticClass:"tips error"},[t._v("\n        网络错误，请稍后重试\n    ")]):t._e(),t._v(" "),i("BettingBox",{attrs:{theme:t.theme,bettingParam:t.bettingParam,position:t.position,curChoice:t.curChoice},on:{betFinish:t.onBetFinish}})],1):t._e()},s=[];n._withStripped=!0,i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))},ocfk:function(t,e,i){"use strict";var n=i("Kq+r"),s=i.n(n);s.a},opOk:function(t,e,i){"use strict";i.r(e);var n=i("myBI"),s=i("pZyX");for(var a in s)"default"!==a&&function(t){i.d(e,t,(function(){return s[t]}))}(a);var r=i("KHd+"),c=Object(r["a"])(s["default"],n["a"],n["b"],!1,null,null,null);c.options.__file="src/kbsweb/game/components/Guess/BettingBox/BettingBtn.vue",e["default"]=c.exports},pZyX:function(t,e,i){"use strict";i.r(e);var n=i("nMsL"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},rXOt:function(t,e,i){"use strict";i.r(e);var n=i("ZGsl"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},swt2:function(t,e,i){"use strict";var n=i("eXHE"),s=i.n(n);s.a},vCT9:function(t,e,i){"use strict";i.r(e);var n=i("vLxA"),s=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=s.a},vLxA:function(t,e,i){"use strict";var n=i("G9WS"),s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5PDf")),r={WORD:"1",PIC:"2",PIC_WORD:"3",BIGPIC_WORD:"4",VS:"5",SCORE:"6",EXTRA_PIC:"7"},c={name:"GuessItem",props:{theme:{type:String},data:{type:Object,default:function(){return{gid:"",mid:"",choiceType:"",choiceOpts:[],participatorCnt:"",title:"",active:"",extraInfo:{tcId:"",bets:"",liveScore:"",lotteryName:""}}}},curChoice:{type:Object}},data:function(){return{}},computed:{guessClassName:function(){var t=[];return this.theme&&t.push(this.theme),"1"!==this.data.active&&t.push("disabled"),t},guessOptWidthClassName:function(){var t=this.data.choiceOpts;return 2===t.length?"count-2":3===t.length?"count-3":t.length>3?"count-4":void 0},isContainImg:function(){var t=this.data.choiceType;return t===r.PIC_WORD||t===r.EXTRA_PIC},optImgs:function(){var t=this.data.choiceOpts;if(this.isContainImg&&t&&t.length>0){var e,i=(0,a.default)(e=(0,a.default)(t).call(t,(function(t){return t}))).call(e,(function(t){return t.img}));if(i.length===t.length)return[i[0].img,i[i.length-1].img]}return null},isShowOptImgs:function(){return this.optImgs&&this.optImgs.length>0},isShowParticipatorCount:function(){return this.data.participatorCnt>0},isShowChosenPercent:function(){var t=this.data.choiceType!==r.SCORE,e=this.data.choiceOpts&&this.data.choiceOpts.length<5,i=this.data.participatorCnt>0;return t&&e&&i}},methods:{isCurrentOptDisabled:function(t){return"1"!==this.data.active||"1"!==t.active},getGuessOptBtnClassName:function(t){var e=[];return this.isCurrentOptDisabled(t)?e.push("disabled"):this.curChoice.mid===this.data.mid&&this.curChoice.gid===this.data.gid&&this.curChoice.choiceId===t.choiceId&&e.push("selected"),e},clickOptHandler:function(t,e){if(!this.isCurrentOptDisabled(e)){var i=e.text,n=e.choiceId,s=this.data,a=s.mid,r=s.gid,c=s.extraInfo,o=c.tcId,u=c.lotteryName,d={text:i,mid:a,gid:r,choiceId:n,tcId:o,lotteryName:u},l=this.$refs.elGuessItem,h=t.currentTarget,f={w1:l.offsetWidth,h1:l.offsetHeight,x1:l.offsetLeft,y1:l.offsetTop,w2:h.offsetWidth,h2:h.offsetHeight,x2:h.offsetLeft,y2:h.offsetTop};this.$emit("select",{bettingParam:d,position:f})}}},watch:{},mounted:function(){},beforeDestroy:function(){},components:{}};e.default=c},xbxw:function(t,e,i){},yBuT:function(t,e,i){"use strict";var n=i("G9WS");i("oVuX");var s=i("LYCE");s(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("LYCE")),r=n(i("HnXd")),c=n(i("qjzJ")),o=n(i("RXMP")),u=n(i("fHi0")),d=n(i("5PDf")),l=n(i("OWCx")),h=n(i("+oHS")),f=n(i("ZbhI")),m=n(i("Kwsy")),p=n(i("04Ix")),g=n(i("o+MX")),v=n(i("zLi2")),b=n(i("i5y0")),_=n(i("FLGM")),C=i("L2JU"),N=n(i("2HEe")),S=i("Ffdx"),E=n(i("EPdS")),y=n(i("1eaY")),I=n(i("1PCU")),B=n(i("1ix6")),O=i("SauM");function w(t,e){var i=(0,h.default)(t);if(l.default){var n=(0,l.default)(t);e&&(n=(0,d.default)(n).call(n,(function(e){return(0,u.default)(t,e).enumerable}))),i.push.apply(i,n)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i,n=null!=arguments[e]?arguments[e]:{};if(e%2)(0,o.default)(i=w(n,!0)).call(i,(function(e){(0,p.default)(t,e,n[e])}));else if(c.default)(0,r.default)(t,(0,c.default)(n));else{var s;(0,o.default)(s=w(n)).call(s,(function(e){(0,a.default)(t,e,(0,u.default)(n,e))}))}}return t}var L=function(t,e){var i=e.code,n=void 0===i?0:i,s=e.msg,a=void 0===s?"":s,r=e.isFetching,c=void 0!==r&&r;t.code=n,t.msg=a,t.isFetching=c},R=function(t){var e;return(0,_.default)(e=(0,b.default)(t)).call(e,(function(t){var e,i=(0,v.default)(t,2),n=i[0],s=i[1];return(0,g.default)(e="".concat(n,"=")).call(e,encodeURIComponent(s))})).join("&")},P=20,T=10,x={name:"BettingBox",props:{theme:{type:String,default:""},bettingParam:{},position:{type:Object},curChoice:{type:Object}},data:function(){return{isShow:!1,currencyScene:S.allScene.SCENE_JOIN_PRE_LOADING,hideTimer:0,bettingBox:{kbCnt:"-",active:"0",currencyMembers:["100","200","500","1000","2000","5000"],defaultCurrencyMember:"200",odds:"0",limitNum:"50000",minNum:"100",extraInfo:{tcId:"",bets:"",liveScore:"",lotteryName:""},inited:!1,isFetching:!1,code:0,msg:""},oddsCheck:{currencyCost:0,odds:0,inited:!1,isFetching:!1,code:0,msg:""},submitBet:{inited:!1,isFetching:!1,code:0,msg:""}}},computed:A({themeClass:function(){return"dark-theme"===this.theme?"in-game-layer":"pre-game-layer"},isShowThis:function(){return this.curChoice.mid&&this.curChoice.gid&&this.curChoice.choiceId&&this.bettingParam&&this.position},isShowLoadingView:function(){return this.currencyScene===S.allScene.SCENE_JOIN_PRE_LOADING||this.currencyScene===S.allScene.SCENE_JOIN_LOADING},isShowJoinPreView:function(){return this.currencyScene===S.allScene.SCENE_JOIN_PRE},isShowOddsCheckView:function(){return this.currencyScene===S.allScene.SCENE_ODD_UPDATE},isShowResultView:function(){return this.currencyScene===S.allScene.SCENE_JOIN_SUCCESS||this.currencyScene===S.allScene.SCENE_JOIN_FAILURE||this.currencyScene===S.allScene.SCENE_ODD_FAILURE||this.currencyScene===S.allScene.SCENE_JOIN_PRE_FAILURE},result:function(){switch(this.currencyScene){case S.allScene.SCENE_JOIN_SUCCESS:case S.allScene.SCENE_JOIN_FAILURE:return this.submitBet;case S.allScene.SCENE_ODD_FAILURE:return this.oddsCheck;case S.allScene.SCENE_JOIN_PRE_FAILURE:return this.bettingBox}},wrapPositionStyle:function(){var t=this.position,e=(t.w1,t.h1,t.x1),i=(t.y1,t.w2,t.h2),n=(t.x2,t.y2);return{top:"".concat(n+i+T,"px"),left:"".concat(e,"px")}},arrowPositionStyle:function(){var t=this.position,e=(t.w1,t.h1,t.x1),i=(t.y1,t.w2),n=(t.h2,t.x2);t.y2;return{top:"".concat(-T,"px"),left:"".concat(n-e+(i-P)/2,"px")}},boss:function(){return{columnId:this.matchDetail.competitionId,mid:this.matchDetail.matchInfo.mid,matchStatus:this.matchDetail.matchInfo.matchPeriod,liveId:this.matchDetail.tvLiveId||""}}},(0,C.mapState)(["matchDetail"])),watch:{bettingParam:{handler:function(t){t&&t.gid&&this.fetchBettingBox(t)},deep:!0}},methods:{fetchJoinPre:function(t){var e,i=t.gid,n=t.choiceId,s=t.tcId,a=t.lotteryName,r=R({gid:i,choiceId:n,tcId:s,lotteryName:a});return(0,N.default)((0,g.default)(e="".concat(window.GAME_SERVER,"/guess/tcJoinPre?")).call(e,r),{timeout:5e3,jsonpCallbackFunction:"tcJoinPreCallback".concat(Math.floor(1e6*Math.random()))}).then((function(t){return t.json()})).then((function(t){var e=t.code,i=t.data,n=t.msg;return e===S.errorTypes.ERROR_NEED_LOGIN&&window.sportsWebApi.userLogin(),{code:e,data:i,msg:n}}))},fetchBettingBox:function(t){var e=this,i=t.gid,n=t.choiceId,s=t.tcId,a=t.lotteryName;return L(this.bettingBox,{isFetching:!0}),this.currencyScene=S.allScene.SCENE_JOIN_PRE_LOADING,this.fetchJoinPre({gid:i,choiceId:n,tcId:s,lotteryName:a}).then((function(t){var i=t.code,n=t.data,s=t.msg;0===i?(e.bettingBox=A({},e.bettingBox,{},n),e.$nextTick((function(){e.currencyScene=S.allScene.SCENE_JOIN_PRE}))):(e.currencyScene=S.allScene.SCENE_JOIN_PRE_FAILURE,e.betFinishDelay()),L(e.bettingBox,{code:i,msg:s})})).catch((function(t){L(e.bettingBox,{code:-1,msg:"网络错误"})}))},checkOddsHasChange:function(t){var e=this,i=t.currencyCost,n=t.odds;L(this.oddsCheck,{isFetching:!0}),this.currencyScene=S.allScene.SCENE_JOIN_PRE_LOADING;var s=this.bettingParam,a=s.gid,r=s.choiceId,c=s.tcId,o=s.lotteryName;return this.fetchJoinPre({gid:a,choiceId:r,tcId:c,lotteryName:o}).then((function(t){var s=t.code,a=t.data,r=t.msg;0===s?(e.oddsCheck.odds=a.odds,+e.oddsCheck.odds===n?e.submitBetting({currencyCost:i,odds:n}):(e.oddsCheck.currencyCost=i,e.currencyScene=S.allScene.SCENE_ODD_UPDATE)):(e.currencyScene=S.allScene.SCENE_ODD_FAILURE,e.betFinishDelay()),L(e.oddsCheck,{code:s,msg:r})})).catch((function(t){L(e.oddsCheck,{code:-1,msg:"网络错误"})}))},submitBetting:function(t){var e,i=this,n=t.currencyCost,s=t.odds;L(this.submitBet,{isFetching:!0}),this.currencyScene=S.allScene.SCENE_JOIN_LOADING;var a=R(A({},this.bettingBox.extraInfo,{gid:this.bettingParam.gid,choiceId:this.bettingParam.choiceId,cnt:n,odds:s}));return(0,N.default)((0,g.default)(e="".concat(window.GAME_SERVER,"/guess/tcJoin?")).call(e,a),{timeout:5e3,jsonpCallbackFunction:"tcJoinCallback".concat(Math.floor(1e6*Math.random()))}).then((function(t){return t.json()})).then((function(t){var e=t.code,i=t.data,n=t.msg;return e===S.errorTypes.ERROR_NEED_LOGIN&&window.sportsWebApi.userLogin(),{code:e,data:i,msg:n}})).then((function(t){var e=t.code,n=t.msg;0===e?(i.currencyScene=S.allScene.SCENE_JOIN_SUCCESS,n="投注成功",i.$store.dispatch("getKbBalance"),i.betFinishDelay()):7===e?(i.currencyScene=S.allScene.SCENE_JOIN_FAILURE,n="K币不足，请先充值",(0,m.default)((function(){window.open("mycenter.htm#myWallet"),(0,O.triggerBoss)(A({},i.boss,{module:"videoPanel",target:"charge",useraction:"click"}))}),1500)):(i.currencyScene=S.allScene.SCENE_JOIN_FAILURE,i.betFinishDelay()),L(i.submitBet,{code:e,msg:n})})).catch((function(t){L(i.submitBet,{code:-1,msg:"网络错误"})}))},onSubmitBetting:function(t){var e=t.currencyCost,i=t.odds;this.checkOddsHasChange({currencyCost:e,odds:i})},onBetFinish:function(){this.$emit("betFinish")},betFinishDelay:function(t){var e=this;this.hideTimer&&(clearTimeout(this.hideTimer),this.hideTimer=0),this.hideTimer=(0,m.default)((function(){e.onBetFinish()}),t||1500)},checkIsClickThis:function(t){if(this.isShowThis){var e=10,i="js-guess-valid-click-area",n=t.target,s=0;while(n&&s<e){var a;if(n.className&&(0,f.default)(n.className)&&(0,f.default)(a=n.className).call(a,i)>-1)return;if(!n.parentNode)break;n=n.parentNode,s++}this.isShowThis&&this.onBetFinish()}}},created:function(){document.addEventListener("click",this.checkIsClickThis)},beforeDestroy:function(){document.removeEventListener("click",this.checkIsClickThis)},components:{BettingInput:y.default,BettingLoading:E.default,BettingOddsCheck:I.default,BettingResult:B.default}};e.default=x},"zjD/":function(t,e,i){"use strict";var n=i("LYCE");n(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"BettingLoading",props:{text:{type:String,default:"正在加载..."},theme:{type:String,default:""}},data:function(){return{}},computed:{color:function(){return"dark-theme"===this.theme?"white":"grey"}}};e.default=s}}]);
//# sourceMappingURL=0__d4fbedc879297111e368.js.map