!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","tvp"],t):t(jQuery,tvp)}(function(t,e){"use strict";function i(e){"object"==typeof e&&t.extend(o,e),this.lastPlay="",this.opts=o,this.ele=t("#"+o.playBox),this.init()}var o={id:"",type:"cid",playBox:"playerBox",playWidth:400,playHeight:300,autoPlay:!0,cidNum:20,isMute:!0,volume:0,isFirst:!0,onLoad:function(){},onCidText:function(){}},a=!1,l=null,s=null,n={};return i.prototype.loadPlayer=function(){var t=this;l&&l.getPlayerType?t.loaded():setTimeout(function(){t.loadPlayer.call(t)},1e3)},i.prototype.createPlayer=function(){var t=this;l.create(n),t.opts.isMute&&(l.onplay=function(){var t=l.getPlayer();t&&t.mute&&t.mute()}),l.onvolumechange=function(e){t.opts.isFirst?t.opts.isFirst=!1:(t.opts.isMute=!1,t.opts.volume=30)},l.getPlayerType?t.loaded():t.loadPlayer()},i.prototype.resizePlayer=function(e,i,o){var a=this;if(l&&l.getPlayerType){e="number"==typeof e?e:"100%",i="number"==typeof i?i:"";var s=l.getPlayerType();if("flash"===s||"liveflash"===s){var n=l.getPlayer();n.setAttribute("width",e),n.setAttribute("height",i)}else"html5"===s&&a.ele.find(".tenvideo_player").css({width:e,height:i});t.isFunction(o)&&o()}},i.prototype.loaded=function(){var t=this;a&&t.resizePlayer(t.opts.playWidth,t.opts.playHeight,function(){t.ele.css("opacity","1")}),t.opts.onLoad()},i.prototype.init=function(){var i=this;if(i.opts.id=i.opts.id+"",i.lastPlay==i.opts.id)return void i.opts.onLoad();if(l=null,s=null,s=new e.VideoInfo,a=!!(i.opts.playWidth<400||i.opts.playHeight<300),a&&i.ele.css("opacity","0"),n={width:a?400:i.opts.playWidth,height:a?300:i.opts.playWidth,video:s,modId:i.opts.playBox,autoplay:i.opts.autoPlay,vodFlashSkin:"//imgcache.qq.com/minivideo_v1/vd/res/skins/TencentPlayerMiniSkin.swf",loadingadAutoplay:!0,flashWmode:"transparent",vodFlashExtVars:{clientbar:0},plugins:{AppBanner:!1,AppRecommend:!1,AppFollow:!1}},"zhibo"==i.opts.type&&(s.setChannelId(i.opts.id),n.type=1,n.liveFlashExtVars={volume:i.opts.volume,skin:"skins/TencentPlayerLiveMiniSkinV4.swf"}),l=new e.Player,"vid"==i.opts.type&&s.setVid(i.opts.id),"cid"==i.opts.type){var o=0,p=[],r=0;t.ajax({method:"GET",url:"http://data.video.qq.com/fcgi-bin/data",data:{tid:"426",idlist:i.opts.id,appid:"10001009",appkey:"c5a3e1529a7ba805",otype:"json"},dataType:"jsonp",cache:!0,scriptCharset:"utf-8"}).done(function(t){if(t&&!t.errorno){var e=t.results[0].fields,a=e.videos||[];p=a.slice(0,i.opts.cidNum),r=p.length,s.setVid(p[0].c_vid),i.opts.onCidText({title:p[0].c_title,url:p[0].c_play_url}),delete n.type,l.ongetnext=function(){var t=p[o+1];return o<r-1&&(o++,s.clear(),s.setVid(t.c_vid),l.play(s),i.opts.onCidText({title:t.c_title,url:t.c_play_url}),s)},i.createPlayer()}})}else i.createPlayer();i.lastPlay=i.opts.id,i.player=l},window.tvpNew=i,i});/*  |xGv00|45fd130871d810626e4de8ef094b4a81 */